<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<title>C/C++ Interface For SQLite Version 3</title>
<style type="text/css">
body {
    margin: auto;
    font-family: Verdana, sans-serif;
    padding: 8px 1%;
}

a { color: #45735f }
a:visited { color: #734559 }

.logo { position:absolute; margin:3px; }
.tagline {
  float:right;
  text-align:right;
  font-style:italic;
  width:300px;
  margin:12px;
  margin-top:58px;
}

.toolbar {
  text-align: center;
  line-height: 1.6em;
  margin: 0;
  padding: 0px 8px;
}
.toolbar a { color: white; text-decoration: none; padding: 6px 12px; }
.toolbar a:visited { color: white; }
.toolbar a:hover { color: #80a796; background: white; }

.content    { margin: 5%; }
.content dt { font-weight:bold; }
.content dd { margin-bottom: 25px; margin-left:20%; }
.content ul { padding:0px; padding-left: 15px; margin:0px; }

/* rounded corners */
.se  { background: url(images/se.png) 100% 100% no-repeat #80a796}
.sw  { background: url(images/sw.png) 0% 100% no-repeat }
.ne  { background: url(images/ne.png) 100% 0% no-repeat }
.nw  { background: url(images/nw.png) 0% 0% no-repeat }

/* Things for "fancyformat" documents start here. */
.fancy img+p {font-style:italic}
.fancy .codeblock i { color: darkblue; }
.fancy h1,.fancy h2,.fancy h3,.fancy h4 {font-weight:normal;color:#80a796}
.fancy h2 { margin-left: 10px }
.fancy h3 { margin-left: 20px }
.fancy h4 { margin-left: 30px }
.fancy th {white-space:nowrap;text-align:left;border-bottom:solid 1px #444}
.fancy th, .fancy td {padding: 0.2em 1ex; vertical-align:top}
.fancy #toc a        { color: darkblue ; text-decoration: none }
.fancy .todo         { color: #AA3333 ; font-style : italic }
.fancy .todo:before  { content: 'TODO:' }
.fancy p.todo        { border: solid #AA3333 1px; padding: 1ex }
.fancy img { display:block; }
.fancy :link:hover, .fancy :visited:hover { background: wheat }
.fancy p,.fancy ul,.fancy ol { margin: 1em 5ex }
.fancy li p { margin: 1em 0 }
/* End of "fancyformat" specific rules. */

</style>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  
</head>
<body>
<div><!-- container div to satisfy validator -->

<a href="index.html">
<img class="logo" src="images/SQLite.gif" alt="SQLite Logo"
 border="0"></a>
<div><!-- IE hack to prevent disappearing logo--></div>
<div class="tagline">Small. Fast. Reliable.<br>Choose any three.</div>

<table width=100% style="clear:both"><tr><td>
  <div class="se"><div class="sw"><div class="ne"><div class="nw">
  <table width=100% style="padding:0;margin:0;cell-spacing:0"><tr>
  <td width=100%>
  <div class="toolbar">
    <a href="about.html">About</a>
    <a href="sitemap.html">Sitemap</a>
    <a href="docs.html">Documentation</a>
    <a href="download.html">Download</a>
    <a href="copyright.html">License</a>
    <a href="news.html">News</a>
    <a href="support.html">Support</a>
  </div>
<td>
    <div style="padding:0 1em 0px 0;white-space:nowrap">
    <form name=f method="GET" action="http://www.sqlite.org/search">
      <input id=q name=q type=text value=""
       onfocus="entersearch()" onblur="leavesearch()" style="width:24ex;padding:1px 1ex; border:solid white 1px; font-size:0.9em">
      <input type=submit value="Go" style="border:solid white 1px;background-color:#80a796;color:white;font-size:0.9em;padding:0 1ex">
    </form>
    </div>
  </table>
</div></div></div></div>
</td></tr></table>
<div class=startsearch></div>
  
<script>
  gMsg = "Search SQLite Docs..."
  function entersearch() {
    var q = document.getElementById("q");
    if( q.value == gMsg ) { q.value = "" }
    q.style.color = "black"
    q.style.fontStyle = "normal"
  }
  function leavesearch() {
    var q = document.getElementById("q");
    if( q.value == "" ) { 
      q.value = gMsg
      q.style.color = "#80a796"
      q.style.fontStyle = "italic"
    }
  }
  function initsearch() {
    var q = document.getElementById("q");
    q.value = ""
      q.value = gMsg
      q.style.color = "#80a796"
      q.style.fontStyle = "italic"
  }
  window.onload = initsearch
</script>


<h2 class=pdf_section>C/C++ Interface For SQLite Version 3</h2>



<p>This page defined the C-language interface to SQLite.</p>

<p>This is not a tutorial.  These
pages are designed to be precise, not easy to read.
For a tutorial introduction see
<a href="quickstart.html">SQLite In 3 Minutes Or Less</a> and/or
the <a href="cintro.html">Introduction To The SQLite C/C++ Interface</a>.
</p>

<p>This page contains all C-language interface information
in a single HTML file.  The same information is also
available broken out into 
<a href="c3ref/intro.html">lots of small pages</a>
for easier viewing, if you prefer.</p>

<p>This document is created by a script which scans comments
in the source code files.</p>

<hr>



<h2>Experimental And Deprecated Interfaces</h2>

<p>SQLite interfaces can be subdivided into three categories:</p>

<ol>
<li>Stable</li>
<li>Experimental</li>
<li>Deprecated</li>
</ol>

<p>Stable interfaces will be maintained indefinitely in a backwards
compatible way.  An application that uses only stable interfaces
should always be able to relink against a newer version of SQLite
without any changes.</p>

<p>Experiemental interfaces are subject to change.  
Applications that use experimental interfaces
may need to be modified when upgrading to a newer SQLite release, though
this is rare.
When new interfaces are added to SQLite, they generally begin
as experimental interfaces.  After an interface has been in use for
a while and the developers are confident that the design of the interface
is sound and worthy of long-term support, the interface is marked
as stable.</p>

<p>Deprecated interfaces have been superceded by better methods of
accomplishing the same thing and should be avoided in new applications.
Deprecated interfaces continue to be supported for the sake of
backwards compatibility.  At some point in the future, it is possible
that deprecated interfaces may be removed.</p>

<p>Key points:</p>

<ul>
<li>Experimental interfaces are subject to change and/or removal 
at any time.</li>

<li>Deprecated interfaces should not be used in new code and might
be removed in some future release.</li>
</ul>

<hr>
<h2>Objects:</h2>
<p>Note: Objects marked with "<a href="capi3ref.html"><small><i>exp</i></small></a>"
are <a href="capi3ref.html">experimental</a> and objects marked with
"<a href="capi3ref.html"><small><i>(obs)</i></small></a>" are <a href="capi3ref.html">deprecated</a>.</p>
<table width="100%" cellpadding="5"><tr>
<td valign="top"><ul><li><a href="#sqlite3">sqlite3</a></li>
<li><a href="#sqlite3_backup">sqlite3_backup</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_blob">sqlite3_blob</a></li>
<li><a href="#sqlite3_context">sqlite3_context</a></li>
<li><a href="#sqlite3_file">sqlite3_file</a></li>
<li><a href="#sqlite3_int64">sqlite3_int64</a></li>
<li><a href="#sqlite3_int64">sqlite3_uint64</a></li>
<li><a href="#sqlite3_int64">sqlite_int64</a></li>
</ul></td>
<td valign="top"><ul><li><a href="#sqlite3_int64">sqlite_uint64</a></li>
<li><a href="#sqlite3_io_methods">sqlite3_io_methods</a></li>
<li><a href="#sqlite3_mem_methods">sqlite3_mem_methods</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_module">sqlite3_module</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_mutex">sqlite3_mutex</a></li>
<li><a href="#sqlite3_mutex_methods">sqlite3_mutex_methods</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_pcache">sqlite3_pcache</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_pcache_methods">sqlite3_pcache_methods</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
</ul></td>
<td valign="top"><ul><li><a href="#sqlite3_stmt">sqlite3_stmt</a></li>
<li><a href="#sqlite3_temp_directory">sqlite3_temp_directory</a></li>
<li><a href="#sqlite3_value">sqlite3_value</a></li>
<li><a href="#sqlite3_vfs">sqlite3_vfs</a></li>
<li><a href="#sqlite3_vtab">sqlite3_vtab</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_vtab_cursor">sqlite3_vtab_cursor</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
</ul></td>
</tr></table>
<hr>

<h2>Constants:</h2>
<p>Note: Constants marked with "<a href="capi3ref.html"><small><i>(exp)</i></small></a>"
are <a href="capi3ref.html">experimental</a> and constants marked with
"<a href="capi3ref.html"><small><i>(obs)</i></small></a>" are <a href="capi3ref.html">deprecated</a></p>
<table width="100%" cellpadding="5"><tr>
<td valign="top"><ul><li><a href="#SQLITE_ABORT">SQLITE_ABORT</a></li>
<li><a href="#SQLITE_ACCESS_EXISTS">SQLITE_ACCESS_EXISTS</a></li>
<li><a href="#SQLITE_ACCESS_EXISTS">SQLITE_ACCESS_READ</a></li>
<li><a href="#SQLITE_ACCESS_EXISTS">SQLITE_ACCESS_READWRITE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_ALTER_TABLE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_ANALYZE</a></li>
<li><a href="#SQLITE_ANY">SQLITE_ANY</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_ATTACH</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_AUTH</a></li>
<li><a href="#SQLITE_BLOB">SQLITE_BLOB</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_BUSY</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_CANTOPEN</a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_GETMALLOC</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_GETMUTEX</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_GETPCACHE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_HEAP</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_LOG</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_LOOKASIDE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MALLOC</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MEMSTATUS</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MULTITHREAD</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MUTEX</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PAGECACHE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PCACHE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SCRATCH</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SERIALIZED</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SINGLETHREAD</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_ABORT">SQLITE_CONSTRAINT</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_COPY</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_CORRUPT</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_INDEX</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_TABLE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_TEMP_INDEX</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_TEMP_TABLE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_TEMP_TRIGGER</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_TEMP_VIEW</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_TRIGGER</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_VIEW</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_CREATE_VTABLE</a></li>
<li><a href="#SQLITE_DBCONFIG_LOOKASIDE">SQLITE_DBCONFIG_LOOKASIDE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_DBSTATUS_LOOKASIDE_USED">SQLITE_DBSTATUS_LOOKASIDE_USED</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DELETE</a></li>
<li><a href="#SQLITE_DENY">SQLITE_DENY</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DETACH</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_DONE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_INDEX</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_TABLE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_TEMP_INDEX</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_TEMP_TABLE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_TEMP_TRIGGER</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_TEMP_VIEW</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_TRIGGER</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_VIEW</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_DROP_VTABLE</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_EMPTY</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_ERROR</a></li>
<li><a href="#SQLITE_FCNTL_LOCKSTATE">SQLITE_FCNTL_LOCKSTATE</a></li>
<li><a href="#SQLITE_BLOB">SQLITE_FLOAT</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_FORMAT</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_FULL</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_FUNCTION</a></li>
<li><a href="#SQLITE_FCNTL_LOCKSTATE">SQLITE_GET_LOCKPROXYFILE</a></li>
<li><a href="#SQLITE_DENY">SQLITE_IGNORE</a></li>
<li><a href="#SQLITE_INDEX_CONSTRAINT_EQ">SQLITE_INDEX_CONSTRAINT_EQ</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_INDEX_CONSTRAINT_EQ">SQLITE_INDEX_CONSTRAINT_GE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_INDEX_CONSTRAINT_EQ">SQLITE_INDEX_CONSTRAINT_GT</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_INDEX_CONSTRAINT_EQ">SQLITE_INDEX_CONSTRAINT_LE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_INDEX_CONSTRAINT_EQ">SQLITE_INDEX_CONSTRAINT_LT</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_INDEX_CONSTRAINT_EQ">SQLITE_INDEX_CONSTRAINT_MATCH</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_INSERT</a></li>
<li><a href="#SQLITE_BLOB">SQLITE_INTEGER</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_INTERNAL</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_INTERRUPT</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC16K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC1K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC2K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC32K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC4K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC512</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC64K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC8K</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_SAFE_APPEND</a></li>
<li><a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_SEQUENTIAL</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_IOERR</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_ACCESS</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_CHECKRESERVEDLOCK</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_CLOSE</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_DELETE</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_DIR_CLOSE</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_DIR_FSYNC</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_FSTAT</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_FSYNC</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_LOCK</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_NOMEM</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_RDLOCK</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_READ</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_SHORT_READ</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_TRUNCATE</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_UNLOCK</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_WRITE</a></li>
<li><a href="#SQLITE_FCNTL_LOCKSTATE">SQLITE_LAST_ERRNO</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_ATTACHED</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_COLUMN</a></li>
</ul></td>
<td valign="top"><ul><li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_COMPOUND_SELECT</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_EXPR_DEPTH</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_FUNCTION_ARG</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_LENGTH</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_LIKE_PATTERN_LENGTH</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_SQL_LENGTH</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_TRIGGER_DEPTH</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_VARIABLE_NUMBER</a></li>
<li><a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_VDBE_OP</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_LOCKED</a></li>
<li><a href="#SQLITE_IOERR_ACCESS">SQLITE_LOCKED_SHAREDCACHE</a></li>
<li><a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_EXCLUSIVE</a></li>
<li><a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_NONE</a></li>
<li><a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_PENDING</a></li>
<li><a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_RESERVED</a></li>
<li><a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_SHARED</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_MISMATCH</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_MISUSE</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_FAST</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_RECURSIVE</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_LRU</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_LRU2</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_MASTER</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_MEM</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_MEM2</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_OPEN</a></li>
<li><a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_PRNG</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_NOLFS</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_NOMEM</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_NOTADB</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_NOTFOUND</a></li>
<li><a href="#SQLITE_BLOB">SQLITE_NULL</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_OK</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_AUTOPROXY</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_CREATE</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_DELETEONCLOSE</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_EXCLUSIVE</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_FULLMUTEX</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_MAIN_DB</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_MAIN_JOURNAL</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_MASTER_JOURNAL</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_NOMUTEX</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_PRIVATECACHE</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READONLY</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READWRITE</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SHAREDCACHE</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SUBJOURNAL</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_TEMP_DB</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_TEMP_JOURNAL</a></li>
<li><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_TRANSIENT_DB</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_PERM</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_PRAGMA</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_PROTOCOL</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_RANGE</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_READ</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_READONLY</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_REINDEX</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_ROW</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_SAVEPOINT</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_SCHEMA</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_SELECT</a></li>
<li><a href="#SQLITE_FCNTL_LOCKSTATE">SQLITE_SET_LOCKPROXYFILE</a></li>
<li><a href="#SQLITE_SOURCE_ID">SQLITE_SOURCE_ID</a></li>
<li><a href="#SQLITE_STATIC">SQLITE_STATIC</a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_MALLOC_SIZE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_MEMORY_USED</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_PAGECACHE_OVERFLOW</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_PAGECACHE_SIZE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_PAGECACHE_USED</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_PARSER_STACK</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_SCRATCH_OVERFLOW</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_SCRATCH_SIZE</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_SCRATCH_USED</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STMTSTATUS_FULLSCAN_STEP">SQLITE_STMTSTATUS_FULLSCAN_STEP</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_STMTSTATUS_FULLSCAN_STEP">SQLITE_STMTSTATUS_SORT</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#SQLITE_SYNC_DATAONLY">SQLITE_SYNC_DATAONLY</a></li>
<li><a href="#SQLITE_SYNC_DATAONLY">SQLITE_SYNC_FULL</a></li>
<li><a href="#SQLITE_SYNC_DATAONLY">SQLITE_SYNC_NORMAL</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_ALWAYS</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_ASSERT</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_BENIGN_MALLOC_HOOKS</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_BITVEC_TEST</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_FAULT_INSTALL</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_FIRST</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_ISKEYWORD</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_LAST</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_OPTIMIZATIONS</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_PENDING_BYTE</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_PRNG_RESET</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_PRNG_RESTORE</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_PRNG_SAVE</a></li>
<li><a href="#SQLITE_TESTCTRL_ALWAYS">SQLITE_TESTCTRL_RESERVE</a></li>
<li><a href="#SQLITE_BLOB">SQLITE_TEXT</a></li>
<li><a href="#SQLITE_ABORT">SQLITE_TOOBIG</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_TRANSACTION</a></li>
<li><a href="#SQLITE_STATIC">SQLITE_TRANSIENT</a></li>
<li><a href="#SQLITE_ALTER_TABLE">SQLITE_UPDATE</a></li>
<li><a href="#SQLITE_ANY">SQLITE_UTF16</a></li>
<li><a href="#SQLITE_ANY">SQLITE_UTF16BE</a></li>
<li><a href="#SQLITE_ANY">SQLITE_UTF16LE</a></li>
<li><a href="#SQLITE_ANY">SQLITE_UTF16_ALIGNED</a></li>
<li><a href="#SQLITE_ANY">SQLITE_UTF8</a></li>
<li><a href="#SQLITE_SOURCE_ID">SQLITE_VERSION</a></li>
<li><a href="#SQLITE_SOURCE_ID">SQLITE_VERSION_NUMBER</a></li>
</ul></td>
</tr></table>
<hr>

<h2>Functions:</h2>
<p>Note: Functions marked with "<a href="capi3ref.html"><small><i>(exp)</i></small></a>"
are <a href="capi3ref.html">experimental</a> and functions marked with
<a href="capi3ref.html"><small><i>(obs)</i></small></a> are <a href="capi3ref.html">deprecated</a>.</p>
<table width="100%" cellpadding="5"><tr>
<td valign="top"><ul><li><a href="#sqlite3_aggregate_context">sqlite3_aggregate_context</a></li>
<li><a href="#sqlite3_aggregate_count">sqlite3_aggregate_count</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(obs)</i></small></a></li>
<li><a href="#sqlite3_auto_extension">sqlite3_auto_extension</a></li>
<li><a href="#sqlite3_backup_finish">sqlite3_backup_finish</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_backup_finish">sqlite3_backup_init</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_backup_finish">sqlite3_backup_pagecount</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_backup_finish">sqlite3_backup_remaining</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_backup_finish">sqlite3_backup_step</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_blob</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_double</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_int</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_int64</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_null</a></li>
<li><a href="#sqlite3_bind_parameter_count">sqlite3_bind_parameter_count</a></li>
<li><a href="#sqlite3_bind_parameter_index">sqlite3_bind_parameter_index</a></li>
<li><a href="#sqlite3_bind_parameter_name">sqlite3_bind_parameter_name</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_text</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_text16</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_value</a></li>
<li><a href="#sqlite3_bind_blob">sqlite3_bind_zeroblob</a></li>
<li><a href="#sqlite3_blob_bytes">sqlite3_blob_bytes</a></li>
<li><a href="#sqlite3_blob_close">sqlite3_blob_close</a></li>
<li><a href="#sqlite3_blob_open">sqlite3_blob_open</a></li>
<li><a href="#sqlite3_blob_read">sqlite3_blob_read</a></li>
<li><a href="#sqlite3_blob_write">sqlite3_blob_write</a></li>
<li><a href="#sqlite3_busy_handler">sqlite3_busy_handler</a></li>
<li><a href="#sqlite3_busy_timeout">sqlite3_busy_timeout</a></li>
<li><a href="#sqlite3_changes">sqlite3_changes</a></li>
<li><a href="#sqlite3_clear_bindings">sqlite3_clear_bindings</a></li>
<li><a href="#sqlite3_close">sqlite3_close</a></li>
<li><a href="#sqlite3_collation_needed">sqlite3_collation_needed</a></li>
<li><a href="#sqlite3_collation_needed">sqlite3_collation_needed16</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_blob</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_bytes</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_bytes16</a></li>
<li><a href="#sqlite3_column_count">sqlite3_column_count</a></li>
<li><a href="#sqlite3_column_database_name">sqlite3_column_database_name</a></li>
<li><a href="#sqlite3_column_database_name">sqlite3_column_database_name16</a></li>
<li><a href="#sqlite3_column_decltype">sqlite3_column_decltype</a></li>
<li><a href="#sqlite3_column_decltype">sqlite3_column_decltype16</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_double</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_int</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_int64</a></li>
<li><a href="#sqlite3_column_name">sqlite3_column_name</a></li>
<li><a href="#sqlite3_column_name">sqlite3_column_name16</a></li>
<li><a href="#sqlite3_column_database_name">sqlite3_column_origin_name</a></li>
<li><a href="#sqlite3_column_database_name">sqlite3_column_origin_name16</a></li>
<li><a href="#sqlite3_column_database_name">sqlite3_column_table_name</a></li>
<li><a href="#sqlite3_column_database_name">sqlite3_column_table_name16</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_text</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_text16</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_type</a></li>
<li><a href="#sqlite3_column_blob">sqlite3_column_value</a></li>
<li><a href="#sqlite3_commit_hook">sqlite3_commit_hook</a></li>
<li><a href="#sqlite3_compileoption_get">sqlite3_compileoption_get</a></li>
<li><a href="#sqlite3_compileoption_get">sqlite3_compileoption_used</a></li>
<li><a href="#sqlite3_complete">sqlite3_complete</a></li>
<li><a href="#sqlite3_complete">sqlite3_complete16</a></li>
<li><a href="#sqlite3_config">sqlite3_config</a></li>
<li><a href="#sqlite3_context_db_handle">sqlite3_context_db_handle</a></li>
<li><a href="#sqlite3_create_collation">sqlite3_create_collation</a></li>
<li><a href="#sqlite3_create_collation">sqlite3_create_collation16</a></li>
</ul></td>
<td valign="top"><ul><li><a href="#sqlite3_create_collation">sqlite3_create_collation_v2</a></li>
<li><a href="#sqlite3_create_function">sqlite3_create_function</a></li>
<li><a href="#sqlite3_create_function">sqlite3_create_function16</a></li>
<li><a href="#sqlite3_create_module">sqlite3_create_module</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_create_module">sqlite3_create_module_v2</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_data_count">sqlite3_data_count</a></li>
<li><a href="#sqlite3_db_config">sqlite3_db_config</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_db_handle">sqlite3_db_handle</a></li>
<li><a href="#sqlite3_db_mutex">sqlite3_db_mutex</a></li>
<li><a href="#sqlite3_db_status">sqlite3_db_status</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_declare_vtab">sqlite3_declare_vtab</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_enable_load_extension">sqlite3_enable_load_extension</a></li>
<li><a href="#sqlite3_enable_shared_cache">sqlite3_enable_shared_cache</a></li>
<li><a href="#sqlite3_errcode">sqlite3_errcode</a></li>
<li><a href="#sqlite3_errcode">sqlite3_errmsg</a></li>
<li><a href="#sqlite3_errcode">sqlite3_errmsg16</a></li>
<li><a href="#sqlite3_exec">sqlite3_exec</a></li>
<li><a href="#sqlite3_aggregate_count">sqlite3_expired</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(obs)</i></small></a></li>
<li><a href="#sqlite3_errcode">sqlite3_extended_errcode</a></li>
<li><a href="#sqlite3_extended_result_codes">sqlite3_extended_result_codes</a></li>
<li><a href="#sqlite3_file_control">sqlite3_file_control</a></li>
<li><a href="#sqlite3_finalize">sqlite3_finalize</a></li>
<li><a href="#sqlite3_free">sqlite3_free</a></li>
<li><a href="#sqlite3_free_table">sqlite3_free_table</a></li>
<li><a href="#sqlite3_get_autocommit">sqlite3_get_autocommit</a></li>
<li><a href="#sqlite3_get_auxdata">sqlite3_get_auxdata</a></li>
<li><a href="#sqlite3_free_table">sqlite3_get_table</a></li>
<li><a href="#sqlite3_aggregate_count">sqlite3_global_recover</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(obs)</i></small></a></li>
<li><a href="#sqlite3_initialize">sqlite3_initialize</a></li>
<li><a href="#sqlite3_interrupt">sqlite3_interrupt</a></li>
<li><a href="#sqlite3_last_insert_rowid">sqlite3_last_insert_rowid</a></li>
<li><a href="#sqlite3_libversion">sqlite3_libversion</a></li>
<li><a href="#sqlite3_libversion">sqlite3_libversion_number</a></li>
<li><a href="#sqlite3_limit">sqlite3_limit</a></li>
<li><a href="#sqlite3_load_extension">sqlite3_load_extension</a></li>
<li><a href="#sqlite3_log">sqlite3_log</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_free">sqlite3_malloc</a></li>
<li><a href="#sqlite3_aggregate_count">sqlite3_memory_alarm</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(obs)</i></small></a></li>
<li><a href="#sqlite3_memory_highwater">sqlite3_memory_highwater</a></li>
<li><a href="#sqlite3_memory_highwater">sqlite3_memory_used</a></li>
<li><a href="#sqlite3_mprintf">sqlite3_mprintf</a></li>
<li><a href="#sqlite3_mutex_alloc">sqlite3_mutex_alloc</a></li>
<li><a href="#sqlite3_mutex_alloc">sqlite3_mutex_enter</a></li>
<li><a href="#sqlite3_mutex_alloc">sqlite3_mutex_free</a></li>
<li><a href="#sqlite3_mutex_held">sqlite3_mutex_held</a></li>
<li><a href="#sqlite3_mutex_alloc">sqlite3_mutex_leave</a></li>
<li><a href="#sqlite3_mutex_held">sqlite3_mutex_notheld</a></li>
<li><a href="#sqlite3_mutex_alloc">sqlite3_mutex_try</a></li>
<li><a href="#sqlite3_next_stmt">sqlite3_next_stmt</a></li>
<li><a href="#sqlite3_open">sqlite3_open</a></li>
<li><a href="#sqlite3_open">sqlite3_open16</a></li>
<li><a href="#sqlite3_open">sqlite3_open_v2</a></li>
<li><a href="#sqlite3_initialize">sqlite3_os_end</a></li>
<li><a href="#sqlite3_initialize">sqlite3_os_init</a></li>
<li><a href="#sqlite3_overload_function">sqlite3_overload_function</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_prepare">sqlite3_prepare</a></li>
<li><a href="#sqlite3_prepare">sqlite3_prepare16</a></li>
<li><a href="#sqlite3_prepare">sqlite3_prepare16_v2</a></li>
<li><a href="#sqlite3_prepare">sqlite3_prepare_v2</a></li>
<li><a href="#sqlite3_profile">sqlite3_profile</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_progress_handler">sqlite3_progress_handler</a></li>
<li><a href="#sqlite3_randomness">sqlite3_randomness</a></li>
</ul></td>
<td valign="top"><ul><li><a href="#sqlite3_free">sqlite3_realloc</a></li>
<li><a href="#sqlite3_release_memory">sqlite3_release_memory</a></li>
<li><a href="#sqlite3_reset">sqlite3_reset</a></li>
<li><a href="#sqlite3_reset_auto_extension">sqlite3_reset_auto_extension</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_blob</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_double</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_error</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_error16</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_error_code</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_error_nomem</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_error_toobig</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_int</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_int64</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_null</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_text</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_text16</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_text16be</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_text16le</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_value</a></li>
<li><a href="#sqlite3_result_blob">sqlite3_result_zeroblob</a></li>
<li><a href="#sqlite3_commit_hook">sqlite3_rollback_hook</a></li>
<li><a href="#sqlite3_set_authorizer">sqlite3_set_authorizer</a></li>
<li><a href="#sqlite3_get_auxdata">sqlite3_set_auxdata</a></li>
<li><a href="#sqlite3_initialize">sqlite3_shutdown</a></li>
<li><a href="#sqlite3_sleep">sqlite3_sleep</a></li>
<li><a href="#sqlite3_mprintf">sqlite3_snprintf</a></li>
<li><a href="#sqlite3_soft_heap_limit">sqlite3_soft_heap_limit</a></li>
<li><a href="#sqlite3_libversion">sqlite3_sourceid</a></li>
<li><a href="#sqlite3_sql">sqlite3_sql</a></li>
<li><a href="#sqlite3_status">sqlite3_status</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_step">sqlite3_step</a></li>
<li><a href="#sqlite3_stmt_status">sqlite3_stmt_status</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_strnicmp">sqlite3_strnicmp</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_table_column_metadata">sqlite3_table_column_metadata</a></li>
<li><a href="#sqlite3_test_control">sqlite3_test_control</a></li>
<li><a href="#sqlite3_aggregate_count">sqlite3_thread_cleanup</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(obs)</i></small></a></li>
<li><a href="#sqlite3_threadsafe">sqlite3_threadsafe</a></li>
<li><a href="#sqlite3_total_changes">sqlite3_total_changes</a></li>
<li><a href="#sqlite3_profile">sqlite3_trace</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_aggregate_count">sqlite3_transfer_bindings</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(obs)</i></small></a></li>
<li><a href="#sqlite3_unlock_notify">sqlite3_unlock_notify</a>&nbsp;&nbsp;<a href="capi3ref.html"><small><i>(exp)</i></small></a></li>
<li><a href="#sqlite3_update_hook">sqlite3_update_hook</a></li>
<li><a href="#sqlite3_user_data">sqlite3_user_data</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_blob</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_bytes</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_bytes16</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_double</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_int</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_int64</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_numeric_type</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_text</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_text16</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_text16be</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_text16le</a></li>
<li><a href="#sqlite3_value_blob">sqlite3_value_type</a></li>
<li><a href="#sqlite3_libversion">sqlite3_version,</a></li>
<li><a href="#sqlite3_vfs_find">sqlite3_vfs_find</a></li>
<li><a href="#sqlite3_vfs_find">sqlite3_vfs_register</a></li>
<li><a href="#sqlite3_vfs_find">sqlite3_vfs_unregister</a></li>
<li><a href="#sqlite3_mprintf">sqlite3_vmprintf</a></li>
</ul></td>
</tr></table>
<hr>
<a name="SQLITE_DBCONFIG_LOOKASIDE"></a>
<h2>Configuration Options</h2><blockquote><pre>#define SQLITE_DBCONFIG_LOOKASIDE    1001  /* void* int int */
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These constants are the available integer configuration options that
can be passed as the second argument to the <a href="#sqlite3_db_config">sqlite3_db_config()</a> interface.</p>

<p>New configuration options may be added in future releases of SQLite.
Existing configuration options might be discontinued.  Applications
should check the return code from <a href="#sqlite3_db_config">sqlite3_db_config()</a> to make sure that
the call worked.  The <a href="#sqlite3_db_config">sqlite3_db_config()</a> interface will return a
non-zero <a href="#SQLITE_ABORT">error code</a> if a discontinued or unsupported configuration option
is invoked.</p>

<p><dl>
<dt>SQLITE_DBCONFIG_LOOKASIDE</dt>
<dd> This option takes three additional arguments that determine the
<a href="malloc.html#lookaside">lookaside memory allocator</a> configuration for the <a href="#sqlite3">database connection</a>.
The first argument (the third parameter to <a href="#sqlite3_db_config">sqlite3_db_config()</a> is a
pointer to an memory buffer to use for lookaside memory.
The first argument after the SQLITE_DBCONFIG_LOOKASIDE verb
may be NULL in which case SQLite will allocate the
lookaside buffer itself using <a href="#sqlite3_free">sqlite3_malloc()</a>. The second argument is the
size of each lookaside buffer slot.  The third argument is the number of
slots.  The size of the buffer in the first argument must be greater than
or equal to the product of the second and third arguments.  The buffer
must be aligned to an 8-byte boundary.  If the second argument to
SQLITE_DBCONFIG_LOOKASIDE is not a multiple of 8, it is internally
rounded down to the next smaller
multiple of 8.  See also: <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_LOOKASIDE</a></dd></p>

<p></dl>
</p><hr><a name="SQLITE_DBSTATUS_LOOKASIDE_USED"></a>
<h2>Status Parameters for database connections</h2><blockquote><pre>#define SQLITE_DBSTATUS_LOOKASIDE_USED     0
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These constants are the available integer "verbs" that can be passed as
the second argument to the <a href="#sqlite3_db_status">sqlite3_db_status()</a> interface.</p>

<p>New verbs may be added in future releases of SQLite. Existing verbs
might be discontinued. Applications should check the return code from
<a href="#sqlite3_db_status">sqlite3_db_status()</a> to make sure that the call worked.
The <a href="#sqlite3_db_status">sqlite3_db_status()</a> interface will return a non-zero error code
if a discontinued or unsupported verb is invoked.</p>

<p><dl>
<dt>SQLITE_DBSTATUS_LOOKASIDE_USED</dt>
<dd>This parameter returns the number of lookaside memory slots currently
checked out.</dd>
</dl>
</p><hr><a name="sqlite3_backup"></a>
<h2>Online Backup Object</h2><blockquote><pre>typedef struct sqlite3_backup sqlite3_backup;
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The sqlite3_backup object records state information about an ongoing
online backup operation.  The sqlite3_backup object is created by
a call to <a href="#sqlite3_backup_finish">sqlite3_backup_init()</a> and is destroyed by a call to
<a href="#sqlite3_backup_finish">sqlite3_backup_finish()</a>.</p>

<p>See Also: <a href="backup.html">Using the SQLite Online Backup API</a>
</p><hr><a name="sqlite3_context"></a>
<h2>SQL Function Context Object</h2><blockquote><pre>typedef struct sqlite3_context sqlite3_context;
</pre></blockquote><p>
The context in which an SQL function executes is stored in an
sqlite3_context object.  A pointer to an sqlite3_context object
is always first parameter to <a href="#sqlite3_create_function">application-defined SQL functions</a>.
The application-defined SQL function implementation will pass this
pointer through into calls to <a href="#sqlite3_result_blob">sqlite3_result()</a>,
<a href="#sqlite3_aggregate_context">sqlite3_aggregate_context()</a>, <a href="#sqlite3_user_data">sqlite3_user_data()</a>,
<a href="#sqlite3_context_db_handle">sqlite3_context_db_handle()</a>, <a href="#sqlite3_get_auxdata">sqlite3_get_auxdata()</a>,
and/or <a href="#sqlite3_get_auxdata">sqlite3_set_auxdata()</a>.
</p><hr><a name="sqlite3_file"></a>
<h2>OS Interface Open File Handle</h2><blockquote><pre>typedef struct sqlite3_file sqlite3_file;
struct sqlite3_file {
  const struct sqlite3_io_methods *pMethods;  /* Methods for an open file */
};
</pre></blockquote><p>
An <a href="#sqlite3_file">sqlite3_file</a> object represents an open file in the
<a href="#sqlite3_vfs">OS interface layer</a>.  Individual OS interface
implementations will
want to subclass this object by appending additional fields
for their own use.  The pMethods entry is a pointer to an
<a href="#sqlite3_io_methods">sqlite3_io_methods</a> object that defines methods for performing
I/O operations on the open file.
</p><hr><a name="sqlite3_io_methods"></a>
<h2>OS Interface File Virtual Methods Object</h2><blockquote><pre>typedef struct sqlite3_io_methods sqlite3_io_methods;
struct sqlite3_io_methods {
  int iVersion;
  int (*xClose)(sqlite3_file*);
  int (*xRead)(sqlite3_file*, void*, int iAmt, sqlite3_int64 iOfst);
  int (*xWrite)(sqlite3_file*, const void*, int iAmt, sqlite3_int64 iOfst);
  int (*xTruncate)(sqlite3_file*, sqlite3_int64 size);
  int (*xSync)(sqlite3_file*, int flags);
  int (*xFileSize)(sqlite3_file*, sqlite3_int64 *pSize);
  int (*xLock)(sqlite3_file*, int);
  int (*xUnlock)(sqlite3_file*, int);
  int (*xCheckReservedLock)(sqlite3_file*, int *pResOut);
  int (*xFileControl)(sqlite3_file*, int op, void *pArg);
  int (*xSectorSize)(sqlite3_file*);
  int (*xDeviceCharacteristics)(sqlite3_file*);
  /* Additional methods may be added in future releases */
};
</pre></blockquote><p>
Every file opened by the <a href="#sqlite3_vfs">sqlite3_vfs</a> xOpen method populates an
<a href="#sqlite3_file">sqlite3_file</a> object (or, more commonly, a subclass of the
<a href="#sqlite3_file">sqlite3_file</a> object) with a pointer to an instance of this object.
This object defines the methods used to perform various operations
against the open file represented by the <a href="#sqlite3_file">sqlite3_file</a> object.</p>

<p>If the xOpen method sets the sqlite3_file.pMethods element
to a non-NULL pointer, then the sqlite3_io_methods.xClose method
may be invoked even if the xOpen reported that it failed.  The
only way to prevent a call to xClose following a failed xOpen
is for the xOpen to set the sqlite3_file.pMethods element to NULL.</p>

<p>The flags argument to xSync may be one of <a href="#SQLITE_SYNC_DATAONLY">SQLITE_SYNC_NORMAL</a> or
<a href="#SQLITE_SYNC_DATAONLY">SQLITE_SYNC_FULL</a>.  The first choice is the normal fsync().
The second choice is a Mac OS X style fullsync.  The <a href="#SQLITE_SYNC_DATAONLY">SQLITE_SYNC_DATAONLY</a>
flag may be ORed in to indicate that only the data of the file
and not its inode needs to be synced.</p>

<p>The integer values to xLock() and xUnlock() are one of
<ul>
<li> <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_NONE</a>,
<li> <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_SHARED</a>,
<li> <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_RESERVED</a>,
<li> <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_PENDING</a>, or
<li> <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_EXCLUSIVE</a>.
</ul>
xLock() increases the lock. xUnlock() decreases the lock.
The xCheckReservedLock() method checks whether any database connection,
either in this process or in some other process, is holding a RESERVED,
PENDING, or EXCLUSIVE lock on the file.  It returns true
if such a lock exists and false otherwise.</p>

<p>The xFileControl() method is a generic interface that allows custom
VFS implementations to directly control an open file using the
<a href="#sqlite3_file_control">sqlite3_file_control()</a> interface.  The second "op" argument is an
integer opcode.  The third argument is a generic pointer intended to
point to a structure that may contain arguments or space in which to
write return values.  Potential uses for xFileControl() might be
functions to enable blocking locks with timeouts, to change the
locking strategy (for example to use dot-file locks), to inquire
about the status of a lock, or to break stale locks.  The SQLite
core reserves all opcodes less than 100 for its own use.
A <a href="#SQLITE_FCNTL_LOCKSTATE">list of opcodes</a> less than 100 is available.
Applications that define a custom xFileControl method should use opcodes
greater than 100 to avoid conflicts.</p>

<p>The xSectorSize() method returns the sector size of the
device that underlies the file.  The sector size is the
minimum write that can be performed without disturbing
other bytes in the file.  The xDeviceCharacteristics()
method returns a bit vector describing behaviors of the
underlying device:</p>

<p><ul>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC512</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC1K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC2K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC4K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC8K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC16K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC32K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_ATOMIC64K</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_SAFE_APPEND</a>
<li> <a href="#SQLITE_IOCAP_ATOMIC">SQLITE_IOCAP_SEQUENTIAL</a>
</ul></p>

<p>The SQLITE_IOCAP_ATOMIC property means that all writes of
any size are atomic.  The SQLITE_IOCAP_ATOMICnnn values
mean that writes of blocks that are nnn bytes in size and
are aligned to an address which is an integer multiple of
nnn are atomic.  The SQLITE_IOCAP_SAFE_APPEND value means
that when data is appended to a file, the data is appended
first then the size of the file is extended, never the other
way around.  The SQLITE_IOCAP_SEQUENTIAL property means that
information is written to disk in the same order as calls
to xWrite().</p>

<p>If xRead() returns SQLITE_IOERR_SHORT_READ it must also fill
in the unread portions of the buffer with zeros.  A VFS that
fails to zero-fill short reads might seem to work.  However,
failure to zero-fill short reads will eventually lead to
database corruption.
</p><hr><a name="sqlite3_mem_methods"></a>
<h2>Memory Allocation Routines</h2><blockquote><pre>typedef struct sqlite3_mem_methods sqlite3_mem_methods;
struct sqlite3_mem_methods {
  void *(*xMalloc)(int);         /* Memory allocation function */
  void (*xFree)(void*);          /* Free a prior allocation */
  void *(*xRealloc)(void*,int);  /* Resize an allocation */
  int (*xSize)(void*);           /* Return the size of an allocation */
  int (*xRoundup)(int);          /* Round up request size to allocation size */
  int (*xInit)(void*);           /* Initialize the memory allocator */
  void (*xShutdown)(void*);      /* Deinitialize the memory allocator */
  void *pAppData;                /* Argument to xInit() and xShutdown() */
};
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
An instance of this object defines the interface between SQLite
and low-level memory allocation routines.</p>

<p>This object is used in only one place in the SQLite interface.
A pointer to an instance of this object is the argument to
<a href="#sqlite3_config">sqlite3_config()</a> when the configuration option is
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MALLOC</a> or <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_GETMALLOC</a>.
By creating an instance of this object
and passing it to <a href="#sqlite3_config">sqlite3_config</a>(<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MALLOC</a>)
during configuration, an application can specify an alternative
memory allocation subsystem for SQLite to use for all of its
dynamic memory needs.</p>

<p>Note that SQLite comes with several <a href="malloc.html#altalloc">built-in memory allocators</a>
that are perfectly adequate for the overwhelming majority of applications
and that this object is only useful to a tiny minority of applications
with specialized memory allocation requirements.  This object is
also used during testing of SQLite in order to specify an alternative
memory allocator that simulates memory out-of-memory conditions in
order to verify that SQLite recovers gracefully from such
conditions.</p>

<p>The xMalloc and xFree methods must work like the
malloc() and free() functions from the standard C library.
The xRealloc method must work like realloc() from the standard C library
with the exception that if the second argument to xRealloc is zero,
xRealloc must be a no-op - it must not perform any allocation or
deallocation.  SQLite guarantees that the second argument to
xRealloc is always a value returned by a prior call to xRoundup.
And so in cases where xRoundup always returns a positive number,
xRealloc can perform exactly as the standard library realloc() and
still be in compliance with this specification.</p>

<p>xSize should return the allocated size of a memory allocation
previously obtained from xMalloc or xRealloc.  The allocated size
is always at least as big as the requested size but may be larger.</p>

<p>The xRoundup method returns what would be the allocated size of
a memory allocation given a particular requested size.  Most memory
allocators round up memory allocations at least to the next multiple
of 8.  Some allocators round up to a larger multiple or to a power of 2.
Every memory allocation request coming in through <a href="#sqlite3_free">sqlite3_malloc()</a>
or <a href="#sqlite3_free">sqlite3_realloc()</a> first calls xRoundup.  If xRoundup returns 0,
that causes the corresponding memory allocation to fail.</p>

<p>The xInit method initializes the memory allocator.  (For example,
it might allocate any require mutexes or initialize internal data
structures.  The xShutdown method is invoked (indirectly) by
<a href="#sqlite3_initialize">sqlite3_shutdown()</a> and should deallocate any resources acquired
by xInit.  The pAppData pointer is used as the only parameter to
xInit and xShutdown.</p>

<p>SQLite holds the <a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_MASTER</a> mutex when it invokes
the xInit method, so the xInit method need not be threadsafe.  The
xShutdown method is only called from <a href="#sqlite3_initialize">sqlite3_shutdown()</a> so it does
not need to be threadsafe either.  For all other methods, SQLite
holds the <a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_STATIC_MEM</a> mutex as long as the
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MEMSTATUS</a> configuration option is turned on (which
it is by default) and so the methods are automatically serialized.
However, if <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MEMSTATUS</a> is disabled, then the other
methods must be threadsafe or else make their own arrangements for
serialization.</p>

<p>SQLite will never invoke xInit() more than once without an intervening
call to xShutdown().
</p><hr><a name="sqlite3_mutex"></a>
<h2>Mutex Handle</h2><blockquote><pre>typedef struct sqlite3_mutex sqlite3_mutex;
</pre></blockquote><p>
The mutex module within SQLite defines <a href="#sqlite3_mutex">sqlite3_mutex</a> to be an
abstract type for a mutex object.  The SQLite core never looks
at the internal representation of an <a href="#sqlite3_mutex">sqlite3_mutex</a>.  It only
deals with pointers to the <a href="#sqlite3_mutex">sqlite3_mutex</a> object.</p>

<p>Mutexes are created using <a href="#sqlite3_mutex_alloc">sqlite3_mutex_alloc()</a>.
</p><hr><a name="sqlite3_mutex_methods"></a>
<h2>Mutex Methods Object</h2><blockquote><pre>typedef struct sqlite3_mutex_methods sqlite3_mutex_methods;
struct sqlite3_mutex_methods {
  int (*xMutexInit)(void);
  int (*xMutexEnd)(void);
  sqlite3_mutex *(*xMutexAlloc)(int);
  void (*xMutexFree)(sqlite3_mutex *);
  void (*xMutexEnter)(sqlite3_mutex *);
  int (*xMutexTry)(sqlite3_mutex *);
  void (*xMutexLeave)(sqlite3_mutex *);
  int (*xMutexHeld)(sqlite3_mutex *);
  int (*xMutexNotheld)(sqlite3_mutex *);
};
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
An instance of this structure defines the low-level routines
used to allocate and use mutexes.</p>

<p>Usually, the default mutex implementations provided by SQLite are
sufficient, however the user has the option of substituting a custom
implementation for specialized deployments or systems for which SQLite
does not provide a suitable implementation. In this case, the user
creates and populates an instance of this structure to pass
to sqlite3_config() along with the <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MUTEX</a> option.
Additionally, an instance of this structure can be used as an
output variable when querying the system for the current mutex
implementation, using the <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_GETMUTEX</a> option.</p>

<p>The xMutexInit method defined by this structure is invoked as
part of system initialization by the sqlite3_initialize() function.
The xMutexInit routine is calle by SQLite exactly once for each
effective call to <a href="#sqlite3_initialize">sqlite3_initialize()</a>.</p>

<p>The xMutexEnd method defined by this structure is invoked as
part of system shutdown by the sqlite3_shutdown() function. The
implementation of this method is expected to release all outstanding
resources obtained by the mutex methods implementation, especially
those obtained by the xMutexInit method.  The xMutexEnd()
interface is invoked exactly once for each call to <a href="#sqlite3_initialize">sqlite3_shutdown()</a>.</p>

<p>The remaining seven methods defined by this structure (xMutexAlloc,
xMutexFree, xMutexEnter, xMutexTry, xMutexLeave, xMutexHeld and
xMutexNotheld) implement the following interfaces (respectively):</p>

<p><ul>
<li>  <a href="#sqlite3_mutex_alloc">sqlite3_mutex_alloc()</a> </li>
<li>  <a href="#sqlite3_mutex_alloc">sqlite3_mutex_free()</a> </li>
<li>  <a href="#sqlite3_mutex_alloc">sqlite3_mutex_enter()</a> </li>
<li>  <a href="#sqlite3_mutex_alloc">sqlite3_mutex_try()</a> </li>
<li>  <a href="#sqlite3_mutex_alloc">sqlite3_mutex_leave()</a> </li>
<li>  <a href="#sqlite3_mutex_held">sqlite3_mutex_held()</a> </li>
<li>  <a href="#sqlite3_mutex_held">sqlite3_mutex_notheld()</a> </li>
</ul></p>

<p>The only difference is that the public sqlite3_XXX functions enumerated
above silently ignore any invocations that pass a NULL pointer instead
of a valid mutex handle. The implementations of the methods defined
by this structure are not required to handle this case, the results
of passing a NULL pointer instead of a valid mutex handle are undefined
(i.e. it is acceptable to provide an implementation that segfaults if
it is passed a NULL pointer).</p>

<p>The xMutexInit() method must be threadsafe.  It must be harmless to
invoke xMutexInit() mutiple times within the same process and without
intervening calls to xMutexEnd().  Second and subsequent calls to
xMutexInit() must be no-ops.</p>

<p>xMutexInit() must not use SQLite memory allocation (<a href="#sqlite3_free">sqlite3_malloc()</a>
and its associates).  Similarly, xMutexAlloc() must not use SQLite memory
allocation for a static mutex.  However xMutexAlloc() may use SQLite
memory allocation for a fast or recursive mutex.</p>

<p>SQLite will invoke the xMutexEnd() method when <a href="#sqlite3_initialize">sqlite3_shutdown()</a> is
called, but only if the prior call to xMutexInit returned SQLITE_OK.
If xMutexInit fails in any way, it is expected to clean up after itself
prior to returning.
</p><hr><a name="sqlite3_pcache"></a>
<h2>Custom Page Cache Object</h2><blockquote><pre>typedef struct sqlite3_pcache sqlite3_pcache;
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The sqlite3_pcache type is opaque.  It is implemented by
the pluggable module.  The SQLite core has no knowledge of
its size or internal structure and never deals with the
sqlite3_pcache object except by holding and passing pointers
to the object.</p>

<p>See <a href="#sqlite3_pcache_methods">sqlite3_pcache_methods</a> for additional information.
</p><hr><a name="sqlite3_temp_directory"></a>
<h2>Name Of The Folder Holding Temporary Files</h2><blockquote><pre>SQLITE_EXTERN char *sqlite3_temp_directory;
</pre></blockquote><p>
If this global variable is made to point to a string which is
the name of a folder (a.k.a. directory), then all temporary files
created by SQLite when using a built-in <a href="#sqlite3_vfs">VFS</a>
will be placed in that directory.  If this variable
is a NULL pointer, then SQLite performs a search for an appropriate
temporary file directory.</p>

<p>It is not safe to read or modify this variable in more than one
thread at a time.  It is not safe to read or modify this variable
if a <a href="#sqlite3">database connection</a> is being used at the same time in a separate
thread.
It is intended that this variable be set once
as part of process initialization and before any SQLite interface
routines have been called and that this variable remain unchanged
thereafter.</p>

<p>The <a href="pragma.html#pragma_temp_store_directory">temp_store_directory pragma</a> may modify this variable and cause
it to point to memory obtained from <a href="#sqlite3_free">sqlite3_malloc</a>.  Furthermore,
the <a href="pragma.html#pragma_temp_store_directory">temp_store_directory pragma</a> always assumes that any string
that this variable points to is held in memory obtained from
<a href="#sqlite3_free">sqlite3_malloc</a> and the pragma may attempt to free that memory
using <a href="#sqlite3_free">sqlite3_free</a>.
Hence, if this variable is modified directly, either it should be
made NULL or made to point to memory obtained from <a href="#sqlite3_free">sqlite3_malloc</a>
or else the use of the <a href="pragma.html#pragma_temp_store_directory">temp_store_directory pragma</a> should be avoided.
</p><hr><a name="sqlite3_vfs"></a>
<h2>OS Interface Object</h2><blockquote><pre>typedef struct sqlite3_vfs sqlite3_vfs;
struct sqlite3_vfs {
  int iVersion;            /* Structure version number */
  int szOsFile;            /* Size of subclassed sqlite3_file */
  int mxPathname;          /* Maximum file pathname length */
  sqlite3_vfs *pNext;      /* Next registered VFS */
  const char *zName;       /* Name of this virtual file system */
  void *pAppData;          /* Pointer to application-specific data */
  int (*xOpen)(sqlite3_vfs*, const char *zName, sqlite3_file*,
               int flags, int *pOutFlags);
  int (*xDelete)(sqlite3_vfs*, const char *zName, int syncDir);
  int (*xAccess)(sqlite3_vfs*, const char *zName, int flags, int *pResOut);
  int (*xFullPathname)(sqlite3_vfs*, const char *zName, int nOut, char *zOut);
  void *(*xDlOpen)(sqlite3_vfs*, const char *zFilename);
  void (*xDlError)(sqlite3_vfs*, int nByte, char *zErrMsg);
  void (*(*xDlSym)(sqlite3_vfs*,void*, const char *zSymbol))(void);
  void (*xDlClose)(sqlite3_vfs*, void*);
  int (*xRandomness)(sqlite3_vfs*, int nByte, char *zOut);
  int (*xSleep)(sqlite3_vfs*, int microseconds);
  int (*xCurrentTime)(sqlite3_vfs*, double*);
  int (*xGetLastError)(sqlite3_vfs*, int, char *);
  /* New fields may be appended in figure versions.  The iVersion
  ** value will increment whenever this happens. */
};
</pre></blockquote><p>
An instance of the sqlite3_vfs object defines the interface between
the SQLite core and the underlying operating system.  The "vfs"
in the name of the object stands for "virtual file system".</p>

<p>The value of the iVersion field is initially 1 but may be larger in
future versions of SQLite.  Additional fields may be appended to this
object when the iVersion value is increased.  Note that the structure
of the sqlite3_vfs object changes in the transaction between
SQLite version 3.5.9 and 3.6.0 and yet the iVersion field was not
modified.</p>

<p>The szOsFile field is the size of the subclassed <a href="#sqlite3_file">sqlite3_file</a>
structure used by this VFS.  mxPathname is the maximum length of
a pathname in this VFS.</p>

<p>Registered sqlite3_vfs objects are kept on a linked list formed by
the pNext pointer.  The <a href="#sqlite3_vfs_find">sqlite3_vfs_register()</a>
and <a href="#sqlite3_vfs_find">sqlite3_vfs_unregister()</a> interfaces manage this list
in a thread-safe way.  The <a href="#sqlite3_vfs_find">sqlite3_vfs_find()</a> interface
searches the list.  Neither the application code nor the VFS
implementation should use the pNext pointer.</p>

<p>The pNext field is the only field in the sqlite3_vfs
structure that SQLite will ever modify.  SQLite will only access
or modify this field while holding a particular static mutex.
The application should never modify anything within the sqlite3_vfs
object once the object has been registered.</p>

<p>The zName field holds the name of the VFS module.  The name must
be unique across all VFS modules.</p>

<p>SQLite will guarantee that the zFilename parameter to xOpen
is either a NULL pointer or string obtained
from xFullPathname().  SQLite further guarantees that
the string will be valid and unchanged until xClose() is
called. Because of the previous sentence,
the <a href="#sqlite3_file">sqlite3_file</a> can safely store a pointer to the
filename if it needs to remember the filename for some reason.
If the zFilename parameter is xOpen is a NULL pointer then xOpen
must invent its own temporary name for the file.  Whenever the
xFilename parameter is NULL it will also be the case that the
flags parameter will include <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_DELETEONCLOSE</a>.</p>

<p>The flags argument to xOpen() includes all bits set in
the flags argument to <a href="#sqlite3_open">sqlite3_open_v2()</a>.  Or if <a href="#sqlite3_open">sqlite3_open()</a>
or <a href="#sqlite3_open">sqlite3_open16()</a> is used, then flags includes at least
<a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READWRITE</a> | <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_CREATE</a>.
If xOpen() opens a file read-only then it sets *pOutFlags to
include <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READONLY</a>.  Other bits in *pOutFlags may be set.</p>

<p>SQLite will also add one of the following flags to the xOpen()
call, depending on the object being opened:</p>

<p><ul>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_MAIN_DB</a>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_MAIN_JOURNAL</a>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_TEMP_DB</a>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_TEMP_JOURNAL</a>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_TRANSIENT_DB</a>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SUBJOURNAL</a>
<li>  <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_MASTER_JOURNAL</a>
</ul></p>

<p>The file I/O implementation can use the object type flags to
change the way it deals with files.  For example, an application
that does not care about crash recovery or rollback might make
the open of a journal file a no-op.  Writes to this journal would
also be no-ops, and any attempt to read the journal would return
SQLITE_IOERR.  Or the implementation might recognize that a database
file will be doing page-aligned sector reads and writes in a random
order and set up its I/O subsystem accordingly.</p>

<p>SQLite might also add one of the following flags to the xOpen method:</p>

<p><ul>
<li> <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_DELETEONCLOSE</a>
<li> <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_EXCLUSIVE</a>
</ul></p>

<p>The <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_DELETEONCLOSE</a> flag means the file should be
deleted when it is closed.  The <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_DELETEONCLOSE</a>
will be set for TEMP  databases, journals and for subjournals.</p>

<p>The <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_EXCLUSIVE</a> flag is always used in conjunction
with the <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_CREATE</a> flag, which are both directly
analogous to the O_EXCL and O_CREAT flags of the POSIX open()
API.  The SQLITE_OPEN_EXCLUSIVE flag, when paired with the
SQLITE_OPEN_CREATE, is used to indicate that file should always
be created, and that it is an error if it already exists.
It is <i>not</i> used to indicate the file should be opened
for exclusive access.</p>

<p>At least szOsFile bytes of memory are allocated by SQLite
to hold the  <a href="#sqlite3_file">sqlite3_file</a> structure passed as the third
argument to xOpen.  The xOpen method does not have to
allocate the structure; it should just fill it in.  Note that
the xOpen method must set the sqlite3_file.pMethods to either
a valid <a href="#sqlite3_io_methods">sqlite3_io_methods</a> object or to NULL.  xOpen must do
this even if the open fails.  SQLite expects that the sqlite3_file.pMethods
element will be valid after xOpen returns regardless of the success
or failure of the xOpen call.</p>

<p>The flags argument to xAccess() may be <a href="#SQLITE_ACCESS_EXISTS">SQLITE_ACCESS_EXISTS</a>
to test for the existence of a file, or <a href="#SQLITE_ACCESS_EXISTS">SQLITE_ACCESS_READWRITE</a> to
test whether a file is readable and writable, or <a href="#SQLITE_ACCESS_EXISTS">SQLITE_ACCESS_READ</a>
to test whether a file is at least readable.   The file can be a
directory.</p>

<p>SQLite will always allocate at least mxPathname+1 bytes for the
output buffer xFullPathname.  The exact size of the output buffer
is also passed as a parameter to both  methods. If the output buffer
is not large enough, <a href="#SQLITE_ABORT">SQLITE_CANTOPEN</a> should be returned. Since this is
handled as a fatal error by SQLite, vfs implementations should endeavor
to prevent this by setting mxPathname to a sufficiently large value.</p>

<p>The xRandomness(), xSleep(), and xCurrentTime() interfaces
are not strictly a part of the filesystem, but they are
included in the VFS structure for completeness.
The xRandomness() function attempts to return nBytes bytes
of good-quality randomness into zOut.  The return value is
the actual number of bytes of randomness obtained.
The xSleep() method causes the calling thread to sleep for at
least the number of microseconds given.  The xCurrentTime()
method returns a Julian Day Number for the current date and time.</p>

<p></p><hr><a name="sqlite3_vtab"></a>
<h2>Virtual Table Instance Object</h2><blockquote><pre>struct sqlite3_vtab {
  const sqlite3_module *pModule;  /* The module for this virtual table */
  int nRef;                       /* NO LONGER USED */
  char *zErrMsg;                  /* Error message from sqlite3_mprintf() */
  /* Virtual table implementations will typically add additional fields */
};
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
Every <a href="#sqlite3_module">virtual table module</a> implementation uses a subclass
of this object to describe a particular instance
of the <a href="vtab.html">virtual table</a>.  Each subclass will
be tailored to the specific needs of the module implementation.
The purpose of this superclass is to define certain fields that are
common to all module implementations.</p>

<p>Virtual tables methods can set an error message by assigning a
string obtained from <a href="#sqlite3_mprintf">sqlite3_mprintf()</a> to zErrMsg.  The method should
take care that any prior string is freed by a call to <a href="#sqlite3_free">sqlite3_free()</a>
prior to assigning a new string to zErrMsg.  After the error message
is delivered up to the client application, the string will be automatically
freed by sqlite3_free() and the zErrMsg field will be zeroed.
</p><hr><a name="sqlite3_aggregate_context"></a>
<h2>Obtain Aggregate Function Context</h2><blockquote><pre>void *sqlite3_aggregate_context(sqlite3_context*, int nBytes);
</pre></blockquote><p>
Implementions of aggregate SQL functions use this
routine to allocate memory for storing their state.</p>

<p>The first time the sqlite3_aggregate_context(C,N) routine is called
for a particular aggregate function, SQLite
allocates N of memory, zeroes out that memory, and returns a pointer
to the new memory. On second and subsequent calls to
sqlite3_aggregate_context() for the same aggregate function instance,
the same buffer is returned.  Sqlite3_aggregate_context() is normally
called once for each invocation of the xStep callback and then one
last time when the xFinal callback is invoked.  When no rows match
an aggregate query, the xStep() callback of the aggregate function
implementation is never called and xFinal() is called exactly once.
In those cases, sqlite3_aggregate_context() might be called for the
first time from within xFinal().</p>

<p>The sqlite3_aggregate_context(C,N) routine returns a NULL pointer if N is
less than or equal to zero or if a memory allocate error occurs.</p>

<p>The amount of space allocated by sqlite3_aggregate_context(C,N) is
determined by the N parameter on first successful call.  Changing the
value of N in subsequent call to sqlite3_aggregate_context() within
the same aggregate function instance will not resize the memory
allocation.</p>

<p>SQLite automatically frees the memory allocated by
sqlite3_aggregate_context() when the aggregate query concludes.</p>

<p>The first parameter must be a copy of the
<a href="#sqlite3_context">SQL function context</a> that is the first parameter
to the xStep or xFinal callback routine that implements the aggregate
function.</p>

<p>This routine must be called from the same thread in which
the aggregate SQL function is running.
</p><hr><a name="sqlite3_auto_extension"></a>
<h2>Automatically Load An Extensions</h2><blockquote><pre>int sqlite3_auto_extension(void (*xEntryPoint)(void));
</pre></blockquote><p>
This API can be invoked at program startup in order to register
one or more statically linked extensions that will be available
to all new <a href="#sqlite3">database connections</a>.</p>

<p>This routine stores a pointer to the extension entry point
in an array that is obtained from <a href="#sqlite3_free">sqlite3_malloc()</a>.  That memory
is deallocated by <a href="#sqlite3_reset_auto_extension">sqlite3_reset_auto_extension()</a>.</p>

<p>This function registers an extension entry point that is
automatically invoked whenever a new <a href="#sqlite3">database connection</a>
is opened using <a href="#sqlite3_open">sqlite3_open()</a>, <a href="#sqlite3_open">sqlite3_open16()</a>,
or <a href="#sqlite3_open">sqlite3_open_v2()</a>.
Duplicate extensions are detected so calling this routine
multiple times with the same extension is harmless.
Automatic extensions apply across all threads.
</p><hr><a name="sqlite3_bind_parameter_count"></a>
<h2>Number Of SQL Parameters</h2><blockquote><pre>int sqlite3_bind_parameter_count(sqlite3_stmt*);
</pre></blockquote><p>
This routine can be used to find the number of <a href="#sqlite3_bind_blob">SQL parameters</a>
in a <a href="#sqlite3_stmt">prepared statement</a>.  SQL parameters are tokens of the
form "?", "?NNN", ":AAA", "$AAA", or "@AAA" that serve as
placeholders for values that are <a href="#sqlite3_bind_blob">bound</a>
to the parameters at a later time.</p>

<p>This routine actually returns the index of the largest (rightmost)
parameter. For all forms except ?NNN, this will correspond to the
number of unique parameters.  If parameters of the ?NNN form are used,
there may be gaps in the list.</p>

<p>See also: <a href="#sqlite3_bind_blob">sqlite3_bind()</a>,
<a href="#sqlite3_bind_parameter_name">sqlite3_bind_parameter_name()</a>, and
<a href="#sqlite3_bind_parameter_index">sqlite3_bind_parameter_index()</a>.
</p><hr><a name="sqlite3_bind_parameter_index"></a>
<h2>Index Of A Parameter With A Given Name</h2><blockquote><pre>int sqlite3_bind_parameter_index(sqlite3_stmt*, const char *zName);
</pre></blockquote><p>
Return the index of an SQL parameter given its name.  The
index value returned is suitable for use as the second
parameter to <a href="#sqlite3_bind_blob">sqlite3_bind()</a>.  A zero
is returned if no matching parameter is found.  The parameter
name must be given in UTF-8 even if the original statement
was prepared from UTF-16 text using <a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a>.</p>

<p>See also: <a href="#sqlite3_bind_blob">sqlite3_bind()</a>,
<a href="#sqlite3_bind_parameter_count">sqlite3_bind_parameter_count()</a>, and
<a href="#sqlite3_bind_parameter_index">sqlite3_bind_parameter_index()</a>.
</p><hr><a name="sqlite3_bind_parameter_name"></a>
<h2>Name Of A Host Parameter</h2><blockquote><pre>const char *sqlite3_bind_parameter_name(sqlite3_stmt*, int);
</pre></blockquote><p>
The sqlite3_bind_parameter_name(P,N) interface returns
the name of the N-th <a href="#sqlite3_bind_blob">SQL parameter</a> in the <a href="#sqlite3_stmt">prepared statement</a> P.
SQL parameters of the form "?NNN" or ":AAA" or "@AAA" or "$AAA"
have a name which is the string "?NNN" or ":AAA" or "@AAA" or "$AAA"
respectively.
In other words, the initial ":" or "$" or "@" or "?"
is included as part of the name.
Parameters of the form "?" without a following integer have no name
and are referred to as "nameless" or "anonymous parameters".</p>

<p>The first host parameter has an index of 1, not 0.</p>

<p>If the value N is out of range or if the N-th parameter is
nameless, then NULL is returned.  The returned string is
always in UTF-8 encoding even if the named parameter was
originally specified as UTF-16 in <a href="#sqlite3_prepare">sqlite3_prepare16()</a> or
<a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a>.</p>

<p>See also: <a href="#sqlite3_bind_blob">sqlite3_bind()</a>,
<a href="#sqlite3_bind_parameter_count">sqlite3_bind_parameter_count()</a>, and
<a href="#sqlite3_bind_parameter_index">sqlite3_bind_parameter_index()</a>.
</p><hr><a name="sqlite3_blob_bytes"></a>
<h2>Return The Size Of An Open BLOB</h2><blockquote><pre>int sqlite3_blob_bytes(sqlite3_blob *);
</pre></blockquote><p>
Returns the size in bytes of the BLOB accessible via the
successfully opened <a href="#sqlite3_blob">BLOB handle</a> in its only argument.  The
incremental blob I/O routines can only read or overwriting existing
blob content; they cannot change the size of a blob.</p>

<p>This routine only works on a <a href="#sqlite3_blob">BLOB handle</a> which has been created
by a prior successful call to <a href="#sqlite3_blob_open">sqlite3_blob_open()</a> and which has not
been closed by <a href="#sqlite3_blob_close">sqlite3_blob_close()</a>.  Passing any other pointer in
to this routine results in undefined and probably undesirable behavior.
</p><hr><a name="sqlite3_blob_close"></a>
<h2>Close A BLOB Handle</h2><blockquote><pre>int sqlite3_blob_close(sqlite3_blob *);
</pre></blockquote><p>
Closes an open <a href="#sqlite3_blob">BLOB handle</a>.</p>

<p>Closing a BLOB shall cause the current transaction to commit
if there are no other BLOBs, no pending prepared statements, and the
database connection is in <a href="#sqlite3_get_autocommit">autocommit mode</a>.
If any writes were made to the BLOB, they might be held in cache
until the close operation if they will fit.</p>

<p>Closing the BLOB often forces the changes
out to disk and so if any I/O errors occur, they will likely occur
at the time when the BLOB is closed.  Any errors that occur during
closing are reported as a non-zero return value.</p>

<p>The BLOB is closed unconditionally.  Even if this routine returns
an error code, the BLOB is still closed.</p>

<p>Calling this routine with a null pointer (such as would be returned
by a failed call to <a href="#sqlite3_blob_open">sqlite3_blob_open()</a>) is a harmless no-op.
</p><hr><a name="sqlite3_blob_open"></a>
<h2>Open A BLOB For Incremental I/O</h2><blockquote><pre>int sqlite3_blob_open(
  sqlite3*,
  const char *zDb,
  const char *zTable,
  const char *zColumn,
  sqlite3_int64 iRow,
  int flags,
  sqlite3_blob **ppBlob
);
</pre></blockquote><p>
This interfaces opens a <a href="#sqlite3_blob">handle</a> to the BLOB located
in row iRow, column zColumn, table zTable in database zDb;
in other words, the same BLOB that would be selected by:</p>

<p><pre>
SELECT zColumn FROM zDb.zTable WHERE <a href="lang_createtable.html#rowid">rowid</a> = iRow;
</pre></p>

<p>If the flags parameter is non-zero, then the BLOB is opened for read
and write access. If it is zero, the BLOB is opened for read access.
It is not possible to open a column that is part of an index or primary
key for writing. If <a href="foreignkeys.html">foreign key constraints</a> are enabled, it is
not possible to open a column that is part of a <a href="foreignkeys.html#parentchild">child key</a> for writing.</p>

<p>Note that the database name is not the filename that contains
the database but rather the symbolic name of the database that
appears after the AS keyword when the database is connected using <a href="lang_attach.html">ATTACH</a>.
For the main database file, the database name is "main".
For TEMP tables, the database name is "temp".</p>

<p>On success, <a href="#SQLITE_ABORT">SQLITE_OK</a> is returned and the new <a href="#sqlite3_blob">BLOB handle</a> is written
to *ppBlob. Otherwise an <a href="#SQLITE_ABORT">error code</a> is returned and *ppBlob is set
to be a null pointer.
This function sets the <a href="#sqlite3">database connection</a> error code and message
accessible via <a href="#sqlite3_errcode">sqlite3_errcode()</a> and <a href="#sqlite3_errcode">sqlite3_errmsg()</a> and related
functions. Note that the *ppBlob variable is always initialized in a
way that makes it safe to invoke <a href="#sqlite3_blob_close">sqlite3_blob_close()</a> on *ppBlob
regardless of the success or failure of this routine.</p>

<p>If the row that a BLOB handle points to is modified by an
<a href="lang_update.html">UPDATE</a>, <a href="lang_delete.html">DELETE</a>, or by <a href="lang_conflict.html">ON CONFLICT</a> side-effects
then the BLOB handle is marked as "expired".
This is true if any column of the row is changed, even a column
other than the one the BLOB handle is open on.
Calls to <a href="#sqlite3_blob_read">sqlite3_blob_read()</a> and <a href="#sqlite3_blob_write">sqlite3_blob_write()</a> for
a expired BLOB handle fail with an return code of <a href="#SQLITE_ABORT">SQLITE_ABORT</a>.
Changes written into a BLOB prior to the BLOB expiring are not
rolled back by the expiration of the BLOB.  Such changes will eventually
commit if the transaction continues to completion.</p>

<p>Use the <a href="#sqlite3_blob_bytes">sqlite3_blob_bytes()</a> interface to determine the size of
the opened blob.  The size of a blob may not be changed by this
interface.  Use the <a href="lang_update.html">UPDATE</a> SQL command to change the size of a
blob.</p>

<p>The <a href="#sqlite3_bind_blob">sqlite3_bind_zeroblob()</a> and <a href="#sqlite3_result_blob">sqlite3_result_zeroblob()</a> interfaces
and the built-in <a href="lang_corefunc.html#zeroblob">zeroblob</a> SQL function can be used, if desired,
to create an empty, zero-filled blob in which to read or write using
this interface.</p>

<p>To avoid a resource leak, every open <a href="#sqlite3_blob">BLOB handle</a> should eventually
be released by a call to <a href="#sqlite3_blob_close">sqlite3_blob_close()</a>.
</p><hr><a name="sqlite3_blob_read"></a>
<h2>Read Data From A BLOB Incrementally</h2><blockquote><pre>int sqlite3_blob_read(sqlite3_blob *, void *Z, int N, int iOffset);
</pre></blockquote><p>
This function is used to read data from an open <a href="#sqlite3_blob">BLOB handle</a> into a
caller-supplied buffer. N bytes of data are copied into buffer Z
from the open BLOB, starting at offset iOffset.</p>

<p>If offset iOffset is less than N bytes from the end of the BLOB,
<a href="#SQLITE_ABORT">SQLITE_ERROR</a> is returned and no data is read.  If N or iOffset is
less than zero, <a href="#SQLITE_ABORT">SQLITE_ERROR</a> is returned and no data is read.
The size of the blob (and hence the maximum value of N+iOffset)
can be determined using the <a href="#sqlite3_blob_bytes">sqlite3_blob_bytes()</a> interface.</p>

<p>An attempt to read from an expired <a href="#sqlite3_blob">BLOB handle</a> fails with an
error code of <a href="#SQLITE_ABORT">SQLITE_ABORT</a>.</p>

<p>On success, sqlite3_blob_read() returns SQLITE_OK.
Otherwise, an <a href="#SQLITE_ABORT">error code</a> or an <a href="#SQLITE_IOERR_ACCESS">extended error code</a> is returned.</p>

<p>This routine only works on a <a href="#sqlite3_blob">BLOB handle</a> which has been created
by a prior successful call to <a href="#sqlite3_blob_open">sqlite3_blob_open()</a> and which has not
been closed by <a href="#sqlite3_blob_close">sqlite3_blob_close()</a>.  Passing any other pointer in
to this routine results in undefined and probably undesirable behavior.</p>

<p>See also: <a href="#sqlite3_blob_write">sqlite3_blob_write()</a>.
</p><hr><a name="sqlite3_blob_write"></a>
<h2>Write Data Into A BLOB Incrementally</h2><blockquote><pre>int sqlite3_blob_write(sqlite3_blob *, const void *z, int n, int iOffset);
</pre></blockquote><p>
This function is used to write data into an open <a href="#sqlite3_blob">BLOB handle</a> from a
caller-supplied buffer. N bytes of data are copied from the buffer Z
into the open BLOB, starting at offset iOffset.</p>

<p>If the <a href="#sqlite3_blob">BLOB handle</a> passed as the first argument was not opened for
writing (the flags parameter to <a href="#sqlite3_blob_open">sqlite3_blob_open()</a> was zero),
this function returns <a href="#SQLITE_ABORT">SQLITE_READONLY</a>.</p>

<p>This function may only modify the contents of the BLOB; it is
not possible to increase the size of a BLOB using this API.
If offset iOffset is less than N bytes from the end of the BLOB,
<a href="#SQLITE_ABORT">SQLITE_ERROR</a> is returned and no data is written.  If N is
less than zero <a href="#SQLITE_ABORT">SQLITE_ERROR</a> is returned and no data is written.
The size of the BLOB (and hence the maximum value of N+iOffset)
can be determined using the <a href="#sqlite3_blob_bytes">sqlite3_blob_bytes()</a> interface.</p>

<p>An attempt to write to an expired <a href="#sqlite3_blob">BLOB handle</a> fails with an
error code of <a href="#SQLITE_ABORT">SQLITE_ABORT</a>.  Writes to the BLOB that occurred
before the <a href="#sqlite3_blob">BLOB handle</a> expired are not rolled back by the
expiration of the handle, though of course those changes might
have been overwritten by the statement that expired the BLOB handle
or by other independent statements.</p>

<p>On success, sqlite3_blob_write() returns SQLITE_OK.
Otherwise, an  <a href="#SQLITE_ABORT">error code</a> or an <a href="#SQLITE_IOERR_ACCESS">extended error code</a> is returned.</p>

<p>This routine only works on a <a href="#sqlite3_blob">BLOB handle</a> which has been created
by a prior successful call to <a href="#sqlite3_blob_open">sqlite3_blob_open()</a> and which has not
been closed by <a href="#sqlite3_blob_close">sqlite3_blob_close()</a>.  Passing any other pointer in
to this routine results in undefined and probably undesirable behavior.</p>

<p>See also: <a href="#sqlite3_blob_read">sqlite3_blob_read()</a>.
</p><hr><a name="sqlite3_busy_handler"></a>
<h2>Register A Callback To Handle SQLITE_BUSY Errors</h2><blockquote><pre>int sqlite3_busy_handler(sqlite3*, int(*)(void*,int), void*);
</pre></blockquote><p>
This routine sets a callback function that might be invoked whenever
an attempt is made to open a database table that another thread
or process has locked.</p>

<p>If the busy callback is NULL, then <a href="#SQLITE_ABORT">SQLITE_BUSY</a> or <a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a>
is returned immediately upon encountering the lock.  If the busy callback
is not NULL, then the callback might be invoked with two arguments.</p>

<p>The first argument to the busy handler is a copy of the void* pointer which
is the third argument to sqlite3_busy_handler().  The second argument to
the busy handler callback is the number of times that the busy handler has
been invoked for this locking event.  If the
busy callback returns 0, then no additional attempts are made to
access the database and <a href="#SQLITE_ABORT">SQLITE_BUSY</a> or <a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a> is returned.
If the callback returns non-zero, then another attempt
is made to open the database for reading and the cycle repeats.</p>

<p>The presence of a busy handler does not guarantee that it will be invoked
when there is lock contention. If SQLite determines that invoking the busy
handler could result in a deadlock, it will go ahead and return <a href="#SQLITE_ABORT">SQLITE_BUSY</a>
or <a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a> instead of invoking the busy handler.
Consider a scenario where one process is holding a read lock that
it is trying to promote to a reserved lock and
a second process is holding a reserved lock that it is trying
to promote to an exclusive lock.  The first process cannot proceed
because it is blocked by the second and the second process cannot
proceed because it is blocked by the first.  If both processes
invoke the busy handlers, neither will make any progress.  Therefore,
SQLite returns <a href="#SQLITE_ABORT">SQLITE_BUSY</a> for the first process, hoping that this
will induce the first process to release its read lock and allow
the second process to proceed.</p>

<p>The default busy callback is NULL.</p>

<p>The <a href="#SQLITE_ABORT">SQLITE_BUSY</a> error is converted to <a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a>
when SQLite is in the middle of a large transaction where all the
changes will not fit into the in-memory cache.  SQLite will
already hold a RESERVED lock on the database file, but it needs
to promote this lock to EXCLUSIVE so that it can spill cache
pages into the database file without harm to concurrent
readers.  If it is unable to promote the lock, then the in-memory
cache will be left in an inconsistent state and so the error
code is promoted from the relatively benign <a href="#SQLITE_ABORT">SQLITE_BUSY</a> to
the more severe <a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a>.  This error code promotion
forces an automatic rollback of the changes.  See the
<a href="/cvstrac/wiki?p=CorruptionFollowingBusyError">
CorruptionFollowingBusyError</a> wiki page for a discussion of why
this is important.</p>

<p>There can only be a single busy handler defined for each
<a href="#sqlite3">database connection</a>.  Setting a new busy handler clears any
previously set handler.  Note that calling <a href="#sqlite3_busy_timeout">sqlite3_busy_timeout()</a>
will also set or clear the busy handler.</p>

<p>The busy callback should not take any actions which modify the
database connection that invoked the busy handler.  Any such actions
result in undefined behavior.</p>

<p>A busy handler must not close the database connection
or <a href="#sqlite3_stmt">prepared statement</a> that invoked the busy handler.
</p><hr><a name="sqlite3_busy_timeout"></a>
<h2>Set A Busy Timeout</h2><blockquote><pre>int sqlite3_busy_timeout(sqlite3*, int ms);
</pre></blockquote><p>
This routine sets a <a href="#sqlite3_busy_handler">busy handler</a> that sleeps
for a specified amount of time when a table is locked.  The handler
will sleep multiple times until at least "ms" milliseconds of sleeping
have accumulated.  After at least "ms" milliseconds of sleeping,
the handler returns 0 which causes <a href="#sqlite3_step">sqlite3_step()</a> to return
<a href="#SQLITE_ABORT">SQLITE_BUSY</a> or <a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_BLOCKED</a>.</p>

<p>Calling this routine with an argument less than or equal to zero
turns off all busy handlers.</p>

<p>There can only be a single busy handler for a particular
<a href="#sqlite3">database connection</a> any any given moment.  If another busy handler
was defined  (using <a href="#sqlite3_busy_handler">sqlite3_busy_handler()</a>) prior to calling
this routine, that other busy handler is cleared.
</p><hr><a name="sqlite3_changes"></a>
<h2>Count The Number Of Rows Modified</h2><blockquote><pre>int sqlite3_changes(sqlite3*);
</pre></blockquote><p>
This function returns the number of database rows that were changed
or inserted or deleted by the most recently completed SQL statement
on the <a href="#sqlite3">database connection</a> specified by the first parameter.
Only changes that are directly specified by the <a href="lang_insert.html">INSERT</a>, <a href="lang_update.html">UPDATE</a>,
or <a href="lang_delete.html">DELETE</a> statement are counted.  Auxiliary changes caused by
triggers or <a href="foreignkeys.html#fk_actions">foreign key actions</a> are not counted. Use the
<a href="#sqlite3_total_changes">sqlite3_total_changes()</a> function to find the total number of changes
including changes caused by triggers and foreign key actions.</p>

<p>Changes to a view that are simulated by an <a href="lang_createtrigger.html#instead_of_trigger">INSTEAD OF trigger</a>
are not counted.  Only real table changes are counted.</p>

<p>A "row change" is a change to a single row of a single table
caused by an INSERT, DELETE, or UPDATE statement.  Rows that
are changed as side effects of <a href="lang_replace.html">REPLACE</a> constraint resolution,
rollback, ABORT processing, <a href="lang_droptable.html">DROP TABLE</a>, or by any other
mechanisms do not count as direct row changes.</p>

<p>A "trigger context" is a scope of execution that begins and
ends with the script of a <a href="lang_createtrigger.html">trigger</a>.
Most SQL statements are
evaluated outside of any trigger.  This is the "top level"
trigger context.  If a trigger fires from the top level, a
new trigger context is entered for the duration of that one
trigger.  Subtriggers create subcontexts for their duration.</p>

<p>Calling <a href="#sqlite3_exec">sqlite3_exec()</a> or <a href="#sqlite3_step">sqlite3_step()</a> recursively does
not create a new trigger context.</p>

<p>This function returns the number of direct row changes in the
most recent INSERT, UPDATE, or DELETE statement within the same
trigger context.</p>

<p>Thus, when called from the top level, this function returns the
number of changes in the most recent INSERT, UPDATE, or DELETE
that also occurred at the top level.  Within the body of a trigger,
the sqlite3_changes() interface can be called to find the number of
changes in the most recently completed INSERT, UPDATE, or DELETE
statement within the body of the same trigger.
However, the number returned does not include changes
caused by subtriggers since those have their own context.</p>

<p>See also the <a href="#sqlite3_total_changes">sqlite3_total_changes()</a> interface, the
<a href="pragma.html#pragma_count_changes">count_changes pragma</a>, and the <a href="lang_corefunc.html#changes">changes() SQL function</a>.</p>

<p>If a separate thread makes changes on the same database connection
while <a href="#sqlite3_changes">sqlite3_changes()</a> is running then the value returned
is unpredictable and not meaningful.
</p><hr><a name="sqlite3_clear_bindings"></a>
<h2>Reset All Bindings On A Prepared Statement</h2><blockquote><pre>int sqlite3_clear_bindings(sqlite3_stmt*);
</pre></blockquote><p>
Contrary to the intuition of many, <a href="#sqlite3_reset">sqlite3_reset()</a> does not reset
the <a href="#sqlite3_bind_blob">bindings</a> on a <a href="#sqlite3_stmt">prepared statement</a>.
Use this routine to reset all host parameters to NULL.
</p><hr><a name="sqlite3_close"></a>
<h2>Closing A Database Connection</h2><blockquote><pre>int sqlite3_close(sqlite3 *);
</pre></blockquote><p>
The sqlite3_close() routine is the destructor for the <a href="#sqlite3">sqlite3</a> object.
Calls to sqlite3_close() return SQLITE_OK if the <a href="#sqlite3">sqlite3</a> object is
successfullly destroyed and all associated resources are deallocated.</p>

<p>Applications must <a href="#sqlite3_finalize">finalize</a> all <a href="#sqlite3_stmt">prepared statements</a>
and <a href="#sqlite3_blob_close">close</a> all <a href="#sqlite3_blob">BLOB handles</a> associated with
the <a href="#sqlite3">sqlite3</a> object prior to attempting to close the object.  If
sqlite3_close() is called on a <a href="#sqlite3">database connection</a> that still has
outstanding <a href="#sqlite3_stmt">prepared statements</a> or <a href="#sqlite3_blob">BLOB handles</a>, then it returns
SQLITE_BUSY.</p>

<p>If <a href="#sqlite3_close">sqlite3_close()</a> is invoked while a transaction is open,
the transaction is automatically rolled back.</p>

<p>The C parameter to <a href="#sqlite3_close">sqlite3_close(C)</a> must be either a NULL
pointer or an <a href="#sqlite3">sqlite3</a> object pointer obtained
from <a href="#sqlite3_open">sqlite3_open()</a>, <a href="#sqlite3_open">sqlite3_open16()</a>, or
<a href="#sqlite3_open">sqlite3_open_v2()</a>, and not previously closed.
Calling sqlite3_close() with a NULL pointer argument is a
harmless no-op.
</p><hr><a name="sqlite3_column_count"></a>
<h2>Number Of Columns In A Result Set</h2><blockquote><pre>int sqlite3_column_count(sqlite3_stmt *pStmt);
</pre></blockquote><p>
Return the number of columns in the result set returned by the
<a href="#sqlite3_stmt">prepared statement</a>. This routine returns 0 if pStmt is an SQL
statement that does not return data (for example an <a href="lang_update.html">UPDATE</a>).
</p><hr><a name="sqlite3_config"></a>
<h2>Configuring The SQLite Library</h2><blockquote><pre>int sqlite3_config(int, ...);
</pre></blockquote><p>
The sqlite3_config() interface is used to make global configuration
changes to SQLite in order to tune SQLite to the specific needs of
the application.  The default configuration is recommended for most
applications and so this routine is usually not necessary.  It is
provided to support rare applications with unusual needs.</p>

<p>The sqlite3_config() interface is not threadsafe.  The application
must insure that no other SQLite interfaces are invoked by other
threads while sqlite3_config() is running.  Furthermore, sqlite3_config()
may only be invoked prior to library initialization using
<a href="#sqlite3_initialize">sqlite3_initialize()</a> or after shutdown by <a href="#sqlite3_initialize">sqlite3_shutdown()</a>.
If sqlite3_config() is called after <a href="#sqlite3_initialize">sqlite3_initialize()</a> and before
<a href="#sqlite3_initialize">sqlite3_shutdown()</a> then it will return SQLITE_MISUSE.
Note, however, that sqlite3_config() can be called as part of the
implementation of an application-defined <a href="#sqlite3_initialize">sqlite3_os_init()</a>.</p>

<p>The first argument to sqlite3_config() is an integer
<a href="#SQLITE_CONFIG_GETMALLOC">configuration option</a> that determines
what property of SQLite is to be configured.  Subsequent arguments
vary depending on the <a href="#SQLITE_CONFIG_GETMALLOC">configuration option</a>
in the first argument.</p>

<p>When a configuration option is set, sqlite3_config() returns <a href="#SQLITE_ABORT">SQLITE_OK</a>.
If the option is unknown or SQLite is unable to set the option
then this routine returns a non-zero <a href="#SQLITE_ABORT">error code</a>.
</p><hr><a name="sqlite3_context_db_handle"></a>
<h2>Database Connection For Functions</h2><blockquote><pre>sqlite3 *sqlite3_context_db_handle(sqlite3_context*);
</pre></blockquote><p>
The sqlite3_context_db_handle() interface returns a copy of
the pointer to the <a href="#sqlite3">database connection</a> (the 1st parameter)
of the <a href="#sqlite3_create_function">sqlite3_create_function()</a>
and <a href="#sqlite3_create_function">sqlite3_create_function16()</a> routines that originally
registered the application defined function.
</p><hr><a name="sqlite3_data_count"></a>
<h2>Number of columns in a result set</h2><blockquote><pre>int sqlite3_data_count(sqlite3_stmt *pStmt);
</pre></blockquote><p>
The sqlite3_data_count(P) the number of columns in the
of the result set of <a href="#sqlite3_stmt">prepared statement</a> P.
</p><hr><a name="sqlite3_db_config"></a>
<h2>Configure database connections</h2><blockquote><pre>int sqlite3_db_config(sqlite3*, int op, ...);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The sqlite3_db_config() interface is used to make configuration
changes to a <a href="#sqlite3">database connection</a>.  The interface is similar to
<a href="#sqlite3_config">sqlite3_config()</a> except that the changes apply to a single
<a href="#sqlite3">database connection</a> (specified in the first argument).  The
sqlite3_db_config() interface should only be used immediately after
the database connection is created using <a href="#sqlite3_open">sqlite3_open()</a>,
<a href="#sqlite3_open">sqlite3_open16()</a>, or <a href="#sqlite3_open">sqlite3_open_v2()</a>.</p>

<p>The second argument to sqlite3_db_config(D,V,...)  is the
configuration verb - an integer code that indicates what
aspect of the <a href="#sqlite3">database connection</a> is being configured.
The only choice for this value is <a href="#SQLITE_DBCONFIG_LOOKASIDE">SQLITE_DBCONFIG_LOOKASIDE</a>.
New verbs are likely to be added in future releases of SQLite.
Additional arguments depend on the verb.</p>

<p>Calls to sqlite3_db_config() return SQLITE_OK if and only if
the call is considered successful.
</p><hr><a name="sqlite3_db_handle"></a>
<h2>Find The Database Handle Of A Prepared Statement</h2><blockquote><pre>sqlite3 *sqlite3_db_handle(sqlite3_stmt*);
</pre></blockquote><p>
The sqlite3_db_handle interface returns the <a href="#sqlite3">database connection</a> handle
to which a <a href="#sqlite3_stmt">prepared statement</a> belongs.  The <a href="#sqlite3">database connection</a>
returned by sqlite3_db_handle is the same <a href="#sqlite3">database connection</a>
that was the first argument
to the <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> call (or its variants) that was used to
create the statement in the first place.
</p><hr><a name="sqlite3_db_mutex"></a>
<h2>Retrieve the mutex for a database connection</h2><blockquote><pre>sqlite3_mutex *sqlite3_db_mutex(sqlite3*);
</pre></blockquote><p>
This interface returns a pointer the <a href="#sqlite3_mutex">sqlite3_mutex</a> object that
serializes access to the <a href="#sqlite3">database connection</a> given in the argument
when the <a href="threadsafe.html">threading mode</a> is Serialized.
If the <a href="threadsafe.html">threading mode</a> is Single-thread or Multi-thread then this
routine returns a NULL pointer.
</p><hr><a name="sqlite3_db_status"></a>
<h2>Database Connection Status</h2><blockquote><pre>int sqlite3_db_status(sqlite3*, int op, int *pCur, int *pHiwtr, int resetFlg);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
This interface is used to retrieve runtime status information
about a single <a href="#sqlite3">database connection</a>.  The first argument is the
database connection object to be interrogated.  The second argument
is the parameter to interrogate.  Currently, the only allowed value
for the second parameter is <a href="#SQLITE_DBSTATUS_LOOKASIDE_USED">SQLITE_DBSTATUS_LOOKASIDE_USED</a>.
Additional options will likely appear in future releases of SQLite.</p>

<p>The current value of the requested parameter is written into *pCur
and the highest instantaneous value is written into *pHiwtr.  If
the resetFlg is true, then the highest instantaneous value is
reset back down to the current value.</p>

<p>See also: <a href="#sqlite3_status">sqlite3_status()</a> and <a href="#sqlite3_stmt_status">sqlite3_stmt_status()</a>.
</p><hr><a name="sqlite3_declare_vtab"></a>
<h2>Declare The Schema Of A Virtual Table</h2><blockquote><pre>int sqlite3_declare_vtab(sqlite3*, const char *zSQL);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The <a href="vtab.html#xcreate">xCreate</a> and <a href="vtab.html#xconnect">xConnect</a> methods of a
<a href="#sqlite3_module">virtual table module</a> call this interface
to declare the format (the names and datatypes of the columns) of
the virtual tables they implement.
</p><hr><a name="sqlite3_enable_load_extension"></a>
<h2>Enable Or Disable Extension Loading</h2><blockquote><pre>int sqlite3_enable_load_extension(sqlite3 *db, int onoff);
</pre></blockquote><p>
So as not to open security holes in older applications that are
unprepared to deal with extension loading, and as a means of disabling
extension loading while evaluating user-entered SQL, the following API
is provided to turn the <a href="#sqlite3_load_extension">sqlite3_load_extension()</a> mechanism on and off.</p>

<p>Extension loading is off by default. See ticket #1863.
Call the sqlite3_enable_load_extension() routine with onoff==1
to turn extension loading on and call it with onoff==0 to turn
it back off again.
</p><hr><a name="sqlite3_exec"></a>
<h2>One-Step Query Execution Interface</h2><blockquote><pre>int sqlite3_exec(
  sqlite3*,                                  /* An open database */
  const char *sql,                           /* SQL to be evaluated */
  int (*callback)(void*,int,char**,char**),  /* Callback function */
  void *,                                    /* 1st argument to callback */
  char **errmsg                              /* Error msg written here */
);
</pre></blockquote><p>
The sqlite3_exec() interface is a convenience wrapper around
<a href="#sqlite3_prepare">sqlite3_prepare_v2()</a>, <a href="#sqlite3_step">sqlite3_step()</a>, and <a href="#sqlite3_finalize">sqlite3_finalize()</a>,
that allows an application to run multiple statements of SQL
without having to use a lot of C code.</p>

<p>The sqlite3_exec() interface runs zero or more UTF-8 encoded,
semicolon-separate SQL statements passed into its 2nd argument,
in the context of the <a href="#sqlite3">database connection</a> passed in as its 1st
argument.  If the callback function of the 3rd argument to
sqlite3_exec() is not NULL, then it is invoked for each result row
coming out of the evaluated SQL statements.  The 4th argument to
to sqlite3_exec() is relayed through to the 1st argument of each
callback invocation.  If the callback pointer to sqlite3_exec()
is NULL, then no callback is ever invoked and result rows are
ignored.</p>

<p>If an error occurs while evaluating the SQL statements passed into
sqlite3_exec(), then execution of the current statement stops and
subsequent statements are skipped.  If the 5th parameter to sqlite3_exec()
is not NULL then any error message is written into memory obtained
from <a href="#sqlite3_free">sqlite3_malloc()</a> and passed back through the 5th parameter.
To avoid memory leaks, the application should invoke <a href="#sqlite3_free">sqlite3_free()</a>
on error message strings returned through the 5th parameter of
of sqlite3_exec() after the error message string is no longer needed.
If the 5th parameter to sqlite3_exec() is not NULL and no errors
occur, then sqlite3_exec() sets the pointer in its 5th parameter to
NULL before returning.</p>

<p>If an sqlite3_exec() callback returns non-zero, the sqlite3_exec()
routine returns SQLITE_ABORT without invoking the callback again and
without running any subsequent SQL statements.</p>

<p>The 2nd argument to the sqlite3_exec() callback function is the
number of columns in the result.  The 3rd argument to the sqlite3_exec()
callback is an array of pointers to strings obtained as if from
<a href="#sqlite3_column_blob">sqlite3_column_text()</a>, one for each column.  If an element of a
result row is NULL then the corresponding string pointer for the
sqlite3_exec() callback is a NULL pointer.  The 4th argument to the
sqlite3_exec() callback is an array of pointers to strings where each
entry represents the name of corresponding result column as obtained
from <a href="#sqlite3_column_name">sqlite3_column_name()</a>.</p>

<p>If the 2nd parameter to sqlite3_exec() is a NULL pointer, a pointer
to an empty string, or a pointer that contains only whitespace and/or
SQL comments, then no SQL statements are evaluated and the database
is not changed.</p>

<p>Restrictions:</p>

<p><ul>
<li> The application must insure that the 1st parameter to sqlite3_exec()
is a valid and open <a href="#sqlite3">database connection</a>.
<li> The application must not close <a href="#sqlite3">database connection</a> specified by
the 1st parameter to sqlite3_exec() while sqlite3_exec() is running.
<li> The application must not modify the SQL statement text passed into
the 2nd parameter of sqlite3_exec() while sqlite3_exec() is running.
</ul>
</p><hr><a name="sqlite3_extended_result_codes"></a>
<h2>Enable Or Disable Extended Result Codes</h2><blockquote><pre>int sqlite3_extended_result_codes(sqlite3*, int onoff);
</pre></blockquote><p>
The sqlite3_extended_result_codes() routine enables or disables the
<a href="#SQLITE_IOERR_ACCESS">extended result codes</a> feature of SQLite. The extended result
codes are disabled by default for historical compatibility.
</p><hr><a name="sqlite3_file_control"></a>
<h2>Low-Level Control Of Database Files</h2><blockquote><pre>int sqlite3_file_control(sqlite3*, const char *zDbName, int op, void*);
</pre></blockquote><p>
The <a href="#sqlite3_file_control">sqlite3_file_control()</a> interface makes a direct call to the
xFileControl method for the <a href="#sqlite3_io_methods">sqlite3_io_methods</a> object associated
with a particular database identified by the second argument. The
name of the database "main" for the main database or "temp" for the
TEMP database, or the name that appears after the AS keyword for
databases that are added using the <a href="lang_attach.html">ATTACH</a> SQL command.
A NULL pointer can be used in place of "main" to refer to the
main database file.
The third and fourth parameters to this routine
are passed directly through to the second and third parameters of
the xFileControl method.  The return value of the xFileControl
method becomes the return value of this routine.</p>

<p>If the second parameter (zDbName) does not match the name of any
open database file, then SQLITE_ERROR is returned.  This error
code is not remembered and will not be recalled by <a href="#sqlite3_errcode">sqlite3_errcode()</a>
or <a href="#sqlite3_errcode">sqlite3_errmsg()</a>.  The underlying xFileControl method might
also return SQLITE_ERROR.  There is no way to distinguish between
an incorrect zDbName and an SQLITE_ERROR return from the underlying
xFileControl method.</p>

<p>See also: <a href="#SQLITE_FCNTL_LOCKSTATE">SQLITE_FCNTL_LOCKSTATE</a>
</p><hr><a name="sqlite3_finalize"></a>
<h2>Destroy A Prepared Statement Object</h2><blockquote><pre>int sqlite3_finalize(sqlite3_stmt *pStmt);
</pre></blockquote><p>
The sqlite3_finalize() function is called to delete a <a href="#sqlite3_stmt">prepared statement</a>.
If the statement was executed successfully or not executed at all, then
SQLITE_OK is returned. If execution of the statement failed then an
<a href="#SQLITE_ABORT">error code</a> or <a href="#SQLITE_IOERR_ACCESS">extended error code</a> is returned.</p>

<p>This routine can be called at any point during the execution of the
<a href="#sqlite3_stmt">prepared statement</a>.  If the virtual machine has not
completed execution when this routine is called, that is like
encountering an error or an <a href="#sqlite3_interrupt">interrupt</a>.
Incomplete updates may be rolled back and transactions canceled,
depending on the circumstances, and the
<a href="#SQLITE_ABORT">error code</a> returned will be <a href="#SQLITE_ABORT">SQLITE_ABORT</a>.
</p><hr><a name="sqlite3_interrupt"></a>
<h2>Interrupt A Long-Running Query</h2><blockquote><pre>void sqlite3_interrupt(sqlite3*);
</pre></blockquote><p>
This function causes any pending database operation to abort and
return at its earliest opportunity. This routine is typically
called in response to a user action such as pressing "Cancel"
or Ctrl-C where the user wants a long query operation to halt
immediately.</p>

<p>It is safe to call this routine from a thread different from the
thread that is currently running the database operation.  But it
is not safe to call this routine with a <a href="#sqlite3">database connection</a> that
is closed or might close before sqlite3_interrupt() returns.</p>

<p>If an SQL operation is very nearly finished at the time when
sqlite3_interrupt() is called, then it might not have an opportunity
to be interrupted and might continue to completion.</p>

<p>An SQL operation that is interrupted will return <a href="#SQLITE_ABORT">SQLITE_INTERRUPT</a>.
If the interrupted SQL operation is an INSERT, UPDATE, or DELETE
that is inside an explicit transaction, then the entire transaction
will be rolled back automatically.</p>

<p>The sqlite3_interrupt(D) call is in effect until all currently running
SQL statements on <a href="#sqlite3">database connection</a> D complete.  Any new SQL statements
that are started after the sqlite3_interrupt() call and before the
running statements reaches zero are interrupted as if they had been
running prior to the sqlite3_interrupt() call.  New SQL statements
that are started after the running statement count reaches zero are
not effected by the sqlite3_interrupt().
A call to sqlite3_interrupt(D) that occurs when there are no running
SQL statements is a no-op and has no effect on SQL statements
that are started after the sqlite3_interrupt() call returns.</p>

<p>If the database connection closes while <a href="#sqlite3_interrupt">sqlite3_interrupt()</a>
is running then bad things will likely happen.
</p><hr><a name="sqlite3_last_insert_rowid"></a>
<h2>Last Insert Rowid</h2><blockquote><pre>sqlite3_int64 sqlite3_last_insert_rowid(sqlite3*);
</pre></blockquote><p>
Each entry in an SQLite table has a unique 64-bit signed
integer key called the <a href="lang_createtable.html#rowid">"rowid"</a>. The rowid is always available
as an undeclared column named ROWID, OID, or _ROWID_ as long as those
names are not also used by explicitly declared columns. If
the table has a column of type <a href="lang_createtable.html#rowid">INTEGER PRIMARY KEY</a> then that column
is another alias for the rowid.</p>

<p>This routine returns the <a href="lang_createtable.html#rowid">rowid</a> of the most recent
successful <a href="lang_insert.html">INSERT</a> into the database from the <a href="#sqlite3">database connection</a>
in the first argument.  If no successful <a href="lang_insert.html">INSERT</a>s
have ever occurred on that database connection, zero is returned.</p>

<p>If an <a href="lang_insert.html">INSERT</a> occurs within a trigger, then the <a href="lang_createtable.html#rowid">rowid</a> of the inserted
row is returned by this routine as long as the trigger is running.
But once the trigger terminates, the value returned by this routine
reverts to the last value inserted before the trigger fired.</p>

<p>An <a href="lang_insert.html">INSERT</a> that fails due to a constraint violation is not a
successful <a href="lang_insert.html">INSERT</a> and does not change the value returned by this
routine.  Thus INSERT OR FAIL, INSERT OR IGNORE, INSERT OR ROLLBACK,
and INSERT OR ABORT make no changes to the return value of this
routine when their insertion fails.  When INSERT OR REPLACE
encounters a constraint violation, it does not fail.  The
INSERT continues to completion after deleting rows that caused
the constraint problem so INSERT OR REPLACE will always change
the return value of this interface.</p>

<p>For the purposes of this routine, an <a href="lang_insert.html">INSERT</a> is considered to
be successful even if it is subsequently rolled back.</p>

<p>This function is accessible to SQL statements via the
<a href="lang_corefunc.html#last_insert_rowid">last_insert_rowid() SQL function</a>.</p>

<p>If a separate thread performs a new <a href="lang_insert.html">INSERT</a> on the same
database connection while the <a href="#sqlite3_last_insert_rowid">sqlite3_last_insert_rowid()</a>
function is running and thus changes the last insert <a href="lang_createtable.html#rowid">rowid</a>,
then the value returned by <a href="#sqlite3_last_insert_rowid">sqlite3_last_insert_rowid()</a> is
unpredictable and might not equal either the old or the new
last insert <a href="lang_createtable.html#rowid">rowid</a>.
</p><hr><a name="sqlite3_limit"></a>
<h2>Run-time Limits</h2><blockquote><pre>int sqlite3_limit(sqlite3*, int id, int newVal);
</pre></blockquote><p>
This interface allows the size of various constructs to be limited
on a connection by connection basis.  The first parameter is the
<a href="#sqlite3">database connection</a> whose limit is to be set or queried.  The
second parameter is one of the <a href="#SQLITE_LIMIT_ATTACHED">limit categories</a> that define a
class of constructs to be size limited.  The third parameter is the
new limit for that construct.  The function returns the old limit.</p>

<p>If the new limit is a negative number, the limit is unchanged.
For the limit category of SQLITE_LIMIT_XYZ there is a
<a href="limits.html">hard upper bound</a>
set by a compile-time C preprocessor macro named
<a href="limits.html">SQLITE_MAX_XYZ</a>.
(The "_LIMIT_" in the name is changed to "_MAX_".)
Attempts to increase a limit above its hard upper bound are
silently truncated to the hard upper bound.</p>

<p>Run-time limits are intended for use in applications that manage
both their own internal database and also databases that are controlled
by untrusted external sources.  An example application might be a
web browser that has its own databases for storing history and
separate databases controlled by JavaScript applications downloaded
off the Internet.  The internal databases can be given the
large, default limits.  Databases managed by external sources can
be given much smaller limits designed to prevent a denial of service
attack.  Developers might also want to use the <a href="#sqlite3_set_authorizer">sqlite3_set_authorizer()</a>
interface to further control untrusted SQL.  The size of the database
created by an untrusted script can be contained using the
<a href="pragma.html#pragma_max_page_count">max_page_count</a> <a href="pragma.html#syntax">PRAGMA</a>.</p>

<p>New run-time limit categories may be added in future releases.
</p><hr><a name="sqlite3_load_extension"></a>
<h2>Load An Extension</h2><blockquote><pre>int sqlite3_load_extension(
  sqlite3 *db,          /* Load the extension into this database connection */
  const char *zFile,    /* Name of the shared library containing extension */
  const char *zProc,    /* Entry point.  Derived from zFile if 0 */
  char **pzErrMsg       /* Put error message here if not 0 */
);
</pre></blockquote><p>
This interface loads an SQLite extension library from the named file.</p>

<p>The sqlite3_load_extension() interface attempts to load an
SQLite extension library contained in the file zFile.</p>

<p>The entry point is zProc.
zProc may be 0, in which case the name of the entry point
defaults to "sqlite3_extension_init".
The sqlite3_load_extension() interface returns
<a href="#SQLITE_ABORT">SQLITE_OK</a> on success and <a href="#SQLITE_ABORT">SQLITE_ERROR</a> if something goes wrong.
If an error occurs and pzErrMsg is not 0, then the
<a href="#sqlite3_load_extension">sqlite3_load_extension()</a> interface shall attempt to
fill *pzErrMsg with error message text stored in memory
obtained from <a href="#sqlite3_free">sqlite3_malloc()</a>. The calling function
should free this memory by calling <a href="#sqlite3_free">sqlite3_free()</a>.</p>

<p>Extension loading must be enabled using
<a href="#sqlite3_enable_load_extension">sqlite3_enable_load_extension()</a> prior to calling this API,
otherwise an error will be returned.</p>

<p>See also the <a href="lang_corefunc.html#load_extension">load_extension() SQL function</a>.
</p><hr><a name="sqlite3_log"></a>
<h2>Error Logging Interface</h2><blockquote><pre>void sqlite3_log(int iErrCode, const char *zFormat, ...);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The <a href="#sqlite3_log">sqlite3_log()</a> interface writes a message into the error log
established by the <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_LOG</a> option to <a href="#sqlite3_config">sqlite3_config()</a>.
If logging is enabled, the zFormat string and subsequent arguments are
passed through to <a href="#sqlite3_mprintf">sqlite3_vmprintf()</a> to generate the final output string.</p>

<p>The sqlite3_log() interface is intended for use by extensions such as
virtual tables, collating functions, and SQL functions.  While there is
nothing to prevent an application from calling sqlite3_log(), doing so
is considered bad form.</p>

<p>The zFormat string must not be NULL.</p>

<p>To avoid deadlocks and other threading problems, the sqlite3_log() routine
will not use dynamically allocated memory.  The log message is stored in
a fixed-length buffer on the stack.  If the log message is longer than
a few hundred characters, it will be truncated to the length of the
buffer.
</p><hr><a name="sqlite3_next_stmt"></a>
<h2>Find the next prepared statement</h2><blockquote><pre>sqlite3_stmt *sqlite3_next_stmt(sqlite3 *pDb, sqlite3_stmt *pStmt);
</pre></blockquote><p>
This interface returns a pointer to the next <a href="#sqlite3_stmt">prepared statement</a> after
pStmt associated with the <a href="#sqlite3">database connection</a> pDb.  If pStmt is NULL
then this interface returns a pointer to the first prepared statement
associated with the database connection pDb.  If no prepared statement
satisfies the conditions of this routine, it returns NULL.</p>

<p>The <a href="#sqlite3">database connection</a> pointer D in a call to
<a href="#sqlite3_next_stmt">sqlite3_next_stmt(D,S)</a> must refer to an open database
connection and in particular must not be a NULL pointer.
</p><hr><a name="sqlite3_overload_function"></a>
<h2>Overload A Function For A Virtual Table</h2><blockquote><pre>int sqlite3_overload_function(sqlite3*, const char *zFuncName, int nArg);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
Virtual tables can provide alternative implementations of functions
using the <a href="vtab.html#xfindfunction">xFindFunction</a> method of the <a href="#sqlite3_module">virtual table module</a>.
But global versions of those functions
must exist in order to be overloaded.</p>

<p>This API makes sure a global version of a function with a particular
name and number of parameters exists.  If no such function exists
before this API is called, a new function is created.  The implementation
of the new function always causes an exception to be thrown.  So
the new function is not good for anything by itself.  Its only
purpose is to be a placeholder function that can be overloaded
by a <a href="vtab.html">virtual table</a>.
</p><hr><a name="sqlite3_progress_handler"></a>
<h2>Query Progress Callbacks</h2><blockquote><pre>void sqlite3_progress_handler(sqlite3*, int, int(*)(void*), void*);
</pre></blockquote><p>
This routine configures a callback function - the
progress callback - that is invoked periodically during long
running calls to <a href="#sqlite3_exec">sqlite3_exec()</a>, <a href="#sqlite3_step">sqlite3_step()</a> and
<a href="#sqlite3_free_table">sqlite3_get_table()</a>.  An example use for this
interface is to keep a GUI updated during a large query.</p>

<p>If the progress callback returns non-zero, the operation is
interrupted.  This feature can be used to implement a
"Cancel" button on a GUI progress dialog box.</p>

<p>The progress handler must not do anything that will modify
the database connection that invoked the progress handler.
Note that <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> and <a href="#sqlite3_step">sqlite3_step()</a> both modify their
database connections for the meaning of "modify" in this paragraph.</p>

<p></p><hr><a name="sqlite3_randomness"></a>
<h2>Pseudo-Random Number Generator</h2><blockquote><pre>void sqlite3_randomness(int N, void *P);
</pre></blockquote><p>
SQLite contains a high-quality pseudo-random number generator (PRNG) used to
select random <a href="lang_createtable.html#rowid">ROWIDs</a> when inserting new records into a table that
already uses the largest possible <a href="lang_createtable.html#rowid">ROWID</a>.  The PRNG is also used for
the build-in random() and randomblob() SQL functions.  This interface allows
applications to access the same PRNG for other purposes.</p>

<p>A call to this routine stores N bytes of randomness into buffer P.</p>

<p>The first time this routine is invoked (either internally or by
the application) the PRNG is seeded using randomness obtained
from the xRandomness method of the default <a href="#sqlite3_vfs">sqlite3_vfs</a> object.
On all subsequent invocations, the pseudo-randomness is generated
internally and without recourse to the <a href="#sqlite3_vfs">sqlite3_vfs</a> xRandomness
method.
</p><hr><a name="sqlite3_release_memory"></a>
<h2>Attempt To Free Heap Memory</h2><blockquote><pre>int sqlite3_release_memory(int);
</pre></blockquote><p>
The sqlite3_release_memory() interface attempts to free N bytes
of heap memory by deallocating non-essential memory allocations
held by the database library.   Memory used to cache database
pages to improve performance is an example of non-essential memory.
sqlite3_release_memory() returns the number of bytes actually freed,
which might be more or less than the amount requested.
</p><hr><a name="sqlite3_reset"></a>
<h2>Reset A Prepared Statement Object</h2><blockquote><pre>int sqlite3_reset(sqlite3_stmt *pStmt);
</pre></blockquote><p>
The sqlite3_reset() function is called to reset a <a href="#sqlite3_stmt">prepared statement</a>
object back to its initial state, ready to be re-executed.
Any SQL statement variables that had values bound to them using
the <a href="#sqlite3_bind_blob">sqlite3_bind_*() API</a> retain their values.
Use <a href="#sqlite3_clear_bindings">sqlite3_clear_bindings()</a> to reset the bindings.</p>

<p>The <a href="#sqlite3_reset">sqlite3_reset(S)</a> interface resets the <a href="#sqlite3_stmt">prepared statement</a> S
back to the beginning of its program.</p>

<p>If the most recent call to <a href="#sqlite3_step">sqlite3_step(S)</a> for the
<a href="#sqlite3_stmt">prepared statement</a> S returned <a href="#SQLITE_ABORT">SQLITE_ROW</a> or <a href="#SQLITE_ABORT">SQLITE_DONE</a>,
or if <a href="#sqlite3_step">sqlite3_step(S)</a> has never before been called on S,
then <a href="#sqlite3_reset">sqlite3_reset(S)</a> returns <a href="#SQLITE_ABORT">SQLITE_OK</a>.</p>

<p>If the most recent call to <a href="#sqlite3_step">sqlite3_step(S)</a> for the
<a href="#sqlite3_stmt">prepared statement</a> S indicated an error, then
<a href="#sqlite3_reset">sqlite3_reset(S)</a> returns an appropriate <a href="#SQLITE_ABORT">error code</a>.</p>

<p>The <a href="#sqlite3_reset">sqlite3_reset(S)</a> interface does not change the values
of any <a href="#sqlite3_bind_blob">bindings</a> on the <a href="#sqlite3_stmt">prepared statement</a> S.
</p><hr><a name="sqlite3_reset_auto_extension"></a>
<h2>Reset Automatic Extension Loading</h2><blockquote><pre>void sqlite3_reset_auto_extension(void);
</pre></blockquote><p>
This function disables all previously registered automatic
extensions. It undoes the effect of all prior
<a href="#sqlite3_auto_extension">sqlite3_auto_extension()</a> calls.</p>

<p>This function disables automatic extensions in all threads.
</p><hr><a name="sqlite3_set_authorizer"></a>
<h2>Compile-Time Authorization Callbacks</h2><blockquote><pre>int sqlite3_set_authorizer(
  sqlite3*,
  int (*xAuth)(void*,int,const char*,const char*,const char*,const char*),
  void *pUserData
);
</pre></blockquote><p>
This routine registers a authorizer callback with a particular
<a href="#sqlite3">database connection</a>, supplied in the first argument.
The authorizer callback is invoked as SQL statements are being compiled
by <a href="#sqlite3_prepare">sqlite3_prepare()</a> or its variants <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a>,
<a href="#sqlite3_prepare">sqlite3_prepare16()</a> and <a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a>.  At various
points during the compilation process, as logic is being created
to perform various actions, the authorizer callback is invoked to
see if those actions are allowed.  The authorizer callback should
return <a href="#SQLITE_ABORT">SQLITE_OK</a> to allow the action, <a href="#SQLITE_DENY">SQLITE_IGNORE</a> to disallow the
specific action but allow the SQL statement to continue to be
compiled, or <a href="#SQLITE_DENY">SQLITE_DENY</a> to cause the entire SQL statement to be
rejected with an error.  If the authorizer callback returns
any value other than <a href="#SQLITE_DENY">SQLITE_IGNORE</a>, <a href="#SQLITE_ABORT">SQLITE_OK</a>, or <a href="#SQLITE_DENY">SQLITE_DENY</a>
then the <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or equivalent call that triggered
the authorizer will fail with an error message.</p>

<p>When the callback returns <a href="#SQLITE_ABORT">SQLITE_OK</a>, that means the operation
requested is ok.  When the callback returns <a href="#SQLITE_DENY">SQLITE_DENY</a>, the
<a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or equivalent call that triggered the
authorizer will fail with an error message explaining that
access is denied.</p>

<p>The first parameter to the authorizer callback is a copy of the third
parameter to the sqlite3_set_authorizer() interface. The second parameter
to the callback is an integer <a href="#SQLITE_ALTER_TABLE">action code</a> that specifies
the particular action to be authorized. The third through sixth parameters
to the callback are zero-terminated strings that contain additional
details about the action to be authorized.</p>

<p>If the action code is <a href="#SQLITE_ALTER_TABLE">SQLITE_READ</a>
and the callback returns <a href="#SQLITE_DENY">SQLITE_IGNORE</a> then the
<a href="#sqlite3_stmt">prepared statement</a> statement is constructed to substitute
a NULL value in place of the table column that would have
been read if <a href="#SQLITE_ABORT">SQLITE_OK</a> had been returned.  The <a href="#SQLITE_DENY">SQLITE_IGNORE</a>
return can be used to deny an untrusted user access to individual
columns of a table.
If the action code is <a href="#SQLITE_ALTER_TABLE">SQLITE_DELETE</a> and the callback returns
<a href="#SQLITE_DENY">SQLITE_IGNORE</a> then the <a href="lang_delete.html">DELETE</a> operation proceeds but the
<a href="lang_delete.html#trucateopt">truncate optimization</a> is disabled and all rows are deleted individually.</p>

<p>An authorizer is used when <a href="#sqlite3_prepare">preparing</a>
SQL statements from an untrusted source, to ensure that the SQL statements
do not try to access data they are not allowed to see, or that they do not
try to execute malicious statements that damage the database.  For
example, an application may allow a user to enter arbitrary
SQL queries for evaluation by a database.  But the application does
not want the user to be able to make arbitrary changes to the
database.  An authorizer could then be put in place while the
user-entered SQL is being <a href="#sqlite3_prepare">prepared</a> that
disallows everything except <a href="lang_select.html">SELECT</a> statements.</p>

<p>Applications that need to process SQL from untrusted sources
might also consider lowering resource limits using <a href="#sqlite3_limit">sqlite3_limit()</a>
and limiting database size using the <a href="pragma.html#pragma_max_page_count">max_page_count</a> <a href="pragma.html#syntax">PRAGMA</a>
in addition to using an authorizer.</p>

<p>Only a single authorizer can be in place on a database connection
at a time.  Each call to sqlite3_set_authorizer overrides the
previous call.  Disable the authorizer by installing a NULL callback.
The authorizer is disabled by default.</p>

<p>The authorizer callback must not do anything that will modify
the database connection that invoked the authorizer callback.
Note that <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> and <a href="#sqlite3_step">sqlite3_step()</a> both modify their
database connections for the meaning of "modify" in this paragraph.</p>

<p>When <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> is used to prepare a statement, the
statement might be re-prepared during <a href="#sqlite3_step">sqlite3_step()</a> due to a
schema change.  Hence, the application should ensure that the
correct authorizer callback remains in place during the <a href="#sqlite3_step">sqlite3_step()</a>.</p>

<p>Note that the authorizer callback is invoked only during
<a href="#sqlite3_prepare">sqlite3_prepare()</a> or its variants.  Authorization is not
performed during statement evaluation in <a href="#sqlite3_step">sqlite3_step()</a>, unless
as stated in the previous paragraph, sqlite3_step() invokes
sqlite3_prepare_v2() to reprepare a statement after a schema change.
</p><hr><a name="sqlite3_sleep"></a>
<h2>Suspend Execution For A Short Time</h2><blockquote><pre>int sqlite3_sleep(int);
</pre></blockquote><p>
The sqlite3_sleep() function causes the current thread to suspend execution
for at least a number of milliseconds specified in its parameter.</p>

<p>If the operating system does not support sleep requests with
millisecond time resolution, then the time will be rounded up to
the nearest second. The number of milliseconds of sleep actually
requested from the operating system is returned.</p>

<p>SQLite implements this interface by calling the xSleep()
method of the default <a href="#sqlite3_vfs">sqlite3_vfs</a> object.
</p><hr><a name="sqlite3_soft_heap_limit"></a>
<h2>Impose A Limit On Heap Size</h2><blockquote><pre>void sqlite3_soft_heap_limit(int);
</pre></blockquote><p>
The sqlite3_soft_heap_limit() interface places a "soft" limit
on the amount of heap memory that may be allocated by SQLite.
If an internal allocation is requested that would exceed the
soft heap limit, <a href="#sqlite3_release_memory">sqlite3_release_memory()</a> is invoked one or
more times to free up some space before the allocation is performed.</p>

<p>The limit is called "soft" because if <a href="#sqlite3_release_memory">sqlite3_release_memory()</a>
cannot free sufficient memory to prevent the limit from being exceeded,
the memory is allocated anyway and the current operation proceeds.</p>

<p>A negative or zero value for N means that there is no soft heap limit and
<a href="#sqlite3_release_memory">sqlite3_release_memory()</a> will only be called when memory is exhausted.
The default value for the soft heap limit is zero.</p>

<p>SQLite makes a best effort to honor the soft heap limit.
But if the soft heap limit cannot be honored, execution will
continue without error or notification.  This is why the limit is
called a "soft" limit.  It is advisory only.</p>

<p>Prior to SQLite version 3.5.0, this routine only constrained the memory
allocated by a single thread - the same thread in which this routine
runs.  Beginning with SQLite version 3.5.0, the soft heap limit is
applied to all threads. The value specified for the soft heap limit
is an upper bound on the total memory allocation for all threads. In
version 3.5.0 there is no mechanism for limiting the heap usage for
individual threads.
</p><hr><a name="sqlite3_sql"></a>
<h2>Retrieving Statement SQL</h2><blockquote><pre>const char *sqlite3_sql(sqlite3_stmt *pStmt);
</pre></blockquote><p>
This interface can be used to retrieve a saved copy of the original
SQL text used to create a <a href="#sqlite3_stmt">prepared statement</a> if that statement was
compiled using either <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or <a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a>.
</p><hr><a name="sqlite3_status"></a>
<h2>SQLite Runtime Status</h2><blockquote><pre>int sqlite3_status(int op, int *pCurrent, int *pHighwater, int resetFlag);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
This interface is used to retrieve runtime status information
about the preformance of SQLite, and optionally to reset various
highwater marks.  The first argument is an integer code for
the specific parameter to measure.  Recognized integer codes
are of the form <a href="#SQLITE_STATUS_MALLOC_SIZE">SQLITE_STATUS_...</a>.
The current value of the parameter is returned into *pCurrent.
The highest recorded value is returned in *pHighwater.  If the
resetFlag is true, then the highest record value is reset after
*pHighwater is written.  Some parameters do not record the highest
value.  For those parameters
nothing is written into *pHighwater and the resetFlag is ignored.
Other parameters record only the highwater mark and not the current
value.  For these latter parameters nothing is written into *pCurrent.</p>

<p>The sqlite3_db_status() routine returns SQLITE_OK on success and a
non-zero <a href="#SQLITE_ABORT">error code</a> on failure.</p>

<p>This routine is threadsafe but is not atomic.  This routine can be
called while other threads are running the same or different SQLite
interfaces.  However the values returned in *pCurrent and
*pHighwater reflect the status of SQLite at different points in time
and it is possible that another thread might change the parameter
in between the times when *pCurrent and *pHighwater are written.</p>

<p>See also: <a href="#sqlite3_db_status">sqlite3_db_status()</a>
</p><hr><a name="sqlite3_step"></a>
<h2>Evaluate An SQL Statement</h2><blockquote><pre>int sqlite3_step(sqlite3_stmt*);
</pre></blockquote><p>
After a <a href="#sqlite3_stmt">prepared statement</a> has been prepared using either
<a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or <a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a> or one of the legacy
interfaces <a href="#sqlite3_prepare">sqlite3_prepare()</a> or <a href="#sqlite3_prepare">sqlite3_prepare16()</a>, this function
must be called one or more times to evaluate the statement.</p>

<p>The details of the behavior of the sqlite3_step() interface depend
on whether the statement was prepared using the newer "v2" interface
<a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> and <a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a> or the older legacy
interface <a href="#sqlite3_prepare">sqlite3_prepare()</a> and <a href="#sqlite3_prepare">sqlite3_prepare16()</a>.  The use of the
new "v2" interface is recommended for new applications but the legacy
interface will continue to be supported.</p>

<p>In the legacy interface, the return value will be either <a href="#SQLITE_ABORT">SQLITE_BUSY</a>,
<a href="#SQLITE_ABORT">SQLITE_DONE</a>, <a href="#SQLITE_ABORT">SQLITE_ROW</a>, <a href="#SQLITE_ABORT">SQLITE_ERROR</a>, or <a href="#SQLITE_ABORT">SQLITE_MISUSE</a>.
With the "v2" interface, any of the other <a href="#SQLITE_ABORT">result codes</a> or
<a href="#SQLITE_IOERR_ACCESS">extended result codes</a> might be returned as well.</p>

<p><a href="#SQLITE_ABORT">SQLITE_BUSY</a> means that the database engine was unable to acquire the
database locks it needs to do its job.  If the statement is a <a href="lang_transaction.html">COMMIT</a>
or occurs outside of an explicit transaction, then you can retry the
statement.  If the statement is not a <a href="lang_transaction.html">COMMIT</a> and occurs within a
explicit transaction then you should rollback the transaction before
continuing.</p>

<p><a href="#SQLITE_ABORT">SQLITE_DONE</a> means that the statement has finished executing
successfully.  sqlite3_step() should not be called again on this virtual
machine without first calling <a href="#sqlite3_reset">sqlite3_reset()</a> to reset the virtual
machine back to its initial state.</p>

<p>If the SQL statement being executed returns any data, then <a href="#SQLITE_ABORT">SQLITE_ROW</a>
is returned each time a new row of data is ready for processing by the
caller. The values may be accessed using the <a href="#sqlite3_column_blob">column access functions</a>.
sqlite3_step() is called again to retrieve the next row of data.</p>

<p><a href="#SQLITE_ABORT">SQLITE_ERROR</a> means that a run-time error (such as a constraint
violation) has occurred.  sqlite3_step() should not be called again on
the VM. More information may be found by calling <a href="#sqlite3_errcode">sqlite3_errmsg()</a>.
With the legacy interface, a more specific error code (for example,
<a href="#SQLITE_ABORT">SQLITE_INTERRUPT</a>, <a href="#SQLITE_ABORT">SQLITE_SCHEMA</a>, <a href="#SQLITE_ABORT">SQLITE_CORRUPT</a>, and so forth)
can be obtained by calling <a href="#sqlite3_reset">sqlite3_reset()</a> on the
<a href="#sqlite3_stmt">prepared statement</a>.  In the "v2" interface,
the more specific error code is returned directly by sqlite3_step().</p>

<p><a href="#SQLITE_ABORT">SQLITE_MISUSE</a> means that the this routine was called inappropriately.
Perhaps it was called on a <a href="#sqlite3_stmt">prepared statement</a> that has
already been <a href="#sqlite3_finalize">finalized</a> or on one that had
previously returned <a href="#SQLITE_ABORT">SQLITE_ERROR</a> or <a href="#SQLITE_ABORT">SQLITE_DONE</a>.  Or it could
be the case that the same database connection is being used by two or
more threads at the same moment in time.</p>

<p><b>Goofy Interface Alert:</b> In the legacy interface, the sqlite3_step()
API always returns a generic error code, <a href="#SQLITE_ABORT">SQLITE_ERROR</a>, following any
error other than <a href="#SQLITE_ABORT">SQLITE_BUSY</a> and <a href="#SQLITE_ABORT">SQLITE_MISUSE</a>.  You must call
<a href="#sqlite3_reset">sqlite3_reset()</a> or <a href="#sqlite3_finalize">sqlite3_finalize()</a> in order to find one of the
specific <a href="#SQLITE_ABORT">error codes</a> that better describes the error.
We admit that this is a goofy design.  The problem has been fixed
with the "v2" interface.  If you prepare all of your SQL statements
using either <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or <a href="#sqlite3_prepare">sqlite3_prepare16_v2()</a> instead
of the legacy <a href="#sqlite3_prepare">sqlite3_prepare()</a> and <a href="#sqlite3_prepare">sqlite3_prepare16()</a> interfaces,
then the more specific <a href="#SQLITE_ABORT">error codes</a> are returned directly
by sqlite3_step().  The use of the "v2" interface is recommended.
</p><hr><a name="sqlite3_stmt_status"></a>
<h2>Prepared Statement Status</h2><blockquote><pre>int sqlite3_stmt_status(sqlite3_stmt*, int op,int resetFlg);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
Each prepared statement maintains various
<a href="#SQLITE_STMTSTATUS_FULLSCAN_STEP">counters</a> that measure the number
of times it has performed specific operations.  These counters can
be used to monitor the performance characteristics of the prepared
statements.  For example, if the number of table steps greatly exceeds
the number of table searches or result rows, that would tend to indicate
that the prepared statement is using a full table scan rather than
an index.</p>

<p>This interface is used to retrieve and reset counter values from
a <a href="#sqlite3_stmt">prepared statement</a>.  The first argument is the prepared statement
object to be interrogated.  The second argument
is an integer code for a specific <a href="#SQLITE_STMTSTATUS_FULLSCAN_STEP">counter</a>
to be interrogated.
The current value of the requested counter is returned.
If the resetFlg is true, then the counter is reset to zero after this
interface call returns.</p>

<p>See also: <a href="#sqlite3_status">sqlite3_status()</a> and <a href="#sqlite3_db_status">sqlite3_db_status()</a>.
</p><hr><a name="sqlite3_strnicmp"></a>
<h2>String Comparison</h2><blockquote><pre>int sqlite3_strnicmp(const char *, const char *, int);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The <a href="#sqlite3_strnicmp">sqlite3_strnicmp()</a> API allows applications and extensions to
compare the contents of two buffers containing UTF-8 strings in a
case-indendent fashion, using the same definition of case independence
that SQLite uses internally when comparing identifiers.
</p><hr><a name="sqlite3_table_column_metadata"></a>
<h2>Extract Metadata About A Column Of A Table</h2><blockquote><pre>int sqlite3_table_column_metadata(
  sqlite3 *db,                /* Connection handle */
  const char *zDbName,        /* Database name or NULL */
  const char *zTableName,     /* Table name */
  const char *zColumnName,    /* Column name */
  char const **pzDataType,    /* OUTPUT: Declared data type */
  char const **pzCollSeq,     /* OUTPUT: Collation sequence name */
  int *pNotNull,              /* OUTPUT: True if NOT NULL constraint exists */
  int *pPrimaryKey,           /* OUTPUT: True if column part of PK */
  int *pAutoinc               /* OUTPUT: True if column is auto-increment */
);
</pre></blockquote><p>
This routine returns metadata about a specific column of a specific
database table accessible using the <a href="#sqlite3">database connection</a> handle
passed as the first function argument.</p>

<p>The column is identified by the second, third and fourth parameters to
this function. The second parameter is either the name of the database
(i.e. "main", "temp", or an attached database) containing the specified
table or NULL. If it is NULL, then all attached databases are searched
for the table using the same algorithm used by the database engine to
resolve unqualified table references.</p>

<p>The third and fourth parameters to this function are the table and column
name of the desired column, respectively. Neither of these parameters
may be NULL.</p>

<p>Metadata is returned by writing to the memory locations passed as the 5th
and subsequent parameters to this function. Any of these arguments may be
NULL, in which case the corresponding element of metadata is omitted.</p>

<p><blockquote>
<table border="1">
<tr><th> Parameter <th> Output<br>Type <th>  Description</p>

<p><tr><td> 5th <td> const char* <td> Data type
<tr><td> 6th <td> const char* <td> Name of default collation sequence
<tr><td> 7th <td> int         <td> True if column has a NOT NULL constraint
<tr><td> 8th <td> int         <td> True if column is part of the PRIMARY KEY
<tr><td> 9th <td> int         <td> True if column is <a href="autoinc.html">AUTOINCREMENT</a>
</table>
</blockquote></p>

<p>The memory pointed to by the character pointers returned for the
declaration type and collation sequence is valid only until the next
call to any SQLite API function.</p>

<p>If the specified table is actually a view, an <a href="#SQLITE_ABORT">error code</a> is returned.</p>

<p>If the specified column is "rowid", "oid" or "_rowid_" and an
<a href="lang_createtable.html#rowid">INTEGER PRIMARY KEY</a> column has been explicitly declared, then the output
parameters are set for the explicitly declared column. If there is no
explicitly declared <a href="lang_createtable.html#rowid">INTEGER PRIMARY KEY</a> column, then the output
parameters are set as follows:</p>

<p><pre>
data type: "INTEGER"
collation sequence: "BINARY"
not null: 0
primary key: 1
auto increment: 0
</pre></p>

<p>This function may load one or more schemas from database files. If an
error occurs during this process, or if the requested table or column
cannot be found, an <a href="#SQLITE_ABORT">error code</a> is returned and an error message left
in the <a href="#sqlite3">database connection</a> (to be retrieved using sqlite3_errmsg()).</p>

<p>This API is only available if the library was compiled with the
<a href="compile.html#enable_column_metadata">SQLITE_ENABLE_COLUMN_METADATA</a> C-preprocessor symbol defined.
</p><hr><a name="sqlite3_test_control"></a>
<h2>Testing Interface</h2><blockquote><pre>int sqlite3_test_control(int op, ...);
</pre></blockquote><p>
The sqlite3_test_control() interface is used to read out internal
state of SQLite and to inject faults into SQLite for testing
purposes.  The first parameter is an operation code that determines
the number, meaning, and operation of all subsequent parameters.</p>

<p>This interface is not for use by applications.  It exists solely
for verifying the correct operation of the SQLite library.  Depending
on how the SQLite library is compiled, this interface might not exist.</p>

<p>The details of the operation codes, their meanings, the parameters
they take, and what they do are all subject to change without notice.
Unlike most of the SQLite API, this function is not guaranteed to
operate consistently from one release to the next.
</p><hr><a name="sqlite3_threadsafe"></a>
<h2>Test To See If The Library Is Threadsafe</h2><blockquote><pre>int sqlite3_threadsafe(void);
</pre></blockquote><p>
The sqlite3_threadsafe() function returns zero if and only if
SQLite was compiled mutexing code omitted due to the
<a href="compile.html#threadsafe">SQLITE_THREADSAFE</a> compile-time option being set to 0.</p>

<p>SQLite can be compiled with or without mutexes.  When
the <a href="compile.html#threadsafe">SQLITE_THREADSAFE</a> C preprocessor macro is 1 or 2, mutexes
are enabled and SQLite is threadsafe.  When the
<a href="compile.html#threadsafe">SQLITE_THREADSAFE</a> macro is 0,
the mutexes are omitted.  Without the mutexes, it is not safe
to use SQLite concurrently from more than one thread.</p>

<p>Enabling mutexes incurs a measurable performance penalty.
So if speed is of utmost importance, it makes sense to disable
the mutexes.  But for maximum safety, mutexes should be enabled.
The default behavior is for mutexes to be enabled.</p>

<p>This interface can be used by an application to make sure that the
version of SQLite that it is linking against was compiled with
the desired setting of the <a href="compile.html#threadsafe">SQLITE_THREADSAFE</a> macro.</p>

<p>This interface only reports on the compile-time mutex setting
of the <a href="compile.html#threadsafe">SQLITE_THREADSAFE</a> flag.  If SQLite is compiled with
SQLITE_THREADSAFE=1 or =2 then mutexes are enabled by default but
can be fully or partially disabled using a call to <a href="#sqlite3_config">sqlite3_config()</a>
with the verbs <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SINGLETHREAD</a>, <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MULTITHREAD</a>,
or <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MUTEX</a>.  The return value of the
sqlite3_threadsafe() function shows only the compile-time setting of
thread safety, not any run-time changes to that setting made by
sqlite3_config(). In other words, the return value from sqlite3_threadsafe()
is unchanged by calls to sqlite3_config().</p>

<p>See the <a href="threadsafe.html">threading mode</a> documentation for additional information.
</p><hr><a name="sqlite3_total_changes"></a>
<h2>Total Number Of Rows Modified</h2><blockquote><pre>int sqlite3_total_changes(sqlite3*);
</pre></blockquote><p>
This function returns the number of row changes caused by <a href="lang_insert.html">INSERT</a>,
<a href="lang_update.html">UPDATE</a> or <a href="lang_delete.html">DELETE</a> statements since the <a href="#sqlite3">database connection</a> was opened.
The count returned by sqlite3_total_changes() includes all changes
from all <a href="lang_createtrigger.html">trigger</a> contexts and changes made by
<a href="foreignkeys.html#fk_actions">foreign key actions</a>. However,
the count does not include changes used to implement <a href="lang_replace.html">REPLACE</a> constraints,
do rollbacks or ABORT processing, or <a href="lang_droptable.html">DROP TABLE</a> processing.  The
count does not include rows of views that fire an <a href="lang_createtrigger.html#instead_of_trigger">INSTEAD OF trigger</a>,
though if the INSTEAD OF trigger makes changes of its own, those changes
are counted.
The sqlite3_total_changes() function counts the changes as soon as
the statement that makes them is completed (when the statement handle
is passed to <a href="#sqlite3_reset">sqlite3_reset()</a> or <a href="#sqlite3_finalize">sqlite3_finalize()</a>).</p>

<p>See also the <a href="#sqlite3_changes">sqlite3_changes()</a> interface, the
<a href="pragma.html#pragma_count_changes">count_changes pragma</a>, and the <a href="lang_corefunc.html#total_changes">total_changes() SQL function</a>.</p>

<p>If a separate thread makes changes on the same database connection
while <a href="#sqlite3_total_changes">sqlite3_total_changes()</a> is running then the value
returned is unpredictable and not meaningful.
</p><hr><a name="sqlite3_unlock_notify"></a>
<h2>Unlock Notification</h2><blockquote><pre>int sqlite3_unlock_notify(
  sqlite3 *pBlocked,                          /* Waiting connection */
  void (*xNotify)(void **apArg, int nArg),    /* Callback function to invoke */
  void *pNotifyArg                            /* Argument to pass to xNotify */
);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
When running in shared-cache mode, a database operation may fail with
an <a href="#SQLITE_ABORT">SQLITE_LOCKED</a> error if the required locks on the shared-cache or
individual tables within the shared-cache cannot be obtained. See
<a href="sharedcache.html">SQLite Shared-Cache Mode</a> for a description of shared-cache locking.
This API may be used to register a callback that SQLite will invoke
when the connection currently holding the required lock relinquishes it.
This API is only available if the library was compiled with the
<a href="compile.html#enable_unlock_notify">SQLITE_ENABLE_UNLOCK_NOTIFY</a> C-preprocessor symbol defined.</p>

<p>See Also: <a href="unlock_notify.html">Using the SQLite Unlock Notification Feature</a>.</p>

<p>Shared-cache locks are released when a database connection concludes
its current transaction, either by committing it or rolling it back.</p>

<p>When a connection (known as the blocked connection) fails to obtain a
shared-cache lock and SQLITE_LOCKED is returned to the caller, the
identity of the database connection (the blocking connection) that
has locked the required resource is stored internally. After an
application receives an SQLITE_LOCKED error, it may call the
sqlite3_unlock_notify() method with the blocked connection handle as
the first argument to register for a callback that will be invoked
when the blocking connections current transaction is concluded. The
callback is invoked from within the <a href="#sqlite3_step">sqlite3_step</a> or <a href="#sqlite3_close">sqlite3_close</a>
call that concludes the blocking connections transaction.</p>

<p>If sqlite3_unlock_notify() is called in a multi-threaded application,
there is a chance that the blocking connection will have already
concluded its transaction by the time sqlite3_unlock_notify() is invoked.
If this happens, then the specified callback is invoked immediately,
from within the call to sqlite3_unlock_notify().</p>

<p>If the blocked connection is attempting to obtain a write-lock on a
shared-cache table, and more than one other connection currently holds
a read-lock on the same table, then SQLite arbitrarily selects one of
the other connections to use as the blocking connection.</p>

<p>There may be at most one unlock-notify callback registered by a
blocked connection. If sqlite3_unlock_notify() is called when the
blocked connection already has a registered unlock-notify callback,
then the new callback replaces the old. If sqlite3_unlock_notify() is
called with a NULL pointer as its second argument, then any existing
unlock-notify callback is cancelled. The blocked connections
unlock-notify callback may also be canceled by closing the blocked
connection using <a href="#sqlite3_close">sqlite3_close()</a>.</p>

<p>The unlock-notify callback is not reentrant. If an application invokes
any sqlite3_xxx API functions from within an unlock-notify callback, a
crash or deadlock may be the result.</p>

<p>Unless deadlock is detected (see below), sqlite3_unlock_notify() always
returns SQLITE_OK.</p>

<p><b>Callback Invocation Details</b></p>

<p>When an unlock-notify callback is registered, the application provides a
single void* pointer that is passed to the callback when it is invoked.
However, the signature of the callback function allows SQLite to pass
it an array of void* context pointers. The first argument passed to
an unlock-notify callback is a pointer to an array of void* pointers,
and the second is the number of entries in the array.</p>

<p>When a blocking connections transaction is concluded, there may be
more than one blocked connection that has registered for an unlock-notify
callback. If two or more such blocked connections have specified the
same callback function, then instead of invoking the callback function
multiple times, it is invoked once with the set of void* context pointers
specified by the blocked connections bundled together into an array.
This gives the application an opportunity to prioritize any actions
related to the set of unblocked database connections.</p>

<p><b>Deadlock Detection</b></p>

<p>Assuming that after registering for an unlock-notify callback a
database waits for the callback to be issued before taking any further
action (a reasonable assumption), then using this API may cause the
application to deadlock. For example, if connection X is waiting for
connection Y's transaction to be concluded, and similarly connection
Y is waiting on connection X's transaction, then neither connection
will proceed and the system may remain deadlocked indefinitely.</p>

<p>To avoid this scenario, the sqlite3_unlock_notify() performs deadlock
detection. If a given call to sqlite3_unlock_notify() would put the
system in a deadlocked state, then SQLITE_LOCKED is returned and no
unlock-notify callback is registered. The system is said to be in
a deadlocked state if connection A has registered for an unlock-notify
callback on the conclusion of connection B's transaction, and connection
B has itself registered for an unlock-notify callback when connection
A's transaction is concluded. Indirect deadlock is also detected, so
the system is also considered to be deadlocked if connection B has
registered for an unlock-notify callback on the conclusion of connection
C's transaction, where connection C is waiting on connection A. Any
number of levels of indirection are allowed.</p>

<p><b>The "DROP TABLE" Exception</b></p>

<p>When a call to <a href="#sqlite3_step">sqlite3_step()</a> returns SQLITE_LOCKED, it is almost
always appropriate to call sqlite3_unlock_notify(). There is however,
one exception. When executing a "DROP TABLE" or "DROP INDEX" statement,
SQLite checks if there are any currently executing SELECT statements
that belong to the same connection. If there are, SQLITE_LOCKED is
returned. In this case there is no "blocking connection", so invoking
sqlite3_unlock_notify() results in the unlock-notify callback being
invoked immediately. If the application then re-attempts the "DROP TABLE"
or "DROP INDEX" query, an infinite loop might be the result.</p>

<p>One way around this problem is to check the extended error code returned
by an sqlite3_step() call. If there is a blocking connection, then the
extended error code is set to SQLITE_LOCKED_SHAREDCACHE. Otherwise, in
the special "DROP TABLE/INDEX" case, the extended error code is just
SQLITE_LOCKED.
</p><hr><a name="sqlite3_update_hook"></a>
<h2>Data Change Notification Callbacks</h2><blockquote><pre>void *sqlite3_update_hook(
  sqlite3*, 
  void(*)(void *,int ,char const *,char const *,sqlite3_int64),
  void*
);
</pre></blockquote><p>
The sqlite3_update_hook() interface registers a callback function
with the <a href="#sqlite3">database connection</a> identified by the first argument
to be invoked whenever a row is updated, inserted or deleted.
Any callback set by a previous call to this function
for the same database connection is overridden.</p>

<p>The second argument is a pointer to the function to invoke when a
row is updated, inserted or deleted.
The first argument to the callback is a copy of the third argument
to sqlite3_update_hook().
The second callback argument is one of <a href="#SQLITE_ALTER_TABLE">SQLITE_INSERT</a>, <a href="#SQLITE_ALTER_TABLE">SQLITE_DELETE</a>,
or <a href="#SQLITE_ALTER_TABLE">SQLITE_UPDATE</a>, depending on the operation that caused the callback
to be invoked.
The third and fourth arguments to the callback contain pointers to the
database and table name containing the affected row.
The final callback parameter is the <a href="lang_createtable.html#rowid">rowid</a> of the row.
In the case of an update, this is the <a href="lang_createtable.html#rowid">rowid</a> after the update takes place.</p>

<p>The update hook is not invoked when internal system tables are
modified (i.e. sqlite_master and sqlite_sequence).</p>

<p>In the current implementation, the update hook
is not invoked when duplication rows are deleted because of an
<a href="lang_conflict.html">ON CONFLICT REPLACE</a> clause.  Nor is the update hook
invoked when rows are deleted using the <a href="lang_delete.html#trucateopt">truncate optimization</a>.
The exceptions defined in this paragraph might change in a future
release of SQLite.</p>

<p>The update hook implementation must not do anything that will modify
the database connection that invoked the update hook.  Any actions
to modify the database connection must be deferred until after the
completion of the <a href="#sqlite3_step">sqlite3_step()</a> call that triggered the update hook.
Note that <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> and <a href="#sqlite3_step">sqlite3_step()</a> both modify their
database connections for the meaning of "modify" in this paragraph.</p>

<p>The sqlite3_update_hook(D,C,P) function
returns the P argument from the previous call
on the same <a href="#sqlite3">database connection</a> D, or NULL for
the first call on D.</p>

<p>See also the <a href="#sqlite3_commit_hook">sqlite3_commit_hook()</a> and <a href="#sqlite3_commit_hook">sqlite3_rollback_hook()</a>
interfaces.
</p><hr><a name="sqlite3_user_data"></a>
<h2>User Data For Functions</h2><blockquote><pre>void *sqlite3_user_data(sqlite3_context*);
</pre></blockquote><p>
The sqlite3_user_data() interface returns a copy of
the pointer that was the pUserData parameter (the 5th parameter)
of the <a href="#sqlite3_create_function">sqlite3_create_function()</a>
and <a href="#sqlite3_create_function">sqlite3_create_function16()</a> routines that originally
registered the application defined function.</p>

<p>This routine must be called from the same thread in which
the application-defined function is running.
</p><hr><a name="SQLITE_ABORT"></a>
<h2>Result Codes</h2><blockquote><pre>#define SQLITE_OK           0   /* Successful result */
/* beginning-of-error-codes */
#define SQLITE_ERROR        1   /* SQL error or missing database */
#define SQLITE_INTERNAL     2   /* Internal logic error in SQLite */
#define SQLITE_PERM         3   /* Access permission denied */
#define SQLITE_ABORT        4   /* Callback routine requested an abort */
#define SQLITE_BUSY         5   /* The database file is locked */
#define SQLITE_LOCKED       6   /* A table in the database is locked */
#define SQLITE_NOMEM        7   /* A malloc() failed */
#define SQLITE_READONLY     8   /* Attempt to write a readonly database */
#define SQLITE_INTERRUPT    9   /* Operation terminated by sqlite3_interrupt()*/
#define SQLITE_IOERR       10   /* Some kind of disk I/O error occurred */
#define SQLITE_CORRUPT     11   /* The database disk image is malformed */
#define SQLITE_NOTFOUND    12   /* NOT USED. Table or record not found */
#define SQLITE_FULL        13   /* Insertion failed because database is full */
#define SQLITE_CANTOPEN    14   /* Unable to open the database file */
#define SQLITE_PROTOCOL    15   /* NOT USED. Database lock protocol error */
#define SQLITE_EMPTY       16   /* Database is empty */
#define SQLITE_SCHEMA      17   /* The database schema changed */
#define SQLITE_TOOBIG      18   /* String or BLOB exceeds size limit */
#define SQLITE_CONSTRAINT  19   /* Abort due to constraint violation */
#define SQLITE_MISMATCH    20   /* Data type mismatch */
#define SQLITE_MISUSE      21   /* Library used incorrectly */
#define SQLITE_NOLFS       22   /* Uses OS features not supported on host */
#define SQLITE_AUTH        23   /* Authorization denied */
#define SQLITE_FORMAT      24   /* Auxiliary database format error */
#define SQLITE_RANGE       25   /* 2nd parameter to sqlite3_bind out of range */
#define SQLITE_NOTADB      26   /* File opened that is not a database file */
#define SQLITE_ROW         100  /* sqlite3_step() has another row ready */
#define SQLITE_DONE        101  /* sqlite3_step() has finished executing */
/* end-of-error-codes */
</pre></blockquote><p>
Many SQLite functions return an integer result code from the set shown
here in order to indicates success or failure.</p>

<p>New error codes may be added in future versions of SQLite.</p>

<p>See also: <a href="#SQLITE_IOERR_ACCESS">extended result codes</a>
</p><hr><a name="SQLITE_ACCESS_EXISTS"></a>
<h2>Flags for the xAccess VFS method</h2><blockquote><pre>#define SQLITE_ACCESS_EXISTS    0
#define SQLITE_ACCESS_READWRITE 1
#define SQLITE_ACCESS_READ      2
</pre></blockquote><p>
These integer constants can be used as the third parameter to
the xAccess method of an <a href="#sqlite3_vfs">sqlite3_vfs</a> object.  They determine
what kind of permissions the xAccess method is looking for.
With SQLITE_ACCESS_EXISTS, the xAccess method
simply checks whether the file exists.
With SQLITE_ACCESS_READWRITE, the xAccess method
checks whether the file is both readable and writable.
With SQLITE_ACCESS_READ, the xAccess method
checks whether the file is readable.
</p><hr><a name="SQLITE_ALTER_TABLE"></a>
<h2>Authorizer Action Codes</h2><blockquote><pre>/******************************************* 3rd ************ 4th ***********/
#define SQLITE_CREATE_INDEX          1   /* Index Name      Table Name      */
#define SQLITE_CREATE_TABLE          2   /* Table Name      NULL            */
#define SQLITE_CREATE_TEMP_INDEX     3   /* Index Name      Table Name      */
#define SQLITE_CREATE_TEMP_TABLE     4   /* Table Name      NULL            */
#define SQLITE_CREATE_TEMP_TRIGGER   5   /* Trigger Name    Table Name      */
#define SQLITE_CREATE_TEMP_VIEW      6   /* View Name       NULL            */
#define SQLITE_CREATE_TRIGGER        7   /* Trigger Name    Table Name      */
#define SQLITE_CREATE_VIEW           8   /* View Name       NULL            */
#define SQLITE_DELETE                9   /* Table Name      NULL            */
#define SQLITE_DROP_INDEX           10   /* Index Name      Table Name      */
#define SQLITE_DROP_TABLE           11   /* Table Name      NULL            */
#define SQLITE_DROP_TEMP_INDEX      12   /* Index Name      Table Name      */
#define SQLITE_DROP_TEMP_TABLE      13   /* Table Name      NULL            */
#define SQLITE_DROP_TEMP_TRIGGER    14   /* Trigger Name    Table Name      */
#define SQLITE_DROP_TEMP_VIEW       15   /* View Name       NULL            */
#define SQLITE_DROP_TRIGGER         16   /* Trigger Name    Table Name      */
#define SQLITE_DROP_VIEW            17   /* View Name       NULL            */
#define SQLITE_INSERT               18   /* Table Name      NULL            */
#define SQLITE_PRAGMA               19   /* Pragma Name     1st arg or NULL */
#define SQLITE_READ                 20   /* Table Name      Column Name     */
#define SQLITE_SELECT               21   /* NULL            NULL            */
#define SQLITE_TRANSACTION          22   /* Operation       NULL            */
#define SQLITE_UPDATE               23   /* Table Name      Column Name     */
#define SQLITE_ATTACH               24   /* Filename        NULL            */
#define SQLITE_DETACH               25   /* Database Name   NULL            */
#define SQLITE_ALTER_TABLE          26   /* Database Name   Table Name      */
#define SQLITE_REINDEX              27   /* Index Name      NULL            */
#define SQLITE_ANALYZE              28   /* Table Name      NULL            */
#define SQLITE_CREATE_VTABLE        29   /* Table Name      Module Name     */
#define SQLITE_DROP_VTABLE          30   /* Table Name      Module Name     */
#define SQLITE_FUNCTION             31   /* NULL            Function Name   */
#define SQLITE_SAVEPOINT            32   /* Operation       Savepoint Name  */
#define SQLITE_COPY                  0   /* No longer used */
</pre></blockquote><p>
The <a href="#sqlite3_set_authorizer">sqlite3_set_authorizer()</a> interface registers a callback function
that is invoked to authorize certain SQL statement actions.  The
second parameter to the callback is an integer code that specifies
what action is being authorized.  These are the integer action codes that
the authorizer callback may be passed.</p>

<p>These action code values signify what kind of operation is to be
authorized.  The 3rd and 4th parameters to the authorization
callback function will be parameters or NULL depending on which of these
codes is used as the second parameter.  The 5th parameter to the
authorizer callback is the name of the database ("main", "temp",
etc.) if applicable.  The 6th parameter to the authorizer callback
is the name of the inner-most trigger or view that is responsible for
the access attempt or NULL if this access attempt is directly from
top-level SQL code.
</p><hr><a name="SQLITE_ANY"></a>
<h2>Text Encodings</h2><blockquote><pre>#define SQLITE_UTF8           1
#define SQLITE_UTF16LE        2
#define SQLITE_UTF16BE        3
#define SQLITE_UTF16          4    /* Use native byte order */
#define SQLITE_ANY            5    /* sqlite3_create_function only */
#define SQLITE_UTF16_ALIGNED  8    /* sqlite3_create_collation only */
</pre></blockquote><p>
These constant define integer codes that represent the various
text encodings supported by SQLite.
</p><hr><a name="SQLITE_BLOB"></a>
<h2>Fundamental Datatypes</h2><blockquote><pre>#define SQLITE_INTEGER  1
#define SQLITE_FLOAT    2
#define SQLITE_BLOB     4
#define SQLITE_NULL     5
#ifdef SQLITE_TEXT
# undef SQLITE_TEXT
#else
# define SQLITE_TEXT     3
#endif
#define SQLITE3_TEXT     3
</pre></blockquote><p>
Every value in SQLite has one of five fundamental datatypes:</p>

<p><ul>
<li> 64-bit signed integer
<li> 64-bit IEEE floating point number
<li> string
<li> BLOB
<li> NULL
</ul></p>

<p>These constants are codes for each of those types.</p>

<p>Note that the SQLITE_TEXT constant was also used in SQLite version 2
for a completely different meaning.  Software that links against both
SQLite version 2 and SQLite version 3 should use SQLITE3_TEXT, not
SQLITE_TEXT.
</p><hr><a name="SQLITE_CONFIG_GETMALLOC"></a>
<h2>Configuration Options</h2><blockquote><pre>#define SQLITE_CONFIG_SINGLETHREAD  1  /* nil */
#define SQLITE_CONFIG_MULTITHREAD   2  /* nil */
#define SQLITE_CONFIG_SERIALIZED    3  /* nil */
#define SQLITE_CONFIG_MALLOC        4  /* sqlite3_mem_methods* */
#define SQLITE_CONFIG_GETMALLOC     5  /* sqlite3_mem_methods* */
#define SQLITE_CONFIG_SCRATCH       6  /* void*, int sz, int N */
#define SQLITE_CONFIG_PAGECACHE     7  /* void*, int sz, int N */
#define SQLITE_CONFIG_HEAP          8  /* void*, int nByte, int min */
#define SQLITE_CONFIG_MEMSTATUS     9  /* boolean */
#define SQLITE_CONFIG_MUTEX        10  /* sqlite3_mutex_methods* */
#define SQLITE_CONFIG_GETMUTEX     11  /* sqlite3_mutex_methods* */
/* previously SQLITE_CONFIG_CHUNKALLOC 12 which is now unused. */ 
#define SQLITE_CONFIG_LOOKASIDE    13  /* int int */
#define SQLITE_CONFIG_PCACHE       14  /* sqlite3_pcache_methods* */
#define SQLITE_CONFIG_GETPCACHE    15  /* sqlite3_pcache_methods* */
#define SQLITE_CONFIG_LOG          16  /* xFunc, void* */
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These constants are the available integer configuration options that
can be passed as the first argument to the <a href="#sqlite3_config">sqlite3_config()</a> interface.</p>

<p>New configuration options may be added in future releases of SQLite.
Existing configuration options might be discontinued.  Applications
should check the return code from <a href="#sqlite3_config">sqlite3_config()</a> to make sure that
the call worked.  The <a href="#sqlite3_config">sqlite3_config()</a> interface will return a
non-zero <a href="#SQLITE_ABORT">error code</a> if a discontinued or unsupported configuration option
is invoked.</p>

<p><dl>
<dt>SQLITE_CONFIG_SINGLETHREAD</dt>
<dd>There are no arguments to this option.  This option sets the
<a href="threadsafe.html">threading mode</a> to Single-thread.  In other words, it disables
all mutexing and puts SQLite into a mode where it can only be used
by a single thread.   If SQLite is compiled with
the <a href="compile.html#threadsafe">SQLITE_THREADSAFE=0</a> compile-time option then
it is not possible to change the <a href="threadsafe.html">threading mode</a> from its default
value of Single-thread and so <a href="#sqlite3_config">sqlite3_config()</a> will return
<a href="#SQLITE_ABORT">SQLITE_ERROR</a> if called with the SQLITE_CONFIG_SINGLETHREAD
configuration option.</dd></p>

<p><dt>SQLITE_CONFIG_MULTITHREAD</dt>
<dd>There are no arguments to this option.  This option sets the
<a href="threadsafe.html">threading mode</a> to Multi-thread.  In other words, it disables
mutexing on <a href="#sqlite3">database connection</a> and <a href="#sqlite3_stmt">prepared statement</a> objects.
The application is responsible for serializing access to
<a href="#sqlite3">database connections</a> and <a href="#sqlite3_stmt">prepared statements</a>.  But other mutexes
are enabled so that SQLite will be safe to use in a multi-threaded
environment as long as no two threads attempt to use the same
<a href="#sqlite3">database connection</a> at the same time.  If SQLite is compiled with
the <a href="compile.html#threadsafe">SQLITE_THREADSAFE=0</a> compile-time option then
it is not possible to set the Multi-thread <a href="threadsafe.html">threading mode</a> and
<a href="#sqlite3_config">sqlite3_config()</a> will return <a href="#SQLITE_ABORT">SQLITE_ERROR</a> if called with the
SQLITE_CONFIG_MULTITHREAD configuration option.</dd></p>

<p><dt>SQLITE_CONFIG_SERIALIZED</dt>
<dd>There are no arguments to this option.  This option sets the
<a href="threadsafe.html">threading mode</a> to Serialized. In other words, this option enables
all mutexes including the recursive
mutexes on <a href="#sqlite3">database connection</a> and <a href="#sqlite3_stmt">prepared statement</a> objects.
In this mode (which is the default when SQLite is compiled with
<a href="compile.html#threadsafe">SQLITE_THREADSAFE=1</a>) the SQLite library will itself serialize access
to <a href="#sqlite3">database connections</a> and <a href="#sqlite3_stmt">prepared statements</a> so that the
application is free to use the same <a href="#sqlite3">database connection</a> or the
same <a href="#sqlite3_stmt">prepared statement</a> in different threads at the same time.
If SQLite is compiled with
the <a href="compile.html#threadsafe">SQLITE_THREADSAFE=0</a> compile-time option then
it is not possible to set the Serialized <a href="threadsafe.html">threading mode</a> and
<a href="#sqlite3_config">sqlite3_config()</a> will return <a href="#SQLITE_ABORT">SQLITE_ERROR</a> if called with the
SQLITE_CONFIG_SERIALIZED configuration option.</dd></p>

<p><dt>SQLITE_CONFIG_MALLOC</dt>
<dd> This option takes a single argument which is a pointer to an
instance of the <a href="#sqlite3_mem_methods">sqlite3_mem_methods</a> structure.  The argument specifies
alternative low-level memory allocation routines to be used in place of
the memory allocation routines built into SQLite. SQLite makes
its own private copy of the content of the <a href="#sqlite3_mem_methods">sqlite3_mem_methods</a> structure
before the <a href="#sqlite3_config">sqlite3_config()</a> call returns.</dd></p>

<p><dt>SQLITE_CONFIG_GETMALLOC</dt>
<dd> This option takes a single argument which is a pointer to an
instance of the <a href="#sqlite3_mem_methods">sqlite3_mem_methods</a> structure.  The <a href="#sqlite3_mem_methods">sqlite3_mem_methods</a>
structure is filled with the currently defined memory allocation routines.
This option can be used to overload the default memory allocation
routines with a wrapper that simulations memory allocation failure or
tracks memory usage, for example. </dd></p>

<p><dt>SQLITE_CONFIG_MEMSTATUS</dt>
<dd> This option takes single argument of type int, interpreted as a
boolean, which enables or disables the collection of memory allocation
statistics. When memory allocation statistics are disabled, the
following SQLite interfaces become non-operational:
<ul>
<li> <a href="#sqlite3_memory_highwater">sqlite3_memory_used()</a>
<li> <a href="#sqlite3_memory_highwater">sqlite3_memory_highwater()</a>
<li> <a href="#sqlite3_soft_heap_limit">sqlite3_soft_heap_limit()</a>
<li> <a href="#sqlite3_status">sqlite3_status()</a>
</ul>
Memory allocation statistics are enabled by default unless SQLite is
compiled with <a href="compile.html#default_memstatus">SQLITE_DEFAULT_MEMSTATUS</a>=0 in which case memory
allocation statistics are disabled by default.
</dd></p>

<p><dt>SQLITE_CONFIG_SCRATCH</dt>
<dd> This option specifies a static memory buffer that SQLite can use for
scratch memory.  There are three arguments:  A pointer an 8-byte
aligned memory buffer from which the scrach allocations will be
drawn, the size of each scratch allocation (sz),
and the maximum number of scratch allocations (N).  The sz
argument must be a multiple of 16. The sz parameter should be a few bytes
larger than the actual scratch space required due to internal overhead.
The first argument must be a pointer to an 8-byte aligned buffer
of at least sz*N bytes of memory.
SQLite will use no more than one scratch buffer per thread.  So
N should be set to the expected maximum number of threads.  SQLite will
never require a scratch buffer that is more than 6 times the database
page size. If SQLite needs needs additional scratch memory beyond
what is provided by this configuration option, then
<a href="#sqlite3_free">sqlite3_malloc()</a> will be used to obtain the memory needed.</dd></p>

<p><dt>SQLITE_CONFIG_PAGECACHE</dt>
<dd> This option specifies a static memory buffer that SQLite can use for
the database page cache with the default page cache implemenation.
This configuration should not be used if an application-define page
cache implementation is loaded using the SQLITE_CONFIG_PCACHE option.
There are three arguments to this option: A pointer to 8-byte aligned
memory, the size of each page buffer (sz), and the number of pages (N).
The sz argument should be the size of the largest database page
(a power of two between 512 and 32768) plus a little extra for each
page header.  The page header size is 20 to 40 bytes depending on
the host architecture.  It is harmless, apart from the wasted memory,
to make sz a little too large.  The first
argument should point to an allocation of at least sz*N bytes of memory.
SQLite will use the memory provided by the first argument to satisfy its
memory needs for the first N pages that it adds to cache.  If additional
page cache memory is needed beyond what is provided by this option, then
SQLite goes to <a href="#sqlite3_free">sqlite3_malloc()</a> for the additional storage space.
The implementation might use one or more of the N buffers to hold
memory accounting information. The pointer in the first argument must
be aligned to an 8-byte boundary or subsequent behavior of SQLite
will be undefined.</dd></p>

<p><dt>SQLITE_CONFIG_HEAP</dt>
<dd> This option specifies a static memory buffer that SQLite will use
for all of its dynamic memory allocation needs beyond those provided
for by <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SCRATCH</a> and <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PAGECACHE</a>.
There are three arguments: An 8-byte aligned pointer to the memory,
the number of bytes in the memory buffer, and the minimum allocation size.
If the first pointer (the memory pointer) is NULL, then SQLite reverts
to using its default memory allocator (the system malloc() implementation),
undoing any prior invocation of <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MALLOC</a>.  If the
memory pointer is not NULL and either <a href="compile.html#enable_memsys3">SQLITE_ENABLE_MEMSYS3</a> or
<a href="compile.html#enable_memsys5">SQLITE_ENABLE_MEMSYS5</a> are defined, then the alternative memory
allocator is engaged to handle all of SQLites memory allocation needs.
The first pointer (the memory pointer) must be aligned to an 8-byte
boundary or subsequent behavior of SQLite will be undefined.</dd></p>

<p><dt>SQLITE_CONFIG_MUTEX</dt>
<dd> This option takes a single argument which is a pointer to an
instance of the <a href="#sqlite3_mutex_methods">sqlite3_mutex_methods</a> structure.  The argument specifies
alternative low-level mutex routines to be used in place
the mutex routines built into SQLite.  SQLite makes a copy of the
content of the <a href="#sqlite3_mutex_methods">sqlite3_mutex_methods</a> structure before the call to
<a href="#sqlite3_config">sqlite3_config()</a> returns. If SQLite is compiled with
the <a href="compile.html#threadsafe">SQLITE_THREADSAFE=0</a> compile-time option then
the entire mutexing subsystem is omitted from the build and hence calls to
<a href="#sqlite3_config">sqlite3_config()</a> with the SQLITE_CONFIG_MUTEX configuration option will
return <a href="#SQLITE_ABORT">SQLITE_ERROR</a>.</dd></p>

<p><dt>SQLITE_CONFIG_GETMUTEX</dt>
<dd> This option takes a single argument which is a pointer to an
instance of the <a href="#sqlite3_mutex_methods">sqlite3_mutex_methods</a> structure.  The
<a href="#sqlite3_mutex_methods">sqlite3_mutex_methods</a>
structure is filled with the currently defined mutex routines.
This option can be used to overload the default mutex allocation
routines with a wrapper used to track mutex usage for performance
profiling or testing, for example.   If SQLite is compiled with
the <a href="compile.html#threadsafe">SQLITE_THREADSAFE=0</a> compile-time option then
the entire mutexing subsystem is omitted from the build and hence calls to
<a href="#sqlite3_config">sqlite3_config()</a> with the SQLITE_CONFIG_GETMUTEX configuration option will
return <a href="#SQLITE_ABORT">SQLITE_ERROR</a>.</dd></p>

<p><dt>SQLITE_CONFIG_LOOKASIDE</dt>
<dd> This option takes two arguments that determine the default
memory allocation for the lookaside memory allocator on each
<a href="#sqlite3">database connection</a>.  The first argument is the
size of each lookaside buffer slot and the second is the number of
slots allocated to each database connection.  This option sets the
<i>default</i> lookaside size. The <a href="#SQLITE_DBCONFIG_LOOKASIDE">SQLITE_DBCONFIG_LOOKASIDE</a>
verb to <a href="#sqlite3_db_config">sqlite3_db_config()</a> can be used to change the lookaside
configuration on individual connections. </dd></p>

<p><dt>SQLITE_CONFIG_PCACHE</dt>
<dd> This option takes a single argument which is a pointer to
an <a href="#sqlite3_pcache_methods">sqlite3_pcache_methods</a> object.  This object specifies the interface
to a custom page cache implementation.  SQLite makes a copy of the
object and uses it for page cache memory allocations.</dd></p>

<p><dt>SQLITE_CONFIG_GETPCACHE</dt>
<dd> This option takes a single argument which is a pointer to an
<a href="#sqlite3_pcache_methods">sqlite3_pcache_methods</a> object.  SQLite copies of the current
page cache implementation into that object. </dd></p>

<p></dl>
</p><hr><a name="SQLITE_DENY"></a>
<h2>Authorizer Return Codes</h2><blockquote><pre>#define SQLITE_DENY   1   /* Abort the SQL statement with an error */
#define SQLITE_IGNORE 2   /* Don't allow access, but don't generate an error */
</pre></blockquote><p>
The <a href="#sqlite3_set_authorizer">authorizer callback function</a> must
return either <a href="#SQLITE_ABORT">SQLITE_OK</a> or one of these two constants in order
to signal SQLite whether or not the action is permitted.  See the
<a href="#sqlite3_set_authorizer">authorizer documentation</a> for additional
information.
</p><hr><a name="SQLITE_FCNTL_LOCKSTATE"></a>
<h2>Standard File Control Opcodes</h2><blockquote><pre>#define SQLITE_FCNTL_LOCKSTATE        1
#define SQLITE_GET_LOCKPROXYFILE      2
#define SQLITE_SET_LOCKPROXYFILE      3
#define SQLITE_LAST_ERRNO             4
</pre></blockquote><p>
These integer constants are opcodes for the xFileControl method
of the <a href="#sqlite3_io_methods">sqlite3_io_methods</a> object and for the <a href="#sqlite3_file_control">sqlite3_file_control()</a>
interface.</p>

<p>The <a href="#SQLITE_FCNTL_LOCKSTATE">SQLITE_FCNTL_LOCKSTATE</a> opcode is used for debugging.  This
opcode causes the xFileControl method to write the current state of
the lock (one of <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_NONE</a>, <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_SHARED</a>,
<a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_RESERVED</a>, <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_PENDING</a>, or <a href="#SQLITE_LOCK_EXCLUSIVE">SQLITE_LOCK_EXCLUSIVE</a>)
into an integer that the pArg argument points to. This capability
is used during testing and only needs to be supported when SQLITE_TEST
is defined.
</p><hr><a name="SQLITE_INDEX_CONSTRAINT_EQ"></a>
<h2>Virtual Table Indexing Information</h2><blockquote><pre>struct sqlite3_index_info {
  /* Inputs */
  int nConstraint;           /* Number of entries in aConstraint */
  struct sqlite3_index_constraint {
     int iColumn;              /* Column on left-hand side of constraint */
     unsigned char op;         /* Constraint operator */
     unsigned char usable;     /* True if this constraint is usable */
     int iTermOffset;          /* Used internally - xBestIndex should ignore */
  } *aConstraint;            /* Table of WHERE clause constraints */
  int nOrderBy;              /* Number of terms in the ORDER BY clause */
  struct sqlite3_index_orderby {
     int iColumn;              /* Column number */
     unsigned char desc;       /* True for DESC.  False for ASC. */
  } *aOrderBy;               /* The ORDER BY clause */
  /* Outputs */
  struct sqlite3_index_constraint_usage {
    int argvIndex;           /* if &gt;0, constraint is part of argv to xFilter */
    unsigned char omit;      /* Do not code a test for this constraint */
  } *aConstraintUsage;
  int idxNum;                /* Number used to identify the index */
  char *idxStr;              /* String, possibly obtained from sqlite3_malloc */
  int needToFreeIdxStr;      /* Free idxStr using sqlite3_free() if true */
  int orderByConsumed;       /* True if output is already ordered */
  double estimatedCost;      /* Estimated cost of using this index */
};
#define SQLITE_INDEX_CONSTRAINT_EQ    2
#define SQLITE_INDEX_CONSTRAINT_GT    4
#define SQLITE_INDEX_CONSTRAINT_LE    8
#define SQLITE_INDEX_CONSTRAINT_LT    16
#define SQLITE_INDEX_CONSTRAINT_GE    32
#define SQLITE_INDEX_CONSTRAINT_MATCH 64
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The sqlite3_index_info structure and its substructures is used to
pass information into and receive the reply from the <a href="vtab.html#xbestindex">xBestIndex</a>
method of a <a href="#sqlite3_module">virtual table module</a>.  The fields under **Inputs** are the
inputs to xBestIndex and are read-only.  xBestIndex inserts its
results into the **Outputs** fields.</p>

<p>The aConstraint[] array records WHERE clause constraints of the form:</p>

<p><pre>column OP expr</pre></p>

<p>where OP is =, &lt;, &lt;=, &gt;, or &gt;=.  The particular operator is
stored in aConstraint[].op.  The index of the column is stored in
aConstraint[].iColumn.  aConstraint[].usable is TRUE if the
expr on the right-hand side can be evaluated (and thus the constraint
is usable) and false if it cannot.</p>

<p>The optimizer automatically inverts terms of the form "expr OP column"
and makes other simplifications to the WHERE clause in an attempt to
get as many WHERE clause terms into the form shown above as possible.
The aConstraint[] array only reports WHERE clause terms that are
relevant to the particular virtual table being queried.</p>

<p>Information about the ORDER BY clause is stored in aOrderBy[].
Each term of aOrderBy records a column of the ORDER BY clause.</p>

<p>The <a href="vtab.html#xbestindex">xBestIndex</a> method must fill aConstraintUsage[] with information
about what parameters to pass to xFilter.  If argvIndex>0 then
the right-hand side of the corresponding aConstraint[] is evaluated
and becomes the argvIndex-th entry in argv.  If aConstraintUsage[].omit
is true, then the constraint is assumed to be fully handled by the
virtual table and is not checked again by SQLite.</p>

<p>The idxNum and idxPtr values are recorded and passed into the
<a href="vtab.html#xfilter">xFilter</a> method.
<a href="#sqlite3_free">sqlite3_free()</a> is used to free idxPtr if and only if
needToFreeIdxPtr is true.</p>

<p>The orderByConsumed means that output from <a href="vtab.html#xfilter">xFilter</a>/<a href="vtab.html#xnext">xNext</a> will occur in
the correct order to satisfy the ORDER BY clause so that no separate
sorting step is required.</p>

<p>The estimatedCost value is an estimate of the cost of doing the
particular lookup.  A full scan of a table with N entries should have
a cost of N.  A binary search of a table of N entries should have a
cost of approximately log(N).
</p><hr><a name="SQLITE_IOCAP_ATOMIC"></a>
<h2>Device Characteristics</h2><blockquote><pre>#define SQLITE_IOCAP_ATOMIC          0x00000001
#define SQLITE_IOCAP_ATOMIC512       0x00000002
#define SQLITE_IOCAP_ATOMIC1K        0x00000004
#define SQLITE_IOCAP_ATOMIC2K        0x00000008
#define SQLITE_IOCAP_ATOMIC4K        0x00000010
#define SQLITE_IOCAP_ATOMIC8K        0x00000020
#define SQLITE_IOCAP_ATOMIC16K       0x00000040
#define SQLITE_IOCAP_ATOMIC32K       0x00000080
#define SQLITE_IOCAP_ATOMIC64K       0x00000100
#define SQLITE_IOCAP_SAFE_APPEND     0x00000200
#define SQLITE_IOCAP_SEQUENTIAL      0x00000400
</pre></blockquote><p>
The xDeviceCapabilities method of the <a href="#sqlite3_io_methods">sqlite3_io_methods</a>
object returns an integer which is a vector of the these
bit values expressing I/O characteristics of the mass storage
device that holds the file that the <a href="#sqlite3_io_methods">sqlite3_io_methods</a>
refers to.</p>

<p>The SQLITE_IOCAP_ATOMIC property means that all writes of
any size are atomic.  The SQLITE_IOCAP_ATOMICnnn values
mean that writes of blocks that are nnn bytes in size and
are aligned to an address which is an integer multiple of
nnn are atomic.  The SQLITE_IOCAP_SAFE_APPEND value means
that when data is appended to a file, the data is appended
first then the size of the file is extended, never the other
way around.  The SQLITE_IOCAP_SEQUENTIAL property means that
information is written to disk in the same order as calls
to xWrite().
</p><hr><a name="SQLITE_IOERR_ACCESS"></a>
<h2>Extended Result Codes</h2><blockquote><pre>#define SQLITE_IOERR_READ              (SQLITE_IOERR | (1&lt;&lt;8))
#define SQLITE_IOERR_SHORT_READ        (SQLITE_IOERR | (2&lt;&lt;8))
#define SQLITE_IOERR_WRITE             (SQLITE_IOERR | (3&lt;&lt;8))
#define SQLITE_IOERR_FSYNC             (SQLITE_IOERR | (4&lt;&lt;8))
#define SQLITE_IOERR_DIR_FSYNC         (SQLITE_IOERR | (5&lt;&lt;8))
#define SQLITE_IOERR_TRUNCATE          (SQLITE_IOERR | (6&lt;&lt;8))
#define SQLITE_IOERR_FSTAT             (SQLITE_IOERR | (7&lt;&lt;8))
#define SQLITE_IOERR_UNLOCK            (SQLITE_IOERR | (8&lt;&lt;8))
#define SQLITE_IOERR_RDLOCK            (SQLITE_IOERR | (9&lt;&lt;8))
#define SQLITE_IOERR_DELETE            (SQLITE_IOERR | (10&lt;&lt;8))
#define SQLITE_IOERR_BLOCKED           (SQLITE_IOERR | (11&lt;&lt;8))
#define SQLITE_IOERR_NOMEM             (SQLITE_IOERR | (12&lt;&lt;8))
#define SQLITE_IOERR_ACCESS            (SQLITE_IOERR | (13&lt;&lt;8))
#define SQLITE_IOERR_CHECKRESERVEDLOCK (SQLITE_IOERR | (14&lt;&lt;8))
#define SQLITE_IOERR_LOCK              (SQLITE_IOERR | (15&lt;&lt;8))
#define SQLITE_IOERR_CLOSE             (SQLITE_IOERR | (16&lt;&lt;8))
#define SQLITE_IOERR_DIR_CLOSE         (SQLITE_IOERR | (17&lt;&lt;8))
#define SQLITE_LOCKED_SHAREDCACHE      (SQLITE_LOCKED | (1&lt;&lt;8) )
</pre></blockquote><p>
In its default configuration, SQLite API routines return one of 26 integer
<a href="#SQLITE_ABORT">result codes</a>.  However, experience has shown that many of
these result codes are too coarse-grained.  They do not provide as
much information about problems as programmers might like.  In an effort to
address this, newer versions of SQLite (version 3.3.8 and later) include
support for additional result codes that provide more detailed information
about errors. The extended result codes are enabled or disabled
on a per database connection basis using the
<a href="#sqlite3_extended_result_codes">sqlite3_extended_result_codes()</a> API.</p>

<p>Some of the available extended result codes are listed here.
One may expect the number of extended result codes will be expand
over time.  Software that uses extended result codes should expect
to see new result codes in future releases of SQLite.</p>

<p>The SQLITE_OK result code will never be extended.  It will always
be exactly zero.
</p><hr><a name="SQLITE_LOCK_EXCLUSIVE"></a>
<h2>File Locking Levels</h2><blockquote><pre>#define SQLITE_LOCK_NONE          0
#define SQLITE_LOCK_SHARED        1
#define SQLITE_LOCK_RESERVED      2
#define SQLITE_LOCK_PENDING       3
#define SQLITE_LOCK_EXCLUSIVE     4
</pre></blockquote><p>
SQLite uses one of these integer values as the second
argument to calls it makes to the xLock() and xUnlock() methods
of an <a href="#sqlite3_io_methods">sqlite3_io_methods</a> object.
</p><hr><a name="SQLITE_MUTEX_FAST"></a>
<h2>Mutex Types</h2><blockquote><pre>#define SQLITE_MUTEX_FAST             0
#define SQLITE_MUTEX_RECURSIVE        1
#define SQLITE_MUTEX_STATIC_MASTER    2
#define SQLITE_MUTEX_STATIC_MEM       3  /* sqlite3_malloc() */
#define SQLITE_MUTEX_STATIC_MEM2      4  /* NOT USED */
#define SQLITE_MUTEX_STATIC_OPEN      4  /* sqlite3BtreeOpen() */
#define SQLITE_MUTEX_STATIC_PRNG      5  /* sqlite3_random() */
#define SQLITE_MUTEX_STATIC_LRU       6  /* lru page list */
#define SQLITE_MUTEX_STATIC_LRU2      7  /* lru page list */
</pre></blockquote><p>
The <a href="#sqlite3_mutex_alloc">sqlite3_mutex_alloc()</a> interface takes a single argument
which is one of these integer constants.</p>

<p>The set of static mutexes may change from one SQLite release to the
next.  Applications that override the built-in mutex logic must be
prepared to accommodate additional static mutexes.
</p><hr><a name="SQLITE_OPEN_AUTOPROXY"></a>
<h2>Flags For File Open Operations</h2><blockquote><pre>#define SQLITE_OPEN_READONLY         0x00000001  /* Ok for sqlite3_open_v2() */
#define SQLITE_OPEN_READWRITE        0x00000002  /* Ok for sqlite3_open_v2() */
#define SQLITE_OPEN_CREATE           0x00000004  /* Ok for sqlite3_open_v2() */
#define SQLITE_OPEN_DELETEONCLOSE    0x00000008  /* VFS only */
#define SQLITE_OPEN_EXCLUSIVE        0x00000010  /* VFS only */
#define SQLITE_OPEN_AUTOPROXY        0x00000020  /* VFS only */
#define SQLITE_OPEN_MAIN_DB          0x00000100  /* VFS only */
#define SQLITE_OPEN_TEMP_DB          0x00000200  /* VFS only */
#define SQLITE_OPEN_TRANSIENT_DB     0x00000400  /* VFS only */
#define SQLITE_OPEN_MAIN_JOURNAL     0x00000800  /* VFS only */
#define SQLITE_OPEN_TEMP_JOURNAL     0x00001000  /* VFS only */
#define SQLITE_OPEN_SUBJOURNAL       0x00002000  /* VFS only */
#define SQLITE_OPEN_MASTER_JOURNAL   0x00004000  /* VFS only */
#define SQLITE_OPEN_NOMUTEX          0x00008000  /* Ok for sqlite3_open_v2() */
#define SQLITE_OPEN_FULLMUTEX        0x00010000  /* Ok for sqlite3_open_v2() */
#define SQLITE_OPEN_SHAREDCACHE      0x00020000  /* Ok for sqlite3_open_v2() */
#define SQLITE_OPEN_PRIVATECACHE     0x00040000  /* Ok for sqlite3_open_v2() */
</pre></blockquote><p>
These bit values are intended for use in the
3rd parameter to the <a href="#sqlite3_open">sqlite3_open_v2()</a> interface and
in the 4th parameter to the xOpen method of the
<a href="#sqlite3_vfs">sqlite3_vfs</a> object.
</p><hr><a name="SQLITE_SOURCE_ID"></a>
<h2>Compile-Time Library Version Numbers</h2><blockquote><pre>#define SQLITE_VERSION        "3.6.23"
#define SQLITE_VERSION_NUMBER 3006023
#define SQLITE_SOURCE_ID      "2010-03-09 19:31:43 4ae453ea7be69018d8c16eb8dabe05617397dc4d"
</pre></blockquote><p>
The <a href="#SQLITE_SOURCE_ID">SQLITE_VERSION</a> C preprocessor macro in the sqlite3.h header
evaluates to a string literal that is the SQLite version in the
format "X.Y.Z" where X is the major version number (always 3 for
SQLite3) and Y is the minor version number and Z is the release number.
The <a href="#SQLITE_SOURCE_ID">SQLITE_VERSION_NUMBER</a> C preprocessor macro resolves to an integer
with the value (X*1000000 + Y*1000 + Z) where X, Y, and Z are the same
numbers used in <a href="#SQLITE_SOURCE_ID">SQLITE_VERSION</a>.
The SQLITE_VERSION_NUMBER for any given release of SQLite will also
be larger than the release from which it is derived.  Either Y will
be held constant and Z will be incremented or else Y will be incremented
and Z will be reset to zero.</p>

<p>Since version 3.6.18, SQLite source code has been stored in the
<a href="http://www.fossil-scm.org/">Fossil configuration management
system</a>.  The SQLITE_SOURCE_ID macro evalutes to
a string which identifies a particular check-in of SQLite
within its configuration management system.  The SQLITE_SOURCE_ID
string contains the date and time of the check-in (UTC) and an SHA1
hash of the entire source tree.</p>

<p>See also: <a href="#sqlite3_libversion">sqlite3_libversion()</a>,
<a href="#sqlite3_libversion">sqlite3_libversion_number()</a>, <a href="#sqlite3_libversion">sqlite3_sourceid()</a>,
<a href="lang_corefunc.html#sqlite_version">sqlite_version()</a> and <a href="lang_corefunc.html#sqlite_source_id">sqlite_source_id()</a>.
</p><hr><a name="SQLITE_STATIC"></a>
<h2>Constants Defining Special Destructor Behavior</h2><blockquote><pre>typedef void (*sqlite3_destructor_type)(void*);
#define SQLITE_STATIC      ((sqlite3_destructor_type)0)
#define SQLITE_TRANSIENT   ((sqlite3_destructor_type)-1)
</pre></blockquote><p>
These are special values for the destructor that is passed in as the
final argument to routines like <a href="#sqlite3_result_blob">sqlite3_result_blob()</a>.  If the destructor
argument is SQLITE_STATIC, it means that the content pointer is constant
and will never change.  It does not need to be destroyed.  The
SQLITE_TRANSIENT value means that the content will likely change in
the near future and that SQLite should make its own private copy of
the content before returning.</p>

<p>The typedef is necessary to work around problems in certain
C++ compilers.  See ticket #2191.
</p><hr><a name="SQLITE_STATUS_MALLOC_SIZE"></a>
<h2>Status Parameters</h2><blockquote><pre>#define SQLITE_STATUS_MEMORY_USED          0
#define SQLITE_STATUS_PAGECACHE_USED       1
#define SQLITE_STATUS_PAGECACHE_OVERFLOW   2
#define SQLITE_STATUS_SCRATCH_USED         3
#define SQLITE_STATUS_SCRATCH_OVERFLOW     4
#define SQLITE_STATUS_MALLOC_SIZE          5
#define SQLITE_STATUS_PARSER_STACK         6
#define SQLITE_STATUS_PAGECACHE_SIZE       7
#define SQLITE_STATUS_SCRATCH_SIZE         8
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These integer constants designate various run-time status parameters
that can be returned by <a href="#sqlite3_status">sqlite3_status()</a>.</p>

<p><dl>
<dt>SQLITE_STATUS_MEMORY_USED</dt>
<dd>This parameter is the current amount of memory checked out
using <a href="#sqlite3_free">sqlite3_malloc()</a>, either directly or indirectly.  The
figure includes calls made to <a href="#sqlite3_free">sqlite3_malloc()</a> by the application
and internal memory usage by the SQLite library.  Scratch memory
controlled by <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SCRATCH</a> and auxiliary page-cache
memory controlled by <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PAGECACHE</a> is not included in
this parameter.  The amount returned is the sum of the allocation
sizes as reported by the xSize method in <a href="#sqlite3_mem_methods">sqlite3_mem_methods</a>.</dd></p>

<p><dt>SQLITE_STATUS_MALLOC_SIZE</dt>
<dd>This parameter records the largest memory allocation request
handed to <a href="#sqlite3_free">sqlite3_malloc()</a> or <a href="#sqlite3_free">sqlite3_realloc()</a> (or their
internal equivalents).  Only the value returned in the
*pHighwater parameter to <a href="#sqlite3_status">sqlite3_status()</a> is of interest.
The value written into the *pCurrent parameter is undefined.</dd></p>

<p><dt>SQLITE_STATUS_PAGECACHE_USED</dt>
<dd>This parameter returns the number of pages used out of the
<a href="malloc.html#pagecache">pagecache memory allocator</a> that was configured using
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PAGECACHE</a>.  The
value returned is in pages, not in bytes.</dd></p>

<p><dt>SQLITE_STATUS_PAGECACHE_OVERFLOW</dt>
<dd>This parameter returns the number of bytes of page cache
allocation which could not be statisfied by the <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PAGECACHE</a>
buffer and where forced to overflow to <a href="#sqlite3_free">sqlite3_malloc()</a>.  The
returned value includes allocations that overflowed because they
where too large (they were larger than the "sz" parameter to
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PAGECACHE</a>) and allocations that overflowed because
no space was left in the page cache.</dd></p>

<p><dt>SQLITE_STATUS_PAGECACHE_SIZE</dt>
<dd>This parameter records the largest memory allocation request
handed to <a href="malloc.html#pagecache">pagecache memory allocator</a>.  Only the value returned in the
*pHighwater parameter to <a href="#sqlite3_status">sqlite3_status()</a> is of interest.
The value written into the *pCurrent parameter is undefined.</dd></p>

<p><dt>SQLITE_STATUS_SCRATCH_USED</dt>
<dd>This parameter returns the number of allocations used out of the
<a href="malloc.html#scratch">scratch memory allocator</a> configured using
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SCRATCH</a>.  The value returned is in allocations, not
in bytes.  Since a single thread may only have one scratch allocation
outstanding at time, this parameter also reports the number of threads
using scratch memory at the same time.</dd></p>

<p><dt>SQLITE_STATUS_SCRATCH_OVERFLOW</dt>
<dd>This parameter returns the number of bytes of scratch memory
allocation which could not be statisfied by the <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SCRATCH</a>
buffer and where forced to overflow to <a href="#sqlite3_free">sqlite3_malloc()</a>.  The values
returned include overflows because the requested allocation was too
larger (that is, because the requested allocation was larger than the
"sz" parameter to <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SCRATCH</a>) and because no scratch buffer
slots were available.
</dd></p>

<p><dt>SQLITE_STATUS_SCRATCH_SIZE</dt>
<dd>This parameter records the largest memory allocation request
handed to <a href="malloc.html#scratch">scratch memory allocator</a>.  Only the value returned in the
*pHighwater parameter to <a href="#sqlite3_status">sqlite3_status()</a> is of interest.
The value written into the *pCurrent parameter is undefined.</dd></p>

<p><dt>SQLITE_STATUS_PARSER_STACK</dt>
<dd>This parameter records the deepest parser stack.  It is only
meaningful if SQLite is compiled with <a href="compile.html#yytrackmaxstackdepth">YYTRACKMAXSTACKDEPTH</a>.</dd>
</dl></p>

<p>New status parameters may be added from time to time.
</p><hr><a name="SQLITE_STMTSTATUS_FULLSCAN_STEP"></a>
<h2>Status Parameters for prepared statements</h2><blockquote><pre>#define SQLITE_STMTSTATUS_FULLSCAN_STEP     1
#define SQLITE_STMTSTATUS_SORT              2
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These preprocessor macros define integer codes that name counter
values associated with the <a href="#sqlite3_stmt_status">sqlite3_stmt_status()</a> interface.
The meanings of the various counters are as follows:</p>

<p><dl>
<dt>SQLITE_STMTSTATUS_FULLSCAN_STEP</dt>
<dd>This is the number of times that SQLite has stepped forward in
a table as part of a full table scan.  Large numbers for this counter
may indicate opportunities for performance improvement through
careful use of indices.</dd></p>

<p><dt>SQLITE_STMTSTATUS_SORT</dt>
<dd>This is the number of sort operations that have occurred.
A non-zero value in this counter may indicate an opportunity to
improvement performance through careful use of indices.</dd></p>

<p></dl>
</p><hr><a name="SQLITE_SYNC_DATAONLY"></a>
<h2>Synchronization Type Flags</h2><blockquote><pre>#define SQLITE_SYNC_NORMAL        0x00002
#define SQLITE_SYNC_FULL          0x00003
#define SQLITE_SYNC_DATAONLY      0x00010
</pre></blockquote><p>
When SQLite invokes the xSync() method of an
<a href="#sqlite3_io_methods">sqlite3_io_methods</a> object it uses a combination of
these integer values as the second argument.</p>

<p>When the SQLITE_SYNC_DATAONLY flag is used, it means that the
sync operation only needs to flush data to mass storage.  Inode
information need not be flushed. If the lower four bits of the flag
equal SQLITE_SYNC_NORMAL, that means to use normal fsync() semantics.
If the lower four bits equal SQLITE_SYNC_FULL, that means
to use Mac OS X style fullsync instead of fsync().
</p><hr><a name="SQLITE_TESTCTRL_ALWAYS"></a>
<h2>Testing Interface Operation Codes</h2><blockquote><pre>#define SQLITE_TESTCTRL_FIRST                    5
#define SQLITE_TESTCTRL_PRNG_SAVE                5
#define SQLITE_TESTCTRL_PRNG_RESTORE             6
#define SQLITE_TESTCTRL_PRNG_RESET               7
#define SQLITE_TESTCTRL_BITVEC_TEST              8
#define SQLITE_TESTCTRL_FAULT_INSTALL            9
#define SQLITE_TESTCTRL_BENIGN_MALLOC_HOOKS     10
#define SQLITE_TESTCTRL_PENDING_BYTE            11
#define SQLITE_TESTCTRL_ASSERT                  12
#define SQLITE_TESTCTRL_ALWAYS                  13
#define SQLITE_TESTCTRL_RESERVE                 14
#define SQLITE_TESTCTRL_OPTIMIZATIONS           15
#define SQLITE_TESTCTRL_ISKEYWORD               16
#define SQLITE_TESTCTRL_LAST                    16
</pre></blockquote><p>
These constants are the valid operation code parameters used
as the first argument to <a href="#sqlite3_test_control">sqlite3_test_control()</a>.</p>

<p>These parameters and their meanings are subject to change
without notice.  These values are for testing purposes only.
Applications should not use any of these parameters or the
<a href="#sqlite3_test_control">sqlite3_test_control()</a> interface.
</p><hr><a name="SQLITE_LIMIT_ATTACHED"></a>
<h2>Run-Time Limit Categories</h2><blockquote><pre>#define SQLITE_LIMIT_LENGTH                    0
#define SQLITE_LIMIT_SQL_LENGTH                1
#define SQLITE_LIMIT_COLUMN                    2
#define SQLITE_LIMIT_EXPR_DEPTH                3
#define SQLITE_LIMIT_COMPOUND_SELECT           4
#define SQLITE_LIMIT_VDBE_OP                   5
#define SQLITE_LIMIT_FUNCTION_ARG              6
#define SQLITE_LIMIT_ATTACHED                  7
#define SQLITE_LIMIT_LIKE_PATTERN_LENGTH       8
#define SQLITE_LIMIT_VARIABLE_NUMBER           9
#define SQLITE_LIMIT_TRIGGER_DEPTH            10
</pre></blockquote><p>
These constants define various performance limits
that can be lowered at run-time using <a href="#sqlite3_limit">sqlite3_limit()</a>.
The synopsis of the meanings of the various limits is shown below.
Additional information is available at <a href="limits.html">Limits in SQLite</a>.</p>

<p><dl>
<dt>SQLITE_LIMIT_LENGTH</dt>
<dd>The maximum size of any string or BLOB or table row.<dd></p>

<p><dt>SQLITE_LIMIT_SQL_LENGTH</dt>
<dd>The maximum length of an SQL statement, in bytes.</dd></p>

<p><dt>SQLITE_LIMIT_COLUMN</dt>
<dd>The maximum number of columns in a table definition or in the
result set of a <a href="lang_select.html">SELECT</a> or the maximum number of columns in an index
or in an ORDER BY or GROUP BY clause.</dd></p>

<p><dt>SQLITE_LIMIT_EXPR_DEPTH</dt>
<dd>The maximum depth of the parse tree on any expression.</dd></p>

<p><dt>SQLITE_LIMIT_COMPOUND_SELECT</dt>
<dd>The maximum number of terms in a compound SELECT statement.</dd></p>

<p><dt>SQLITE_LIMIT_VDBE_OP</dt>
<dd>The maximum number of instructions in a virtual machine program
used to implement an SQL statement.</dd></p>

<p><dt>SQLITE_LIMIT_FUNCTION_ARG</dt>
<dd>The maximum number of arguments on a function.</dd></p>

<p><dt>SQLITE_LIMIT_ATTACHED</dt>
<dd>The maximum number of <a href="lang_attach.html">attached databases</a>.</dd></p>

<p><dt>SQLITE_LIMIT_LIKE_PATTERN_LENGTH</dt>
<dd>The maximum length of the pattern argument to the <a href="lang_expr.html#like">LIKE</a> or
<a href="lang_expr.html#glob">GLOB</a> operators.</dd></p>

<p><dt>SQLITE_LIMIT_VARIABLE_NUMBER</dt>
<dd>The maximum number of variables in an SQL statement that can
be bound.</dd></p>

<p><dt>SQLITE_LIMIT_TRIGGER_DEPTH</dt>
<dd>The maximum depth of recursion for triggers.</dd>
</dl>
</p><hr><a name="sqlite3_int64"></a>
<h2>64-Bit Integer Types</h2><blockquote><pre>#ifdef SQLITE_INT64_TYPE
  typedef SQLITE_INT64_TYPE sqlite_int64;
  typedef unsigned SQLITE_INT64_TYPE sqlite_uint64;
#elif defined(_MSC_VER) || defined(__BORLANDC__)
  typedef __int64 sqlite_int64;
  typedef unsigned __int64 sqlite_uint64;
#else
  typedef long long int sqlite_int64;
  typedef unsigned long long int sqlite_uint64;
#endif
typedef sqlite_int64 sqlite3_int64;
typedef sqlite_uint64 sqlite3_uint64;
</pre></blockquote><p>
Because there is no cross-platform way to specify 64-bit integer types
SQLite includes typedefs for 64-bit signed and unsigned integers.</p>

<p>The sqlite3_int64 and sqlite3_uint64 are the preferred type definitions.
The sqlite_int64 and sqlite_uint64 types are supported for backwards
compatibility only.</p>

<p>The sqlite3_int64 and sqlite_int64 types can store integer values
between -9223372036854775808 and +9223372036854775807 inclusive.  The
sqlite3_uint64 and sqlite_uint64 types can store integer values
between 0 and +18446744073709551615 inclusive.
</p><hr><a name="sqlite3_module"></a>
<h2>Virtual Table Object</h2><blockquote><pre>struct sqlite3_module {
  int iVersion;
  int (*xCreate)(sqlite3*, void *pAux,
               int argc, const char *const*argv,
               sqlite3_vtab **ppVTab, char**);
  int (*xConnect)(sqlite3*, void *pAux,
               int argc, const char *const*argv,
               sqlite3_vtab **ppVTab, char**);
  int (*xBestIndex)(sqlite3_vtab *pVTab, sqlite3_index_info*);
  int (*xDisconnect)(sqlite3_vtab *pVTab);
  int (*xDestroy)(sqlite3_vtab *pVTab);
  int (*xOpen)(sqlite3_vtab *pVTab, sqlite3_vtab_cursor **ppCursor);
  int (*xClose)(sqlite3_vtab_cursor*);
  int (*xFilter)(sqlite3_vtab_cursor*, int idxNum, const char *idxStr,
                int argc, sqlite3_value **argv);
  int (*xNext)(sqlite3_vtab_cursor*);
  int (*xEof)(sqlite3_vtab_cursor*);
  int (*xColumn)(sqlite3_vtab_cursor*, sqlite3_context*, int);
  int (*xRowid)(sqlite3_vtab_cursor*, sqlite3_int64 *pRowid);
  int (*xUpdate)(sqlite3_vtab *, int, sqlite3_value **, sqlite3_int64 *);
  int (*xBegin)(sqlite3_vtab *pVTab);
  int (*xSync)(sqlite3_vtab *pVTab);
  int (*xCommit)(sqlite3_vtab *pVTab);
  int (*xRollback)(sqlite3_vtab *pVTab);
  int (*xFindFunction)(sqlite3_vtab *pVtab, int nArg, const char *zName,
                       void (**pxFunc)(sqlite3_context*,int,sqlite3_value**),
                       void **ppArg);
  int (*xRename)(sqlite3_vtab *pVtab, const char *zNew);
};
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
This structure, sometimes called a a "virtual table module",
defines the implementation of a <a href="vtab.html">virtual tables</a>.
This structure consists mostly of methods for the module.</p>

<p>A virtual table module is created by filling in a persistent
instance of this structure and passing a pointer to that instance
to <a href="#sqlite3_create_module">sqlite3_create_module()</a> or <a href="#sqlite3_create_module">sqlite3_create_module_v2()</a>.
The registration remains valid until it is replaced by a different
module or until the <a href="#sqlite3">database connection</a> closes.  The content
of this structure must not change while it is registered with
any database connection.
</p><hr><a name="sqlite3_vtab_cursor"></a>
<h2>Virtual Table Cursor Object</h2><blockquote><pre>struct sqlite3_vtab_cursor {
  sqlite3_vtab *pVtab;      /* Virtual table of this cursor */
  /* Virtual table implementations will typically add additional fields */
};
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
Every <a href="#sqlite3_module">virtual table module</a> implementation uses a subclass of the
following structure to describe cursors that point into the
<a href="vtab.html">virtual table</a> and are used
to loop through the virtual table.  Cursors are created using the
<a href="vtab.html#xopen">xOpen</a> method of the module and are destroyed
by the <a href="vtab.html#xclose">xClose</a> method.  Cursors are used
by the <a href="vtab.html#xfilter">xFilter</a>, <a href="vtab.html#xnext">xNext</a>, <a href="vtab.html#xeof">xEof</a>, <a href="vtab.html#xcolumn">xColumn</a>, and <a href="vtab.html#xrowid">xRowid</a> methods
of the module.  Each module implementation will define
the content of a cursor structure to suit its own needs.</p>

<p>This superclass exists in order to define fields of the cursor that
are common to all implementations.
</p><hr><a name="sqlite3_blob"></a>
<h2>A Handle To An Open BLOB</h2><blockquote><pre>typedef struct sqlite3_blob sqlite3_blob;
</pre></blockquote><p>
An instance of this object represents an open BLOB on which
<a href="#sqlite3_blob_open">incremental BLOB I/O</a> can be performed.
Objects of this type are created by <a href="#sqlite3_blob_open">sqlite3_blob_open()</a>
and destroyed by <a href="#sqlite3_blob_close">sqlite3_blob_close()</a>.
The <a href="#sqlite3_blob_read">sqlite3_blob_read()</a> and <a href="#sqlite3_blob_write">sqlite3_blob_write()</a> interfaces
can be used to read or write small subsections of the BLOB.
The <a href="#sqlite3_blob_bytes">sqlite3_blob_bytes()</a> interface returns the size of the BLOB in bytes.
</p><hr><a name="sqlite3"></a>
<h2>Database Connection Handle</h2><blockquote><pre>typedef struct sqlite3 sqlite3;
</pre></blockquote><p>
Each open SQLite database is represented by a pointer to an instance of
the opaque structure named "sqlite3".  It is useful to think of an sqlite3
pointer as an object.  The <a href="#sqlite3_open">sqlite3_open()</a>, <a href="#sqlite3_open">sqlite3_open16()</a>, and
<a href="#sqlite3_open">sqlite3_open_v2()</a> interfaces are its constructors, and <a href="#sqlite3_close">sqlite3_close()</a>
is its destructor.  There are many other interfaces (such as
<a href="#sqlite3_prepare">sqlite3_prepare_v2()</a>, <a href="#sqlite3_create_function">sqlite3_create_function()</a>, and
<a href="#sqlite3_busy_timeout">sqlite3_busy_timeout()</a> to name but three) that are methods on an
sqlite3 object.
</p><hr><a name="sqlite3_pcache_methods"></a>
<h2>Application Defined Page Cache.</h2><blockquote><pre>typedef struct sqlite3_pcache_methods sqlite3_pcache_methods;
struct sqlite3_pcache_methods {
  void *pArg;
  int (*xInit)(void*);
  void (*xShutdown)(void*);
  sqlite3_pcache *(*xCreate)(int szPage, int bPurgeable);
  void (*xCachesize)(sqlite3_pcache*, int nCachesize);
  int (*xPagecount)(sqlite3_pcache*);
  void *(*xFetch)(sqlite3_pcache*, unsigned key, int createFlag);
  void (*xUnpin)(sqlite3_pcache*, void*, int discard);
  void (*xRekey)(sqlite3_pcache*, void*, unsigned oldKey, unsigned newKey);
  void (*xTruncate)(sqlite3_pcache*, unsigned iLimit);
  void (*xDestroy)(sqlite3_pcache*);
};
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The <a href="#sqlite3_config">sqlite3_config</a>(<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_PCACHE</a>, ...) interface can
register an alternative page cache implementation by passing in an
instance of the sqlite3_pcache_methods structure. The majority of the
heap memory used by SQLite is used by the page cache to cache data read
from, or ready to be written to, the database file. By implementing a
custom page cache using this API, an application can control more
precisely the amount of memory consumed by SQLite, the way in which
that memory is allocated and released, and the policies used to
determine exactly which parts of a database file are cached and for
how long.</p>

<p>The contents of the sqlite3_pcache_methods structure are copied to an
internal buffer by SQLite within the call to <a href="#sqlite3_config">sqlite3_config</a>.  Hence
the application may discard the parameter after the call to
<a href="#sqlite3_config">sqlite3_config()</a> returns.</p>

<p>The xInit() method is called once for each call to <a href="#sqlite3_initialize">sqlite3_initialize()</a>
(usually only once during the lifetime of the process). The xInit()
method is passed a copy of the sqlite3_pcache_methods.pArg value.
The xInit() method can set up up global structures and/or any mutexes
required by the custom page cache implementation.</p>

<p>The xShutdown() method is called from within <a href="#sqlite3_initialize">sqlite3_shutdown()</a>,
if the application invokes this API. It can be used to clean up
any outstanding resources before process shutdown, if required.</p>

<p>SQLite holds a <a href="#SQLITE_MUTEX_FAST">SQLITE_MUTEX_RECURSIVE</a> mutex when it invokes
the xInit method, so the xInit method need not be threadsafe.  The
xShutdown method is only called from <a href="#sqlite3_initialize">sqlite3_shutdown()</a> so it does
not need to be threadsafe either.  All other methods must be threadsafe
in multithreaded applications.</p>

<p>SQLite will never invoke xInit() more than once without an intervening
call to xShutdown().</p>

<p>The xCreate() method is used to construct a new cache instance.  SQLite
will typically create one cache instance for each open database file,
though this is not guaranteed. The
first parameter, szPage, is the size in bytes of the pages that must
be allocated by the cache.  szPage will not be a power of two.  szPage
will the page size of the database file that is to be cached plus an
increment (here called "R") of about 100 or 200.  SQLite will use the
extra R bytes on each page to store metadata about the underlying
database page on disk.  The value of R depends
on the SQLite version, the target platform, and how SQLite was compiled.
R is constant for a particular build of SQLite.  The second argument to
xCreate(), bPurgeable, is true if the cache being created will
be used to cache database pages of a file stored on disk, or
false if it is used for an in-memory database. The cache implementation
does not have to do anything special based with the value of bPurgeable;
it is purely advisory.  On a cache where bPurgeable is false, SQLite will
never invoke xUnpin() except to deliberately delete a page.
In other words, a cache created with bPurgeable set to false will
never contain any unpinned pages.</p>

<p>The xCachesize() method may be called at any time by SQLite to set the
suggested maximum cache-size (number of pages stored by) the cache
instance passed as the first argument. This is the value configured using
the SQLite "<a href="pragma.html#pragma_cache_size">PRAGMA cache_size</a>" command.  As with the bPurgeable
parameter, the implementation is not required to do anything with this
value; it is advisory only.</p>

<p>The xPagecount() method should return the number of pages currently
stored in the cache.</p>

<p>The xFetch() method is used to fetch a page and return a pointer to it.
A 'page', in this context, is a buffer of szPage bytes aligned at an
8-byte boundary. The page to be fetched is determined by the key. The
mimimum key value is 1. After it has been retrieved using xFetch, the page
is considered to be "pinned".</p>

<p>If the requested page is already in the page cache, then the page cache
implementation must return a pointer to the page buffer with its content
intact.  If the requested page is not already in the cache, then the
behavior of the cache implementation is determined by the value of the
createFlag parameter passed to xFetch, according to the following table:</p>

<p><table border=1 width=85% align=center>
<tr><th> createFlag <th> Behaviour when page is not already in cache
<tr><td> 0 <td> Do not allocate a new page.  Return NULL.
<tr><td> 1 <td> Allocate a new page if it easy and convenient to do so.
Otherwise return NULL.
<tr><td> 2 <td> Make every effort to allocate a new page.  Only return
NULL if allocating a new page is effectively impossible.
</table></p>

<p>SQLite will normally invoke xFetch() with a createFlag of 0 or 1.  If
a call to xFetch() with createFlag==1 returns NULL, then SQLite will
attempt to unpin one or more cache pages by spilling the content of
pinned pages to disk and synching the operating system disk cache. After
attempting to unpin pages, the xFetch() method will be invoked again with
a createFlag of 2.</p>

<p>xUnpin() is called by SQLite with a pointer to a currently pinned page
as its second argument. If the third parameter, discard, is non-zero,
then the page should be evicted from the cache. In this case SQLite
assumes that the next time the page is retrieved from the cache using
the xFetch() method, it will be zeroed. If the discard parameter is
zero, then the page is considered to be unpinned. The cache implementation
may choose to evict unpinned pages at any time.</p>

<p>The cache is not required to perform any reference counting. A single
call to xUnpin() unpins the page regardless of the number of prior calls
to xFetch().</p>

<p>The xRekey() method is used to change the key value associated with the
page passed as the second argument from oldKey to newKey. If the cache
previously contains an entry associated with newKey, it should be
discarded. Any prior cache entry associated with newKey is guaranteed not
to be pinned.</p>

<p>When SQLite calls the xTruncate() method, the cache must discard all
existing cache entries with page numbers (keys) greater than or equal
to the value of the iLimit parameter passed to xTruncate(). If any
of these pages are pinned, they are implicitly unpinned, meaning that
they can be safely discarded.</p>

<p>The xDestroy() method is used to delete a cache allocated by xCreate().
All resources associated with the specified cache should be freed. After
calling the xDestroy() method, SQLite considers the <a href="#sqlite3_pcache">sqlite3_pcache*</a>
handle invalid, and will not use it with any other sqlite3_pcache_methods
functions.
</p><hr><a name="sqlite3_stmt"></a>
<h2>SQL Statement Object</h2><blockquote><pre>typedef struct sqlite3_stmt sqlite3_stmt;
</pre></blockquote><p>
An instance of this object represents a single SQL statement.
This object is variously known as a "prepared statement" or a
"compiled SQL statement" or simply as a "statement".</p>

<p>The life of a statement object goes something like this:</p>

<p><ol>
<li> Create the object using <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or a related
function.
<li> Bind values to <a href="#sqlite3_bind_blob">host parameters</a> using the sqlite3_bind_*()
interfaces.
<li> Run the SQL by calling <a href="#sqlite3_step">sqlite3_step()</a> one or more times.
<li> Reset the statement using <a href="#sqlite3_reset">sqlite3_reset()</a> then go back
to step 2.  Do this zero or more times.
<li> Destroy the object using <a href="#sqlite3_finalize">sqlite3_finalize()</a>.
</ol></p>

<p>Refer to documentation on individual methods above for additional
information.
</p><hr><a name="sqlite3_value"></a>
<h2>Dynamically Typed Value Object</h2><blockquote><pre>typedef struct Mem sqlite3_value;
</pre></blockquote><p>
SQLite uses the sqlite3_value object to represent all values
that can be stored in a database table. SQLite uses dynamic typing
for the values it stores.  Values stored in sqlite3_value objects
can be integers, floating point values, strings, BLOBs, or NULL.</p>

<p>An sqlite3_value object may be either "protected" or "unprotected".
Some interfaces require a protected sqlite3_value.  Other interfaces
will accept either a protected or an unprotected sqlite3_value.
Every interface that accepts sqlite3_value arguments specifies
whether or not it requires a protected sqlite3_value.</p>

<p>The terms "protected" and "unprotected" refer to whether or not
a mutex is held.  A internal mutex is held for a protected
sqlite3_value object but no mutex is held for an unprotected
sqlite3_value object.  If SQLite is compiled to be single-threaded
(with <a href="compile.html#threadsafe">SQLITE_THREADSAFE=0</a> and with <a href="#sqlite3_threadsafe">sqlite3_threadsafe()</a> returning 0)
or if SQLite is run in one of reduced mutex modes
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_SINGLETHREAD</a> or <a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MULTITHREAD</a>
then there is no distinction between protected and unprotected
sqlite3_value objects and they can be used interchangeably.  However,
for maximum code portability it is recommended that applications
still make the distinction between between protected and unprotected
sqlite3_value objects even when not strictly required.</p>

<p>The sqlite3_value objects that are passed as parameters into the
implementation of <a href="#sqlite3_create_function">application-defined SQL functions</a> are protected.
The sqlite3_value object returned by
<a href="#sqlite3_column_blob">sqlite3_column_value()</a> is unprotected.
Unprotected sqlite3_value objects may only be used with
<a href="#sqlite3_result_blob">sqlite3_result_value()</a> and <a href="#sqlite3_bind_blob">sqlite3_bind_value()</a>.
The <a href="#sqlite3_value_blob">sqlite3_value_type()</a> family of
interfaces require protected sqlite3_value objects.
</p><hr><a name="sqlite3_aggregate_count"></a>
<h2>Deprecated Functions</h2><blockquote><pre>#ifndef SQLITE_OMIT_DEPRECATED
int sqlite3_aggregate_count(sqlite3_context*);
int sqlite3_expired(sqlite3_stmt*);
int sqlite3_transfer_bindings(sqlite3_stmt*, sqlite3_stmt*);
int sqlite3_global_recover(void);
void sqlite3_thread_cleanup(void);
int sqlite3_memory_alarm(void(*)(void*,sqlite3_int64,int),void*,sqlite3_int64);
#endif
</pre></blockquote><p>
These functions are <a href="capi3ref.html">deprecated</a>.  In order to maintain
backwards compatibility with older code, these functions continue
to be supported.  However, new applications should avoid
the use of these functions.  To help encourage people to avoid
using these functions, we are not going to tell you what they do.
</p><hr><a name="sqlite3_backup_finish"></a>
<h2>Online Backup API.</h2><blockquote><pre>sqlite3_backup *sqlite3_backup_init(
  sqlite3 *pDest,                        /* Destination database handle */
  const char *zDestName,                 /* Destination database name */
  sqlite3 *pSource,                      /* Source database handle */
  const char *zSourceName                /* Source database name */
);
int sqlite3_backup_step(sqlite3_backup *p, int nPage);
int sqlite3_backup_finish(sqlite3_backup *p);
int sqlite3_backup_remaining(sqlite3_backup *p);
int sqlite3_backup_pagecount(sqlite3_backup *p);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
The backup API copies the content of one database into another.
It is useful either for creating backups of databases or
for copying in-memory databases to or from persistent files.</p>

<p>See Also: <a href="backup.html">Using the SQLite Online Backup API</a></p>

<p>Exclusive access is required to the destination database for the
duration of the operation. However the source database is only
read-locked while it is actually being read; it is not locked
continuously for the entire backup operation. Thus, the backup may be
performed on a live source database without preventing other users from
reading or writing to the source database while the backup is underway.</p>

<p>To perform a backup operation:
<ol>
<li><b>sqlite3_backup_init()</b> is called once to initialize the
backup,
<li><b>sqlite3_backup_step()</b> is called one or more times to transfer
the data between the two databases, and finally
<li><b>sqlite3_backup_finish()</b> is called to release all resources
associated with the backup operation.
</ol>
There should be exactly one call to sqlite3_backup_finish() for each
successful call to sqlite3_backup_init().</p>

<p><b>sqlite3_backup_init()</b></p>

<p>The D and N arguments to sqlite3_backup_init(D,N,S,M) are the
<a href="#sqlite3">database connection</a> associated with the destination database
and the database name, respectively.
The database name is "main" for the main database, "temp" for the
temporary database, or the name specified after the AS keyword in
an <a href="lang_attach.html">ATTACH</a> statement for an attached database.
The S and M arguments passed to
sqlite3_backup_init(D,N,S,M) identify the <a href="#sqlite3">database connection</a>
and database name of the source database, respectively.
The source and destination <a href="#sqlite3">database connections</a> (parameters S and D)
must be different or else sqlite3_backup_init(D,N,S,M) will file with
an error.</p>

<p>If an error occurs within sqlite3_backup_init(D,N,S,M), then NULL is
returned and an error code and error message are store3d in the
destination <a href="#sqlite3">database connection</a> D.
The error code and message for the failed call to sqlite3_backup_init()
can be retrieved using the <a href="#sqlite3_errcode">sqlite3_errcode()</a>, <a href="#sqlite3_errcode">sqlite3_errmsg()</a>, and/or
<a href="#sqlite3_errcode">sqlite3_errmsg16()</a> functions.
A successful call to sqlite3_backup_init() returns a pointer to an
<a href="#sqlite3_backup">sqlite3_backup</a> object.
The <a href="#sqlite3_backup">sqlite3_backup</a> object may be used with the sqlite3_backup_step() and
sqlite3_backup_finish() functions to perform the specified backup
operation.</p>

<p><b>sqlite3_backup_step()</b></p>

<p>Function sqlite3_backup_step(B,N) will copy up to N pages between
the source and destination databases specified by <a href="#sqlite3_backup">sqlite3_backup</a> object B.
If N is negative, all remaining source pages are copied.
If sqlite3_backup_step(B,N) successfully copies N pages and there
are still more pages to be copied, then the function resturns <a href="#SQLITE_ABORT">SQLITE_OK</a>.
If sqlite3_backup_step(B,N) successfully finishes copying all pages
from source to destination, then it returns <a href="#SQLITE_ABORT">SQLITE_DONE</a>.
If an error occurs while running sqlite3_backup_step(B,N),
then an <a href="#SQLITE_ABORT">error code</a> is returned. As well as <a href="#SQLITE_ABORT">SQLITE_OK</a> and
<a href="#SQLITE_ABORT">SQLITE_DONE</a>, a call to sqlite3_backup_step() may return <a href="#SQLITE_ABORT">SQLITE_READONLY</a>,
<a href="#SQLITE_ABORT">SQLITE_NOMEM</a>, <a href="#SQLITE_ABORT">SQLITE_BUSY</a>, <a href="#SQLITE_ABORT">SQLITE_LOCKED</a>, or an
<a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_XXX</a> extended error code.</p>

<p>The sqlite3_backup_step() might return <a href="#SQLITE_ABORT">SQLITE_READONLY</a> if the destination
database was opened read-only or if
the destination is an in-memory database with a different page size
from the source database.</p>

<p>If sqlite3_backup_step() cannot obtain a required file-system lock, then
the <a href="#sqlite3_busy_handler">busy-handler function</a>
is invoked (if one is specified). If the
busy-handler returns non-zero before the lock is available, then
<a href="#SQLITE_ABORT">SQLITE_BUSY</a> is returned to the caller. In this case the call to
sqlite3_backup_step() can be retried later. If the source
<a href="#sqlite3">database connection</a>
is being used to write to the source database when sqlite3_backup_step()
is called, then <a href="#SQLITE_ABORT">SQLITE_LOCKED</a> is returned immediately. Again, in this
case the call to sqlite3_backup_step() can be retried later on. If
<a href="#SQLITE_IOERR_ACCESS">SQLITE_IOERR_XXX</a>, <a href="#SQLITE_ABORT">SQLITE_NOMEM</a>, or
<a href="#SQLITE_ABORT">SQLITE_READONLY</a> is returned, then
there is no point in retrying the call to sqlite3_backup_step(). These
errors are considered fatal.  The application must accept
that the backup operation has failed and pass the backup operation handle
to the sqlite3_backup_finish() to release associated resources.</p>

<p>The first call to sqlite3_backup_step() obtains an exclusive lock
on the destination file. The exclusive lock is not released until either
sqlite3_backup_finish() is called or the backup operation is complete
and sqlite3_backup_step() returns <a href="#SQLITE_ABORT">SQLITE_DONE</a>.  Every call to
sqlite3_backup_step() obtains a <a href="lockingv3.html#shared_lock">shared lock</a> on the source database that
lasts for the duration of the sqlite3_backup_step() call.
Because the source database is not locked between calls to
sqlite3_backup_step(), the source database may be modified mid-way
through the backup process.  If the source database is modified by an
external process or via a database connection other than the one being
used by the backup operation, then the backup will be automatically
restarted by the next call to sqlite3_backup_step(). If the source
database is modified by the using the same database connection as is used
by the backup operation, then the backup database is automatically
updated at the same time.</p>

<p><b>sqlite3_backup_finish()</b></p>

<p>When sqlite3_backup_step() has returned <a href="#SQLITE_ABORT">SQLITE_DONE</a>, or when the
application wishes to abandon the backup operation, the application
should destroy the <a href="#sqlite3_backup">sqlite3_backup</a> by passing it to sqlite3_backup_finish().
The sqlite3_backup_finish() interfaces releases all
resources associated with the <a href="#sqlite3_backup">sqlite3_backup</a> object.
If sqlite3_backup_step() has not yet returned <a href="#SQLITE_ABORT">SQLITE_DONE</a>, then any
active write-transaction on the destination database is rolled back.
The <a href="#sqlite3_backup">sqlite3_backup</a> object is invalid
and may not be used following a call to sqlite3_backup_finish().</p>

<p>The value returned by sqlite3_backup_finish is <a href="#SQLITE_ABORT">SQLITE_OK</a> if no
sqlite3_backup_step() errors occurred, regardless or whether or not
sqlite3_backup_step() completed.
If an out-of-memory condition or IO error occurred during any prior
sqlite3_backup_step() call on the same <a href="#sqlite3_backup">sqlite3_backup</a> object, then
sqlite3_backup_finish() returns the corresponding <a href="#SQLITE_ABORT">error code</a>.</p>

<p>A return of <a href="#SQLITE_ABORT">SQLITE_BUSY</a> or <a href="#SQLITE_ABORT">SQLITE_LOCKED</a> from sqlite3_backup_step()
is not a permanent error and does not affect the return value of
sqlite3_backup_finish().</p>

<p><b>sqlite3_backup_remaining(), sqlite3_backup_pagecount()</b></p>

<p>Each call to sqlite3_backup_step() sets two values inside
the <a href="#sqlite3_backup">sqlite3_backup</a> object: the number of pages still to be backed
up and the total number of pages in the source databae file.
The sqlite3_backup_remaining() and sqlite3_backup_pagecount() interfaces
retrieve these two values, respectively.</p>

<p>The values returned by these functions are only updated by
sqlite3_backup_step(). If the source database is modified during a backup
operation, then the values are not updated to account for any extra
pages that need to be updated or the size of the source database file
changing.</p>

<p><b>Concurrent Usage of Database Handles</b></p>

<p>The source <a href="#sqlite3">database connection</a> may be used by the application for other
purposes while a backup operation is underway or being initialized.
If SQLite is compiled and configured to support threadsafe database
connections, then the source database connection may be used concurrently
from within other threads.</p>

<p>However, the application must guarantee that the destination
<a href="#sqlite3">database connection</a> is not passed to any other API (by any thread) after
sqlite3_backup_init() is called and before the corresponding call to
sqlite3_backup_finish().  SQLite does not currently check to see
if the application incorrectly accesses the destination <a href="#sqlite3">database connection</a>
and so no error code is reported, but the operations may malfunction
nevertheless.  Use of the destination database connection while a
backup is in progress might also also cause a mutex deadlock.</p>

<p>If running in <a href="sharedcache.html">shared cache mode</a>, the application must
guarantee that the shared cache used by the destination database
is not accessed while the backup is running. In practice this means
that the application must guarantee that the disk file being
backed up to is not accessed by any connection within the process,
not just the specific connection that was passed to sqlite3_backup_init().</p>

<p>The <a href="#sqlite3_backup">sqlite3_backup</a> object itself is partially threadsafe. Multiple
threads may safely make multiple concurrent calls to sqlite3_backup_step().
However, the sqlite3_backup_remaining() and sqlite3_backup_pagecount()
APIs are not strictly speaking threadsafe. If they are invoked at the
same time as another thread is invoking sqlite3_backup_step() it is
possible that they return invalid values.
</p><hr><a name="sqlite3_collation_needed"></a>
<h2>Collation Needed Callbacks</h2><blockquote><pre>int sqlite3_collation_needed(
  sqlite3*, 
  void*, 
  void(*)(void*,sqlite3*,int eTextRep,const char*)
);
int sqlite3_collation_needed16(
  sqlite3*, 
  void*,
  void(*)(void*,sqlite3*,int eTextRep,const void*)
);
</pre></blockquote><p>
To avoid having to register all collation sequences before a database
can be used, a single callback function may be registered with the
<a href="#sqlite3">database connection</a> to be invoked whenever an undefined collation
sequence is required.</p>

<p>If the function is registered using the sqlite3_collation_needed() API,
then it is passed the names of undefined collation sequences as strings
encoded in UTF-8. If sqlite3_collation_needed16() is used,
the names are passed as UTF-16 in machine native byte order.
A call to either function replaces the existing collation-needed callback.</p>

<p>When the callback is invoked, the first argument passed is a copy
of the second argument to sqlite3_collation_needed() or
sqlite3_collation_needed16().  The second argument is the database
connection.  The third argument is one of <a href="#SQLITE_ANY">SQLITE_UTF8</a>, <a href="#SQLITE_ANY">SQLITE_UTF16BE</a>,
or <a href="#SQLITE_ANY">SQLITE_UTF16LE</a>, indicating the most desirable form of the collation
sequence function required.  The fourth parameter is the name of the
required collation sequence.</p>

<p>The callback function should register the desired collation using
<a href="#sqlite3_create_collation">sqlite3_create_collation()</a>, <a href="#sqlite3_create_collation">sqlite3_create_collation16()</a>, or
<a href="#sqlite3_create_collation">sqlite3_create_collation_v2()</a>.
</p><hr><a name="sqlite3_column_database_name"></a>
<h2>Source Of Data In A Query Result</h2><blockquote><pre>const char *sqlite3_column_database_name(sqlite3_stmt*,int);
const void *sqlite3_column_database_name16(sqlite3_stmt*,int);
const char *sqlite3_column_table_name(sqlite3_stmt*,int);
const void *sqlite3_column_table_name16(sqlite3_stmt*,int);
const char *sqlite3_column_origin_name(sqlite3_stmt*,int);
const void *sqlite3_column_origin_name16(sqlite3_stmt*,int);
</pre></blockquote><p>
These routines provide a means to determine the database, table, and
table column that is the origin of a particular result column in
<a href="lang_select.html">SELECT</a> statement.
The name of the database or table or column can be returned as
either a UTF-8 or UTF-16 string.  The _database_ routines return
the database name, the _table_ routines return the table name, and
the origin_ routines return the column name.
The returned string is valid until the <a href="#sqlite3_stmt">prepared statement</a> is destroyed
using <a href="#sqlite3_finalize">sqlite3_finalize()</a> or until the same information is requested
again in a different encoding.</p>

<p>The names returned are the original un-aliased names of the
database, table, and column.</p>

<p>The first argument to these interfaces is a <a href="#sqlite3_stmt">prepared statement</a>.
These functions return information about the Nth result column returned by
the statement, where N is the second function argument.
The left-most column is column 0 for these routines.</p>

<p>If the Nth column returned by the statement is an expression or
subquery and is not a column value, then all of these functions return
NULL.  These routine might also return NULL if a memory allocation error
occurs.  Otherwise, they return the name of the attached database, table,
or column that query result column was extracted from.</p>

<p>As with all other SQLite APIs, those whose names end with "16" return
UTF-16 encoded strings and the other functions return UTF-8.</p>

<p>These APIs are only available if the library was compiled with the
<a href="compile.html#enable_column_metadata">SQLITE_ENABLE_COLUMN_METADATA</a> C-preprocessor symbol.</p>

<p>If two or more threads call one or more of these routines against the same
prepared statement and column at the same time then the results are
undefined.</p>

<p>If two or more threads call one or more
<a href="#sqlite3_column_database_name">column metadata interfaces</a>
for the same <a href="#sqlite3_stmt">prepared statement</a> and result column
at the same time then the results are undefined.
</p><hr><a name="sqlite3_column_decltype"></a>
<h2>Declared Datatype Of A Query Result</h2><blockquote><pre>const char *sqlite3_column_decltype(sqlite3_stmt*,int);
const void *sqlite3_column_decltype16(sqlite3_stmt*,int);
</pre></blockquote><p>
The first parameter is a <a href="#sqlite3_stmt">prepared statement</a>.
If this statement is a <a href="lang_select.html">SELECT</a> statement and the Nth column of the
returned result set of that <a href="lang_select.html">SELECT</a> is a table column (not an
expression or subquery) then the declared type of the table
column is returned.  If the Nth column of the result set is an
expression or subquery, then a NULL pointer is returned.
The returned string is always UTF-8 encoded.</p>

<p>For example, given the database schema:</p>

<p>CREATE TABLE t1(c1 VARIANT);</p>

<p>and the following statement to be compiled:</p>

<p>SELECT c1 + 1, c1 FROM t1;</p>

<p>this routine would return the string "VARIANT" for the second result
column (i==1), and a NULL pointer for the first result column (i==0).</p>

<p>SQLite uses dynamic run-time typing.  So just because a column
is declared to contain a particular type does not mean that the
data stored in that column is of the declared type.  SQLite is
strongly typed, but the typing is dynamic not static.  Type
is associated with individual values, not with the containers
used to hold those values.
</p><hr><a name="sqlite3_column_name"></a>
<h2>Column Names In A Result Set</h2><blockquote><pre>const char *sqlite3_column_name(sqlite3_stmt*, int N);
const void *sqlite3_column_name16(sqlite3_stmt*, int N);
</pre></blockquote><p>
These routines return the name assigned to a particular column
in the result set of a <a href="lang_select.html">SELECT</a> statement.  The sqlite3_column_name()
interface returns a pointer to a zero-terminated UTF-8 string
and sqlite3_column_name16() returns a pointer to a zero-terminated
UTF-16 string.  The first parameter is the <a href="#sqlite3_stmt">prepared statement</a>
that implements the <a href="lang_select.html">SELECT</a> statement. The second parameter is the
column number.  The leftmost column is number 0.</p>

<p>The returned string pointer is valid until either the <a href="#sqlite3_stmt">prepared statement</a>
is destroyed by <a href="#sqlite3_finalize">sqlite3_finalize()</a> or until the next call to
sqlite3_column_name() or sqlite3_column_name16() on the same column.</p>

<p>If sqlite3_malloc() fails during the processing of either routine
(for example during a conversion from UTF-8 to UTF-16) then a
NULL pointer is returned.</p>

<p>The name of a result column is the value of the "AS" clause for
that column, if there is an AS clause.  If there is no AS clause
then the name of the column is unspecified and may change from
one release of SQLite to the next.
</p><hr><a name="sqlite3_commit_hook"></a>
<h2>Commit And Rollback Notification Callbacks</h2><blockquote><pre>void *sqlite3_commit_hook(sqlite3*, int(*)(void*), void*);
void *sqlite3_rollback_hook(sqlite3*, void(*)(void *), void*);
</pre></blockquote><p>
The sqlite3_commit_hook() interface registers a callback
function to be invoked whenever a transaction is <a href="lang_transaction.html">committed</a>.
Any callback set by a previous call to sqlite3_commit_hook()
for the same database connection is overridden.
The sqlite3_rollback_hook() interface registers a callback
function to be invoked whenever a transaction is <a href="lang_transaction.html">rolled back</a>.
Any callback set by a previous call to sqlite3_rollback_hook()
for the same database connection is overridden.
The pArg argument is passed through to the callback.
If the callback on a commit hook function returns non-zero,
then the commit is converted into a rollback.</p>

<p>The sqlite3_commit_hook(D,C,P) and sqlite3_rollback_hook(D,C,P) functions
return the P argument from the previous call of the same function
on the same <a href="#sqlite3">database connection</a> D, or NULL for
the first call for each function on D.</p>

<p>The callback implementation must not do anything that will modify
the database connection that invoked the callback.  Any actions
to modify the database connection must be deferred until after the
completion of the <a href="#sqlite3_step">sqlite3_step()</a> call that triggered the commit
or rollback hook in the first place.
Note that <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> and <a href="#sqlite3_step">sqlite3_step()</a> both modify their
database connections for the meaning of "modify" in this paragraph.</p>

<p>Registering a NULL function disables the callback.</p>

<p>When the commit hook callback routine returns zero, the <a href="lang_transaction.html">COMMIT</a>
operation is allowed to continue normally.  If the commit hook
returns non-zero, then the <a href="lang_transaction.html">COMMIT</a> is converted into a <a href="lang_transaction.html">ROLLBACK</a>.
The rollback hook is invoked on a rollback that results from a commit
hook returning non-zero, just as it would be with any other rollback.</p>

<p>For the purposes of this API, a transaction is said to have been
rolled back if an explicit "ROLLBACK" statement is executed, or
an error or constraint causes an implicit rollback to occur.
The rollback callback is not invoked if a transaction is
automatically rolled back because the database connection is closed.
The rollback callback is not invoked if a transaction is
rolled back because a commit callback returned non-zero.</p>

<p>See also the <a href="#sqlite3_update_hook">sqlite3_update_hook()</a> interface.
</p><hr><a name="sqlite3_compileoption_get"></a>
<h2>Run-Time Library Compilation Options Diagnostics</h2><blockquote><pre>int sqlite3_compileoption_used(const char *zOptName);
const char *sqlite3_compileoption_get(int N);
#endif /* SQLITE_OMIT_COMPILEOPTION_DIAGS */
</pre></blockquote><p>
The sqlite3_compileoption_used() function returns 0 or 1
indicating whether the specified option was defined at
compile time.  The SQLITE_ prefix may be omitted from the
option name passed to sqlite3_compileoption_used().</p>

<p>The sqlite3_compileoption_get() function allows interating
over the list of options that were defined at compile time by
returning the N-th compile time option string.  If N is out of range,
sqlite3_compileoption_get() returns a NULL pointer.  The SQLITE_
prefix is omitted from any strings returned by
sqlite3_compileoption_get().</p>

<p>Support for the diagnostic functions sqlite3_compileoption_used()
and sqlite3_compileoption_get() may be omitted by specifing the
<a href="compile.html#omit_compileoption_diags">SQLITE_OMIT_COMPILEOPTION_DIAGS</a> option at compile time.</p>

<p>See also: SQL functions <a href="lang_corefunc.html#sqlite_compileoption_used">sqlite_compileoption_used()</a> and
<a href="lang_corefunc.html#sqlite_compileoption_get">sqlite_compileoption_get()</a> and the <a href="pragma.html#pragma_compile_options">compile_options pragma</a>.
</p><hr><a name="sqlite3_complete"></a>
<h2>Determine If An SQL Statement Is Complete</h2><blockquote><pre>int sqlite3_complete(const char *sql);
int sqlite3_complete16(const void *sql);
</pre></blockquote><p>
These routines are useful during command-line input to determine if the
currently entered text seems to form a complete SQL statement or
if additional input is needed before sending the text into
SQLite for parsing.  These routines return 1 if the input string
appears to be a complete SQL statement.  A statement is judged to be
complete if it ends with a semicolon token and is not a prefix of a
well-formed CREATE TRIGGER statement.  Semicolons that are embedded within
string literals or quoted identifier names or comments are not
independent tokens (they are part of the token in which they are
embedded) and thus do not count as a statement terminator.  Whitespace
and comments that follow the final semicolon are ignored.</p>

<p>These routines return 0 if the statement is incomplete.  If a
memory allocation fails, then SQLITE_NOMEM is returned.</p>

<p>These routines do not parse the SQL statements thus
will not detect syntactically incorrect SQL.</p>

<p>If SQLite has not been initialized using <a href="#sqlite3_initialize">sqlite3_initialize()</a> prior
to invoking sqlite3_complete16() then sqlite3_initialize() is invoked
automatically by sqlite3_complete16().  If that initialization fails,
then the return value from sqlite3_complete16() will be non-zero
regardless of whether or not the input SQL is complete.</p>

<p>The input to <a href="#sqlite3_complete">sqlite3_complete()</a> must be a zero-terminated
UTF-8 string.</p>

<p>The input to <a href="#sqlite3_complete">sqlite3_complete16()</a> must be a zero-terminated
UTF-16 string in native byte order.
</p><hr><a name="sqlite3_create_collation"></a>
<h2>Define New Collating Sequences</h2><blockquote><pre>int sqlite3_create_collation(
  sqlite3*, 
  const char *zName, 
  int eTextRep, 
  void*,
  int(*xCompare)(void*,int,const void*,int,const void*)
);
int sqlite3_create_collation_v2(
  sqlite3*, 
  const char *zName, 
  int eTextRep, 
  void*,
  int(*xCompare)(void*,int,const void*,int,const void*),
  void(*xDestroy)(void*)
);
int sqlite3_create_collation16(
  sqlite3*, 
  const void *zName,
  int eTextRep, 
  void*,
  int(*xCompare)(void*,int,const void*,int,const void*)
);
</pre></blockquote><p>
These functions are used to add new collation sequences to the
<a href="#sqlite3">database connection</a> specified as the first argument.</p>

<p>The name of the new collation sequence is specified as a UTF-8 string
for sqlite3_create_collation() and sqlite3_create_collation_v2()
and a UTF-16 string for sqlite3_create_collation16(). In all cases
the name is passed as the second function argument.</p>

<p>The third argument may be one of the constants <a href="#SQLITE_ANY">SQLITE_UTF8</a>,
<a href="#SQLITE_ANY">SQLITE_UTF16LE</a>, or <a href="#SQLITE_ANY">SQLITE_UTF16BE</a>, indicating that the user-supplied
routine expects to be passed pointers to strings encoded using UTF-8,
UTF-16 little-endian, or UTF-16 big-endian, respectively. The
third argument might also be <a href="#SQLITE_ANY">SQLITE_UTF16</a> to indicate that the routine
expects pointers to be UTF-16 strings in the native byte order, or the
argument can be <a href="#SQLITE_ANY">SQLITE_UTF16_ALIGNED</a> if the
the routine expects pointers to 16-bit word aligned strings
of UTF-16 in the native byte order.</p>

<p>A pointer to the user supplied routine must be passed as the fifth
argument.  If it is NULL, this is the same as deleting the collation
sequence (so that SQLite cannot call it anymore).
Each time the application supplied function is invoked, it is passed
as its first parameter a copy of the void* passed as the fourth argument
to sqlite3_create_collation() or sqlite3_create_collation16().</p>

<p>The remaining arguments to the application-supplied routine are two strings,
each represented by a (length, data) pair and encoded in the encoding
that was passed as the third argument when the collation sequence was
registered.  The application defined collation routine should
return negative, zero or positive if the first string is less than,
equal to, or greater than the second string. i.e. (STRING1 - STRING2).</p>

<p>The sqlite3_create_collation_v2() works like sqlite3_create_collation()
except that it takes an extra argument which is a destructor for
the collation.  The destructor is called when the collation is
destroyed and is passed a copy of the fourth parameter void* pointer
of the sqlite3_create_collation_v2().
Collations are destroyed when they are overridden by later calls to the
collation creation functions or when the <a href="#sqlite3">database connection</a> is closed
using <a href="#sqlite3_close">sqlite3_close()</a>.</p>

<p>See also:  <a href="#sqlite3_collation_needed">sqlite3_collation_needed()</a> and <a href="#sqlite3_collation_needed">sqlite3_collation_needed16()</a>.
</p><hr><a name="sqlite3_create_module"></a>
<h2>Register A Virtual Table Implementation</h2><blockquote><pre>int sqlite3_create_module(
  sqlite3 *db,               /* SQLite connection to register module with */
  const char *zName,         /* Name of the module */
  const sqlite3_module *p,   /* Methods for the module */
  void *pClientData          /* Client data for xCreate/xConnect */
);
int sqlite3_create_module_v2(
  sqlite3 *db,               /* SQLite connection to register module with */
  const char *zName,         /* Name of the module */
  const sqlite3_module *p,   /* Methods for the module */
  void *pClientData,         /* Client data for xCreate/xConnect */
  void(*xDestroy)(void*)     /* Module destructor function */
);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These routines are used to register a new <a href="#sqlite3_module">virtual table module</a> name.
Module names must be registered before
creating a new <a href="vtab.html">virtual table</a> using the module and before using a
preexisting <a href="vtab.html">virtual table</a> for the module.</p>

<p>The module name is registered on the <a href="#sqlite3">database connection</a> specified
by the first parameter.  The name of the module is given by the
second parameter.  The third parameter is a pointer to
the implementation of the <a href="#sqlite3_module">virtual table module</a>.   The fourth
parameter is an arbitrary client data pointer that is passed through
into the <a href="vtab.html#xcreate">xCreate</a> and <a href="vtab.html#xconnect">xConnect</a> methods of the virtual table module
when a new virtual table is be being created or reinitialized.</p>

<p>The sqlite3_create_module_v2() interface has a fifth parameter which
is a pointer to a destructor for the pClientData.  SQLite will
invoke the destructor function (if it is not NULL) when SQLite
no longer needs the pClientData pointer.  The sqlite3_create_module()
interface is equivalent to sqlite3_create_module_v2() with a NULL
destructor.
</p><hr><a name="sqlite3_errcode"></a>
<h2>Error Codes And Messages</h2><blockquote><pre>int sqlite3_errcode(sqlite3 *db);
int sqlite3_extended_errcode(sqlite3 *db);
const char *sqlite3_errmsg(sqlite3*);
const void *sqlite3_errmsg16(sqlite3*);
</pre></blockquote><p>
The sqlite3_errcode() interface returns the numeric <a href="#SQLITE_ABORT">result code</a> or
<a href="#SQLITE_IOERR_ACCESS">extended result code</a> for the most recent failed sqlite3_* API call
associated with a <a href="#sqlite3">database connection</a>. If a prior API call failed
but the most recent API call succeeded, the return value from
sqlite3_errcode() is undefined.  The sqlite3_extended_errcode()
interface is the same except that it always returns the
<a href="#SQLITE_IOERR_ACCESS">extended result code</a> even when extended result codes are
disabled.</p>

<p>The sqlite3_errmsg() and sqlite3_errmsg16() return English-language
text that describes the error, as either UTF-8 or UTF-16 respectively.
Memory to hold the error message string is managed internally.
The application does not need to worry about freeing the result.
However, the error string might be overwritten or deallocated by
subsequent calls to other SQLite interface functions.</p>

<p>When the serialized <a href="threadsafe.html">threading mode</a> is in use, it might be the
case that a second error occurs on a separate thread in between
the time of the first error and the call to these interfaces.
When that happens, the second error will be reported since these
interfaces always report the most recent result.  To avoid
this, each thread can obtain exclusive use of the <a href="#sqlite3">database connection</a> D
by invoking <a href="#sqlite3_mutex_alloc">sqlite3_mutex_enter</a>(<a href="#sqlite3_db_mutex">sqlite3_db_mutex</a>(D)) before beginning
to use D and invoking <a href="#sqlite3_mutex_alloc">sqlite3_mutex_leave</a>(<a href="#sqlite3_db_mutex">sqlite3_db_mutex</a>(D)) after
all calls to the interfaces listed here are completed.</p>

<p>If an interface fails with SQLITE_MISUSE, that means the interface
was invoked incorrectly by the application.  In that case, the
error code and message may or may not be set.
</p><hr><a name="sqlite3_free"></a>
<h2>Memory Allocation Subsystem</h2><blockquote><pre>void *sqlite3_malloc(int);
void *sqlite3_realloc(void*, int);
void sqlite3_free(void*);
</pre></blockquote><p>
The SQLite core uses these three routines for all of its own
internal memory allocation needs. "Core" in the previous sentence
does not include operating-system specific VFS implementation.  The
Windows VFS uses native malloc() and free() for some operations.</p>

<p>The sqlite3_malloc() routine returns a pointer to a block
of memory at least N bytes in length, where N is the parameter.
If sqlite3_malloc() is unable to obtain sufficient free
memory, it returns a NULL pointer.  If the parameter N to
sqlite3_malloc() is zero or negative then sqlite3_malloc() returns
a NULL pointer.</p>

<p>Calling sqlite3_free() with a pointer previously returned
by sqlite3_malloc() or sqlite3_realloc() releases that memory so
that it might be reused.  The sqlite3_free() routine is
a no-op if is called with a NULL pointer.  Passing a NULL pointer
to sqlite3_free() is harmless.  After being freed, memory
should neither be read nor written.  Even reading previously freed
memory might result in a segmentation fault or other severe error.
Memory corruption, a segmentation fault, or other severe error
might result if sqlite3_free() is called with a non-NULL pointer that
was not obtained from sqlite3_malloc() or sqlite3_realloc().</p>

<p>The sqlite3_realloc() interface attempts to resize a
prior memory allocation to be at least N bytes, where N is the
second parameter.  The memory allocation to be resized is the first
parameter.  If the first parameter to sqlite3_realloc()
is a NULL pointer then its behavior is identical to calling
sqlite3_malloc(N) where N is the second parameter to sqlite3_realloc().
If the second parameter to sqlite3_realloc() is zero or
negative then the behavior is exactly the same as calling
sqlite3_free(P) where P is the first parameter to sqlite3_realloc().
sqlite3_realloc() returns a pointer to a memory allocation
of at least N bytes in size or NULL if sufficient memory is unavailable.
If M is the size of the prior allocation, then min(N,M) bytes
of the prior allocation are copied into the beginning of buffer returned
by sqlite3_realloc() and the prior allocation is freed.
If sqlite3_realloc() returns NULL, then the prior allocation
is not freed.</p>

<p>The memory returned by sqlite3_malloc() and sqlite3_realloc()
is always aligned to at least an 8 byte boundary.</p>

<p>In SQLite version 3.5.0 and 3.5.1, it was possible to define
the SQLITE_OMIT_MEMORY_ALLOCATION which would cause the built-in
implementation of these routines to be omitted.  That capability
is no longer provided.  Only built-in memory allocators can be used.</p>

<p>The Windows OS interface layer calls
the system malloc() and free() directly when converting
filenames between the UTF-8 encoding used by SQLite
and whatever filename encoding is used by the particular Windows
installation.  Memory allocation errors are detected, but
they are reported back as <a href="#SQLITE_ABORT">SQLITE_CANTOPEN</a> or
<a href="#SQLITE_ABORT">SQLITE_IOERR</a> rather than <a href="#SQLITE_ABORT">SQLITE_NOMEM</a>.</p>

<p>The pointer arguments to <a href="#sqlite3_free">sqlite3_free()</a> and <a href="#sqlite3_free">sqlite3_realloc()</a>
must be either NULL or else pointers obtained from a prior
invocation of <a href="#sqlite3_free">sqlite3_malloc()</a> or <a href="#sqlite3_free">sqlite3_realloc()</a> that have
not yet been released.</p>

<p>The application must not read or write any part of
a block of memory after it has been released using
<a href="#sqlite3_free">sqlite3_free()</a> or <a href="#sqlite3_free">sqlite3_realloc()</a>.
</p><hr><a name="sqlite3_free_table"></a>
<h2>Convenience Routines For Running Queries</h2><blockquote><pre>int sqlite3_get_table(
  sqlite3 *db,          /* An open database */
  const char *zSql,     /* SQL to be evaluated */
  char ***pazResult,    /* Results of the query */
  int *pnRow,           /* Number of result rows written here */
  int *pnColumn,        /* Number of result columns written here */
  char **pzErrmsg       /* Error msg written here */
);
void sqlite3_free_table(char **result);
</pre></blockquote><p>
Definition: A <b>result table</b> is memory data structure created by the
<a href="#sqlite3_free_table">sqlite3_get_table()</a> interface.  A result table records the
complete query results from one or more queries.</p>

<p>The table conceptually has a number of rows and columns.  But
these numbers are not part of the result table itself.  These
numbers are obtained separately.  Let N be the number of rows
and M be the number of columns.</p>

<p>A result table is an array of pointers to zero-terminated UTF-8 strings.
There are (N+1)*M elements in the array.  The first M pointers point
to zero-terminated strings that  contain the names of the columns.
The remaining entries all point to query results.  NULL values result
in NULL pointers.  All other values are in their UTF-8 zero-terminated
string representation as returned by <a href="#sqlite3_column_blob">sqlite3_column_text()</a>.</p>

<p>A result table might consist of one or more memory allocations.
It is not safe to pass a result table directly to <a href="#sqlite3_free">sqlite3_free()</a>.
A result table should be deallocated using <a href="#sqlite3_free_table">sqlite3_free_table()</a>.</p>

<p>As an example of the result table format, suppose a query result
is as follows:</p>

<p><blockquote><pre>
Name        | Age
-----------------------
Alice       | 43
Bob         | 28
Cindy       | 21
</pre></blockquote></p>

<p>There are two column (M==2) and three rows (N==3).  Thus the
result table has 8 entries.  Suppose the result table is stored
in an array names azResult.  Then azResult holds this content:</p>

<p><blockquote><pre>
azResult&#91;0] = "Name";
azResult&#91;1] = "Age";
azResult&#91;2] = "Alice";
azResult&#91;3] = "43";
azResult&#91;4] = "Bob";
azResult&#91;5] = "28";
azResult&#91;6] = "Cindy";
azResult&#91;7] = "21";
</pre></blockquote></p>

<p>The sqlite3_get_table() function evaluates one or more
semicolon-separated SQL statements in the zero-terminated UTF-8
string of its 2nd parameter and returns a result table to the
pointer given in its 3rd parameter.</p>

<p>After the application has finished with the result from sqlite3_get_table(),
it should pass the result table pointer to sqlite3_free_table() in order to
release the memory that was malloced.  Because of the way the
<a href="#sqlite3_free">sqlite3_malloc()</a> happens within sqlite3_get_table(), the calling
function must not try to call <a href="#sqlite3_free">sqlite3_free()</a> directly.  Only
<a href="#sqlite3_free_table">sqlite3_free_table()</a> is able to release the memory properly and safely.</p>

<p>The sqlite3_get_table() interface is implemented as a wrapper around
<a href="#sqlite3_exec">sqlite3_exec()</a>.  The sqlite3_get_table() routine does not have access
to any internal data structures of SQLite.  It uses only the public
interface defined here.  As a consequence, errors that occur in the
wrapper layer outside of the internal <a href="#sqlite3_exec">sqlite3_exec()</a> call are not
reflected in subsequent calls to <a href="#sqlite3_errcode">sqlite3_errcode()</a> or
<a href="#sqlite3_errcode">sqlite3_errmsg()</a>.
</p><hr><a name="sqlite3_get_auxdata"></a>
<h2>Function Auxiliary Data</h2><blockquote><pre>void *sqlite3_get_auxdata(sqlite3_context*, int N);
void sqlite3_set_auxdata(sqlite3_context*, int N, void*, void (*)(void*));
</pre></blockquote><p>
The following two functions may be used by scalar SQL functions to
associate metadata with argument values. If the same value is passed to
multiple invocations of the same SQL function during query execution, under
some circumstances the associated metadata may be preserved. This may
be used, for example, to add a regular-expression matching scalar
function. The compiled version of the regular expression is stored as
metadata associated with the SQL value passed as the regular expression
pattern.  The compiled regular expression can be reused on multiple
invocations of the same function so that the original pattern string
does not need to be recompiled on each invocation.</p>

<p>The sqlite3_get_auxdata() interface returns a pointer to the metadata
associated by the sqlite3_set_auxdata() function with the Nth argument
value to the application-defined function. If no metadata has been ever
been set for the Nth argument of the function, or if the corresponding
function parameter has changed since the meta-data was set,
then sqlite3_get_auxdata() returns a NULL pointer.</p>

<p>The sqlite3_set_auxdata() interface saves the metadata
pointed to by its 3rd parameter as the metadata for the N-th
argument of the application-defined function.  Subsequent
calls to sqlite3_get_auxdata() might return this data, if it has
not been destroyed.
If it is not NULL, SQLite will invoke the destructor
function given by the 4th parameter to sqlite3_set_auxdata() on
the metadata when the corresponding function parameter changes
or when the SQL statement completes, whichever comes first.</p>

<p>SQLite is free to call the destructor and drop metadata on any
parameter of any function at any time.  The only guarantee is that
the destructor will be called before the metadata is dropped.</p>

<p>In practice, metadata is preserved between function calls for
expressions that are constant at compile time. This includes literal
values and <a href="lang_expr.html#varparam">parameters</a>.</p>

<p>These routines must be called from the same thread in which
the SQL function is running.
</p><hr><a name="sqlite3_initialize"></a>
<h2>Initialize The SQLite Library</h2><blockquote><pre>int sqlite3_initialize(void);
int sqlite3_shutdown(void);
int sqlite3_os_init(void);
int sqlite3_os_end(void);
</pre></blockquote><p>
The sqlite3_initialize() routine initializes the
SQLite library.  The sqlite3_shutdown() routine
deallocates any resources that were allocated by sqlite3_initialize().
These routines are designed to aid in process initialization and
shutdown on embedded systems.  Workstation applications using
SQLite normally do not need to invoke either of these routines.</p>

<p>A call to sqlite3_initialize() is an "effective" call if it is
the first time sqlite3_initialize() is invoked during the lifetime of
the process, or if it is the first time sqlite3_initialize() is invoked
following a call to sqlite3_shutdown().  Only an effective call
of sqlite3_initialize() does any initialization.  All other calls
are harmless no-ops.</p>

<p>A call to sqlite3_shutdown() is an "effective" call if it is the first
call to sqlite3_shutdown() since the last sqlite3_initialize().  Only
an effective call to sqlite3_shutdown() does any deinitialization.
All other valid calls to sqlite3_shutdown() are harmless no-ops.</p>

<p>The sqlite3_initialize() interface is threadsafe, but sqlite3_shutdown()
is not.  The sqlite3_shutdown() interface must only be called from a
single thread.  All open <a href="#sqlite3">database connections</a> must be closed and all
other SQLite resources must be deallocated prior to invoking
sqlite3_shutdown().</p>

<p>Among other things, sqlite3_initialize() will invoke
sqlite3_os_init().  Similarly, sqlite3_shutdown()
will invoke sqlite3_os_end().</p>

<p>The sqlite3_initialize() routine returns <a href="#SQLITE_ABORT">SQLITE_OK</a> on success.
If for some reason, sqlite3_initialize() is unable to initialize
the library (perhaps it is unable to allocate a needed resource such
as a mutex) it returns an <a href="#SQLITE_ABORT">error code</a> other than <a href="#SQLITE_ABORT">SQLITE_OK</a>.</p>

<p>The sqlite3_initialize() routine is called internally by many other
SQLite interfaces so that an application usually does not need to
invoke sqlite3_initialize() directly.  For example, <a href="#sqlite3_open">sqlite3_open()</a>
calls sqlite3_initialize() so the SQLite library will be automatically
initialized when <a href="#sqlite3_open">sqlite3_open()</a> is called if it has not be initialized
already.  However, if SQLite is compiled with the <a href="compile.html#omit_autoinit">SQLITE_OMIT_AUTOINIT</a>
compile-time option, then the automatic calls to sqlite3_initialize()
are omitted and the application must call sqlite3_initialize() directly
prior to using any other SQLite interface.  For maximum portability,
it is recommended that applications always invoke sqlite3_initialize()
directly prior to using any other SQLite interface.  Future releases
of SQLite may require this.  In other words, the behavior exhibited
when SQLite is compiled with <a href="compile.html#omit_autoinit">SQLITE_OMIT_AUTOINIT</a> might become the
default behavior in some future release of SQLite.</p>

<p>The sqlite3_os_init() routine does operating-system specific
initialization of the SQLite library.  The sqlite3_os_end()
routine undoes the effect of sqlite3_os_init().  Typical tasks
performed by these routines include allocation or deallocation
of static resources, initialization of global variables,
setting up a default <a href="#sqlite3_vfs">sqlite3_vfs</a> module, or setting up
a default configuration using <a href="#sqlite3_config">sqlite3_config()</a>.</p>

<p>The application should never invoke either sqlite3_os_init()
or sqlite3_os_end() directly.  The application should only invoke
sqlite3_initialize() and sqlite3_shutdown().  The sqlite3_os_init()
interface is called automatically by sqlite3_initialize() and
sqlite3_os_end() is called by sqlite3_shutdown().  Appropriate
implementations for sqlite3_os_init() and sqlite3_os_end()
are built into SQLite when it is compiled for Unix, Windows, or OS/2.
When <a href="custombuild.html">built for other platforms</a>
(using the <a href="compile.html#os_other">SQLITE_OS_OTHER=1</a> compile-time
option) the application must supply a suitable implementation for
sqlite3_os_init() and sqlite3_os_end().  An application-supplied
implementation of sqlite3_os_init() or sqlite3_os_end()
must return <a href="#SQLITE_ABORT">SQLITE_OK</a> on success and some other <a href="#SQLITE_ABORT">error code</a> upon
failure.
</p><hr><a name="sqlite3_libversion"></a>
<h2>Run-Time Library Version Numbers</h2><blockquote><pre>SQLITE_EXTERN const char sqlite3_version[];
const char *sqlite3_libversion(void);
const char *sqlite3_sourceid(void);
int sqlite3_libversion_number(void);
</pre></blockquote><p>
These interfaces provide the same information as the <a href="#SQLITE_SOURCE_ID">SQLITE_VERSION</a>,
<a href="#SQLITE_SOURCE_ID">SQLITE_VERSION_NUMBER</a>, and <a href="#SQLITE_SOURCE_ID">SQLITE_SOURCE_ID</a> C preprocessor macros
but are associated with the library instead of the header file.  Cautious
programmers might include assert() statements in their application to
verify that values returned by these interfaces match the macros in
the header, and thus insure that the application is
compiled with matching library and header files.</p>

<p><blockquote><pre>
assert( sqlite3_libversion_number()==SQLITE_VERSION_NUMBER );
assert( strcmp(sqlite3_sourceid(),SQLITE_SOURCE_ID)==0 );
assert( strcmp(sqlite3_libversion(),SQLITE_VERSION)==0 );
</pre></blockquote></p>

<p>The sqlite3_version[] string constant contains the text of <a href="#SQLITE_SOURCE_ID">SQLITE_VERSION</a>
macro.  The sqlite3_libversion() function returns a pointer to the
to the sqlite3_version[] string constant.  The sqlite3_libversion()
function is provided for use in DLLs since DLL users usually do not have
direct access to string constants within the DLL.  The
sqlite3_libversion_number() function returns an integer equal to
<a href="#SQLITE_SOURCE_ID">SQLITE_VERSION_NUMBER</a>.  The sqlite3_sourceid() function returns
a pointer to a string constant whose value is the same as the
<a href="#SQLITE_SOURCE_ID">SQLITE_SOURCE_ID</a> C preprocessor macro.</p>

<p>See also: <a href="lang_corefunc.html#sqlite_version">sqlite_version()</a> and <a href="lang_corefunc.html#sqlite_source_id">sqlite_source_id()</a>.
</p><hr><a name="sqlite3_memory_highwater"></a>
<h2>Memory Allocator Statistics</h2><blockquote><pre>sqlite3_int64 sqlite3_memory_used(void);
sqlite3_int64 sqlite3_memory_highwater(int resetFlag);
</pre></blockquote><p>
SQLite provides these two interfaces for reporting on the status
of the <a href="#sqlite3_free">sqlite3_malloc()</a>, <a href="#sqlite3_free">sqlite3_free()</a>, and <a href="#sqlite3_free">sqlite3_realloc()</a>
routines, which form the built-in memory allocation subsystem.</p>

<p>The <a href="#sqlite3_memory_highwater">sqlite3_memory_used()</a> routine returns the number of bytes
of memory currently outstanding (malloced but not freed).
The <a href="#sqlite3_memory_highwater">sqlite3_memory_highwater()</a> routine returns the maximum
value of <a href="#sqlite3_memory_highwater">sqlite3_memory_used()</a> since the high-water mark
was last reset.  The values returned by <a href="#sqlite3_memory_highwater">sqlite3_memory_used()</a> and
<a href="#sqlite3_memory_highwater">sqlite3_memory_highwater()</a> include any overhead
added by SQLite in its implementation of <a href="#sqlite3_free">sqlite3_malloc()</a>,
but not overhead added by the any underlying system library
routines that <a href="#sqlite3_free">sqlite3_malloc()</a> may call.</p>

<p>The memory high-water mark is reset to the current value of
<a href="#sqlite3_memory_highwater">sqlite3_memory_used()</a> if and only if the parameter to
<a href="#sqlite3_memory_highwater">sqlite3_memory_highwater()</a> is true.  The value returned
by <a href="#sqlite3_memory_highwater">sqlite3_memory_highwater(1)</a> is the high-water mark
prior to the reset.
</p><hr><a name="sqlite3_mprintf"></a>
<h2>Formatted String Printing Functions</h2><blockquote><pre>char *sqlite3_mprintf(const char*,...);
char *sqlite3_vmprintf(const char*, va_list);
char *sqlite3_snprintf(int,char*,const char*, ...);
</pre></blockquote><p>
These routines are work-alikes of the "printf()" family of functions
from the standard C library.</p>

<p>The sqlite3_mprintf() and sqlite3_vmprintf() routines write their
results into memory obtained from <a href="#sqlite3_free">sqlite3_malloc()</a>.
The strings returned by these two routines should be
released by <a href="#sqlite3_free">sqlite3_free()</a>.  Both routines return a
NULL pointer if <a href="#sqlite3_free">sqlite3_malloc()</a> is unable to allocate enough
memory to hold the resulting string.</p>

<p>In sqlite3_snprintf() routine is similar to "snprintf()" from
the standard C library.  The result is written into the
buffer supplied as the second parameter whose size is given by
the first parameter. Note that the order of the
first two parameters is reversed from snprintf().  This is an
historical accident that cannot be fixed without breaking
backwards compatibility.  Note also that sqlite3_snprintf()
returns a pointer to its buffer instead of the number of
characters actually written into the buffer.  We admit that
the number of characters written would be a more useful return
value but we cannot change the implementation of sqlite3_snprintf()
now without breaking compatibility.</p>

<p>As long as the buffer size is greater than zero, sqlite3_snprintf()
guarantees that the buffer is always zero-terminated.  The first
parameter "n" is the total size of the buffer, including space for
the zero terminator.  So the longest string that can be completely
written will be n-1 characters.</p>

<p>These routines all implement some additional formatting
options that are useful for constructing SQL statements.
All of the usual printf() formatting options apply.  In addition, there
is are "%q", "%Q", and "%z" options.</p>

<p>The %q option works like %s in that it substitutes a null-terminated
string from the argument list.  But %q also doubles every '\'' character.
%q is designed for use inside a string literal.  By doubling each '\''
character it escapes that character and allows it to be inserted into
the string.</p>

<p>For example, assume the string variable zText contains text as follows:</p>

<p><blockquote><pre>
char *zText = "It's a happy day!";
</pre></blockquote></p>

<p>One can use this text in an SQL statement as follows:</p>

<p><blockquote><pre>
char *zSQL = sqlite3_mprintf("INSERT INTO table VALUES('%q')", zText);
sqlite3_exec(db, zSQL, 0, 0, 0);
sqlite3_free(zSQL);
</pre></blockquote></p>

<p>Because the %q format string is used, the '\'' character in zText
is escaped and the SQL generated is as follows:</p>

<p><blockquote><pre>
INSERT INTO table1 VALUES('It''s a happy day!')
</pre></blockquote></p>

<p>This is correct.  Had we used %s instead of %q, the generated SQL
would have looked like this:</p>

<p><blockquote><pre>
INSERT INTO table1 VALUES('It's a happy day!');
</pre></blockquote></p>

<p>This second example is an SQL syntax error.  As a general rule you should
always use %q instead of %s when inserting text into a string literal.</p>

<p>The %Q option works like %q except it also adds single quotes around
the outside of the total string.  Additionally, if the parameter in the
argument list is a NULL pointer, %Q substitutes the text "NULL" (without
single quotes).  So, for example, one could say:</p>

<p><blockquote><pre>
char *zSQL = sqlite3_mprintf("INSERT INTO table VALUES(%Q)", zText);
sqlite3_exec(db, zSQL, 0, 0, 0);
sqlite3_free(zSQL);
</pre></blockquote></p>

<p>The code above will render a correct SQL statement in the zSQL
variable even if the zText variable is a NULL pointer.</p>

<p>The "%z" formatting option works like "%s" but with the
addition that after the string has been read and copied into
the result, <a href="#sqlite3_free">sqlite3_free()</a> is called on the input string.
</p><hr><a name="sqlite3_mutex_alloc"></a>
<h2>Mutexes</h2><blockquote><pre>sqlite3_mutex *sqlite3_mutex_alloc(int);
void sqlite3_mutex_free(sqlite3_mutex*);
void sqlite3_mutex_enter(sqlite3_mutex*);
int sqlite3_mutex_try(sqlite3_mutex*);
void sqlite3_mutex_leave(sqlite3_mutex*);
</pre></blockquote><p>
The SQLite core uses these routines for thread
synchronization. Though they are intended for internal
use by SQLite, code that links against SQLite is
permitted to use any of these routines.</p>

<p>The SQLite source code contains multiple implementations
of these mutex routines.  An appropriate implementation
is selected automatically at compile-time.  The following
implementations are available in the SQLite core:</p>

<p><ul>
<li>   SQLITE_MUTEX_OS2
<li>   SQLITE_MUTEX_PTHREAD
<li>   SQLITE_MUTEX_W32
<li>   SQLITE_MUTEX_NOOP
</ul></p>

<p>The SQLITE_MUTEX_NOOP implementation is a set of routines
that does no real locking and is appropriate for use in
a single-threaded application.  The SQLITE_MUTEX_OS2,
SQLITE_MUTEX_PTHREAD, and SQLITE_MUTEX_W32 implementations
are appropriate for use on OS/2, Unix, and Windows.</p>

<p>If SQLite is compiled with the SQLITE_MUTEX_APPDEF preprocessor
macro defined (with "-DSQLITE_MUTEX_APPDEF=1"), then no mutex
implementation is included with the library. In this case the
application must supply a custom mutex implementation using the
<a href="#SQLITE_CONFIG_GETMALLOC">SQLITE_CONFIG_MUTEX</a> option of the sqlite3_config() function
before calling sqlite3_initialize() or any other public sqlite3_
function that calls sqlite3_initialize().</p>

<p>The sqlite3_mutex_alloc() routine allocates a new
mutex and returns a pointer to it. If it returns NULL
that means that a mutex could not be allocated.  SQLite
will unwind its stack and return an error.  The argument
to sqlite3_mutex_alloc() is one of these integer constants:</p>

<p><ul>
<li>  SQLITE_MUTEX_FAST
<li>  SQLITE_MUTEX_RECURSIVE
<li>  SQLITE_MUTEX_STATIC_MASTER
<li>  SQLITE_MUTEX_STATIC_MEM
<li>  SQLITE_MUTEX_STATIC_MEM2
<li>  SQLITE_MUTEX_STATIC_PRNG
<li>  SQLITE_MUTEX_STATIC_LRU
<li>  SQLITE_MUTEX_STATIC_LRU2
</ul></p>

<p>The first two constants (SQLITE_MUTEX_FAST and SQLITE_MUTEX_RECURSIVE)
cause sqlite3_mutex_alloc() to create
a new mutex.  The new mutex is recursive when SQLITE_MUTEX_RECURSIVE
is used but not necessarily so when SQLITE_MUTEX_FAST is used.
The mutex implementation does not need to make a distinction
between SQLITE_MUTEX_RECURSIVE and SQLITE_MUTEX_FAST if it does
not want to.  SQLite will only request a recursive mutex in
cases where it really needs one.  If a faster non-recursive mutex
implementation is available on the host platform, the mutex subsystem
might return such a mutex in response to SQLITE_MUTEX_FAST.</p>

<p>The other allowed parameters to sqlite3_mutex_alloc() (anything other
than SQLITE_MUTEX_FAST and SQLITE_MUTEX_RECURSIVE) each return
a pointer to a static preexisting mutex.  Six static mutexes are
used by the current version of SQLite.  Future versions of SQLite
may add additional static mutexes.  Static mutexes are for internal
use by SQLite only.  Applications that use SQLite mutexes should
use only the dynamic mutexes returned by SQLITE_MUTEX_FAST or
SQLITE_MUTEX_RECURSIVE.</p>

<p>Note that if one of the dynamic mutex parameters (SQLITE_MUTEX_FAST
or SQLITE_MUTEX_RECURSIVE) is used then sqlite3_mutex_alloc()
returns a different mutex on every call.  But for the static
mutex types, the same mutex is returned on every call that has
the same type number.</p>

<p>The sqlite3_mutex_free() routine deallocates a previously
allocated dynamic mutex.  SQLite is careful to deallocate every
dynamic mutex that it allocates.  The dynamic mutexes must not be in
use when they are deallocated.  Attempting to deallocate a static
mutex results in undefined behavior.  SQLite never deallocates
a static mutex.</p>

<p>The sqlite3_mutex_enter() and sqlite3_mutex_try() routines attempt
to enter a mutex.  If another thread is already within the mutex,
sqlite3_mutex_enter() will block and sqlite3_mutex_try() will return
SQLITE_BUSY.  The sqlite3_mutex_try() interface returns <a href="#SQLITE_ABORT">SQLITE_OK</a>
upon successful entry.  Mutexes created using
SQLITE_MUTEX_RECURSIVE can be entered multiple times by the same thread.
In such cases the,
mutex must be exited an equal number of times before another thread
can enter.  If the same thread tries to enter any other
kind of mutex more than once, the behavior is undefined.
SQLite will never exhibit
such behavior in its own use of mutexes.</p>

<p>Some systems (for example, Windows 95) do not support the operation
implemented by sqlite3_mutex_try().  On those systems, sqlite3_mutex_try()
will always return SQLITE_BUSY.  The SQLite core only ever uses
sqlite3_mutex_try() as an optimization so this is acceptable behavior.</p>

<p>The sqlite3_mutex_leave() routine exits a mutex that was
previously entered by the same thread.   The behavior
is undefined if the mutex is not currently entered by the
calling thread or is not currently allocated.  SQLite will
never do either.</p>

<p>If the argument to sqlite3_mutex_enter(), sqlite3_mutex_try(), or
sqlite3_mutex_leave() is a NULL pointer, then all three routines
behave as no-ops.</p>

<p>See also: <a href="#sqlite3_mutex_held">sqlite3_mutex_held()</a> and <a href="#sqlite3_mutex_held">sqlite3_mutex_notheld()</a>.
</p><hr><a name="sqlite3_mutex_held"></a>
<h2>Mutex Verification Routines</h2><blockquote><pre>#ifndef NDEBUG
int sqlite3_mutex_held(sqlite3_mutex*);
int sqlite3_mutex_notheld(sqlite3_mutex*);
#endif
</pre></blockquote><p>
The sqlite3_mutex_held() and sqlite3_mutex_notheld() routines
are intended for use inside assert() statements.  The SQLite core
never uses these routines except inside an assert() and applications
are advised to follow the lead of the core.  The SQLite core only
provides implementations for these routines when it is compiled
with the SQLITE_DEBUG flag.  External mutex implementations
are only required to provide these routines if SQLITE_DEBUG is
defined and if NDEBUG is not defined.</p>

<p>These routines should return true if the mutex in their argument
is held or not held, respectively, by the calling thread.</p>

<p>The implementation is not required to provided versions of these
routines that actually work. If the implementation does not provide working
versions of these routines, it should at least provide stubs that always
return true so that one does not get spurious assertion failures.</p>

<p>If the argument to sqlite3_mutex_held() is a NULL pointer then
the routine should return 1.   This seems counter-intuitive since
clearly the mutex cannot be held if it does not exist.  But the
the reason the mutex does not exist is because the build is not
using mutexes.  And we do not want the assert() containing the
call to sqlite3_mutex_held() to fail, so a non-zero return is
the appropriate thing to do.  The sqlite3_mutex_notheld()
interface should also return 1 when given a NULL pointer.
</p><hr><a name="sqlite3_open"></a>
<h2>Opening A New Database Connection</h2><blockquote><pre>int sqlite3_open(
  const char *filename,   /* Database filename (UTF-8) */
  sqlite3 **ppDb          /* OUT: SQLite db handle */
);
int sqlite3_open16(
  const void *filename,   /* Database filename (UTF-16) */
  sqlite3 **ppDb          /* OUT: SQLite db handle */
);
int sqlite3_open_v2(
  const char *filename,   /* Database filename (UTF-8) */
  sqlite3 **ppDb,         /* OUT: SQLite db handle */
  int flags,              /* Flags */
  const char *zVfs        /* Name of VFS module to use */
);
</pre></blockquote><p>
These routines open an SQLite database file whose name is given by the
filename argument. The filename argument is interpreted as UTF-8 for
sqlite3_open() and sqlite3_open_v2() and as UTF-16 in the native byte
order for sqlite3_open16(). A <a href="#sqlite3">database connection</a> handle is usually
returned in *ppDb, even if an error occurs.  The only exception is that
if SQLite is unable to allocate memory to hold the <a href="#sqlite3">sqlite3</a> object,
a NULL will be written into *ppDb instead of a pointer to the <a href="#sqlite3">sqlite3</a>
object. If the database is opened (and/or created) successfully, then
<a href="#SQLITE_ABORT">SQLITE_OK</a> is returned.  Otherwise an <a href="#SQLITE_ABORT">error code</a> is returned. The
<a href="#sqlite3_errcode">sqlite3_errmsg()</a> or <a href="#sqlite3_errcode">sqlite3_errmsg16()</a> routines can be used to obtain
an English language description of the error following a failure of any
of the sqlite3_open() routines.</p>

<p>The default encoding for the database will be UTF-8 if
sqlite3_open() or sqlite3_open_v2() is called and
UTF-16 in the native byte order if sqlite3_open16() is used.</p>

<p>Whether or not an error occurs when it is opened, resources
associated with the <a href="#sqlite3">database connection</a> handle should be released by
passing it to <a href="#sqlite3_close">sqlite3_close()</a> when it is no longer required.</p>

<p>The sqlite3_open_v2() interface works like sqlite3_open()
except that it accepts two additional parameters for additional control
over the new database connection.  The flags parameter to
sqlite3_open_v2() can take one of
the following three values, optionally combined with the
<a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_NOMUTEX</a>, <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_FULLMUTEX</a>, <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SHAREDCACHE</a>,
and/or <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_PRIVATECACHE</a> flags:</p>

<p><dl>
<dt><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READONLY</a></dt>
<dd>The database is opened in read-only mode.  If the database does not
already exist, an error is returned.</dd></p>

<p><dt><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READWRITE</a></dt>
<dd>The database is opened for reading and writing if possible, or reading
only if the file is write protected by the operating system.  In either
case the database must already exist, otherwise an error is returned.</dd></p>

<p><dt><a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_READWRITE</a> | <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_CREATE</a></dt>
<dd>The database is opened for reading and writing, and is creates it if
it does not already exist. This is the behavior that is always used for
sqlite3_open() and sqlite3_open16().</dd>
</dl></p>

<p>If the 3rd parameter to sqlite3_open_v2() is not one of the
combinations shown above or one of the combinations shown above combined
with the <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_NOMUTEX</a>, <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_FULLMUTEX</a>,
<a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SHAREDCACHE</a> and/or <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SHAREDCACHE</a> flags,
then the behavior is undefined.</p>

<p>If the <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_NOMUTEX</a> flag is set, then the database connection
opens in the multi-thread <a href="threadsafe.html">threading mode</a> as long as the single-thread
mode has not been set at compile-time or start-time.  If the
<a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_FULLMUTEX</a> flag is set then the database connection opens
in the serialized <a href="threadsafe.html">threading mode</a> unless single-thread was
previously selected at compile-time or start-time.
The <a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_SHAREDCACHE</a> flag causes the database connection to be
eligible to use <a href="sharedcache.html">shared cache mode</a>, regardless of whether or not shared
cache is enabled using <a href="#sqlite3_enable_shared_cache">sqlite3_enable_shared_cache()</a>.  The
<a href="#SQLITE_OPEN_AUTOPROXY">SQLITE_OPEN_PRIVATECACHE</a> flag causes the database connection to not
participate in <a href="sharedcache.html">shared cache mode</a> even if it is enabled.</p>

<p>If the filename is ":memory:", then a private, temporary in-memory database
is created for the connection.  This in-memory database will vanish when
the database connection is closed.  Future versions of SQLite might
make use of additional special filenames that begin with the ":" character.
It is recommended that when a database filename actually does begin with
a ":" character you should prefix the filename with a pathname such as
"./" to avoid ambiguity.</p>

<p>If the filename is an empty string, then a private, temporary
on-disk database will be created.  This private database will be
automatically deleted as soon as the database connection is closed.</p>

<p>The fourth parameter to sqlite3_open_v2() is the name of the
<a href="#sqlite3_vfs">sqlite3_vfs</a> object that defines the operating system interface that
the new database connection should use.  If the fourth parameter is
a NULL pointer then the default <a href="#sqlite3_vfs">sqlite3_vfs</a> object is used.</p>

<p><b>Note to Windows users:</b>  The encoding used for the filename argument
of sqlite3_open() and sqlite3_open_v2() must be UTF-8, not whatever
codepage is currently defined.  Filenames containing international
characters must be converted to UTF-8 prior to passing them into
sqlite3_open() or sqlite3_open_v2().
</p><hr><a name="sqlite3_profile"></a>
<h2>Tracing And Profiling Functions</h2><blockquote><pre>void *sqlite3_trace(sqlite3*, void(*xTrace)(void*,const char*), void*);
void *sqlite3_profile(sqlite3*,
   void(*xProfile)(void*,const char*,sqlite3_uint64), void*);
</pre></blockquote><p><b>Important:</b> This interface is <a href="capi3ref.html">experimental</a> and is subject to change without notice.</p><p>
These routines register callback functions that can be used for
tracing and profiling the execution of SQL statements.</p>

<p>The callback function registered by sqlite3_trace() is invoked at
various times when an SQL statement is being run by <a href="#sqlite3_step">sqlite3_step()</a>.
The sqlite3_trace() callback is invoked with a UTF-8 rendering of the
SQL statement text as the statement first begins executing.
Additional sqlite3_trace() callbacks might occur
as each triggered subprogram is entered.  The callbacks for triggers
contain a UTF-8 SQL comment that identifies the trigger.</p>

<p>The callback function registered by sqlite3_profile() is invoked
as each SQL statement finishes.  The profile callback contains
the original statement text and an estimate of wall-clock time
of how long that statement took to run.
</p><hr><a name="sqlite3_result_blob"></a>
<h2>Setting The Result Of An SQL Function</h2><blockquote><pre>void sqlite3_result_blob(sqlite3_context*, const void*, int, void(*)(void*));
void sqlite3_result_double(sqlite3_context*, double);
void sqlite3_result_error(sqlite3_context*, const char*, int);
void sqlite3_result_error16(sqlite3_context*, const void*, int);
void sqlite3_result_error_toobig(sqlite3_context*);
void sqlite3_result_error_nomem(sqlite3_context*);
void sqlite3_result_error_code(sqlite3_context*, int);
void sqlite3_result_int(sqlite3_context*, int);
void sqlite3_result_int64(sqlite3_context*, sqlite3_int64);
void sqlite3_result_null(sqlite3_context*);
void sqlite3_result_text(sqlite3_context*, const char*, int, void(*)(void*));
void sqlite3_result_text16(sqlite3_context*, const void*, int, void(*)(void*));
void sqlite3_result_text16le(sqlite3_context*, const void*, int,void(*)(void*));
void sqlite3_result_text16be(sqlite3_context*, const void*, int,void(*)(void*));
void sqlite3_result_value(sqlite3_context*, sqlite3_value*);
void sqlite3_result_zeroblob(sqlite3_context*, int n);
</pre></blockquote><p>
These routines are used by the xFunc or xFinal callbacks that
implement SQL functions and aggregates.  See
<a href="#sqlite3_create_function">sqlite3_create_function()</a> and <a href="#sqlite3_create_function">sqlite3_create_function16()</a>
for additional information.</p>

<p>These functions work very much like the <a href="#sqlite3_bind_blob">parameter binding</a> family of
functions used to bind values to host parameters in prepared statements.
Refer to the <a href="#sqlite3_bind_blob">SQL parameter</a> documentation for additional information.</p>

<p>The sqlite3_result_blob() interface sets the result from
an application-defined function to be the BLOB whose content is pointed
to by the second parameter and which is N bytes long where N is the
third parameter.</p>

<p>The sqlite3_result_zeroblob() interfaces set the result of
the application-defined function to be a BLOB containing all zero
bytes and N bytes in size, where N is the value of the 2nd parameter.</p>

<p>The sqlite3_result_double() interface sets the result from
an application-defined function to be a floating point value specified
by its 2nd argument.</p>

<p>The sqlite3_result_error() and sqlite3_result_error16() functions
cause the implemented SQL function to throw an exception.
SQLite uses the string pointed to by the
2nd parameter of sqlite3_result_error() or sqlite3_result_error16()
as the text of an error message.  SQLite interprets the error
message string from sqlite3_result_error() as UTF-8. SQLite
interprets the string from sqlite3_result_error16() as UTF-16 in native
byte order.  If the third parameter to sqlite3_result_error()
or sqlite3_result_error16() is negative then SQLite takes as the error
message all text up through the first zero character.
If the third parameter to sqlite3_result_error() or
sqlite3_result_error16() is non-negative then SQLite takes that many
bytes (not characters) from the 2nd parameter as the error message.
The sqlite3_result_error() and sqlite3_result_error16()
routines make a private copy of the error message text before
they return.  Hence, the calling function can deallocate or
modify the text after they return without harm.
The sqlite3_result_error_code() function changes the error code
returned by SQLite as a result of an error in a function.  By default,
the error code is SQLITE_ERROR.  A subsequent call to sqlite3_result_error()
or sqlite3_result_error16() resets the error code to SQLITE_ERROR.</p>

<p>The sqlite3_result_toobig() interface causes SQLite to throw an error
indicating that a string or BLOB is too long to represent.</p>

<p>The sqlite3_result_nomem() interface causes SQLite to throw an error
indicating that a memory allocation failed.</p>

<p>The sqlite3_result_int() interface sets the return value
of the application-defined function to be the 32-bit signed integer
value given in the 2nd argument.
The sqlite3_result_int64() interface sets the return value
of the application-defined function to be the 64-bit signed integer
value given in the 2nd argument.</p>

<p>The sqlite3_result_null() interface sets the return value
of the application-defined function to be NULL.</p>

<p>The sqlite3_result_text(), sqlite3_result_text16(),
sqlite3_result_text16le(), and sqlite3_result_text16be() interfaces
set the return value of the application-defined function to be
a text string which is represented as UTF-8, UTF-16 native byte order,
UTF-16 little endian, or UTF-16 big endian, respectively.
SQLite takes the text result from the application from
the 2nd parameter of the sqlite3_result_text* interfaces.
If the 3rd parameter to the sqlite3_result_text* interfaces
is negative, then SQLite takes result text from the 2nd parameter
through the first zero character.
If the 3rd parameter to the sqlite3_result_text* interfaces
is non-negative, then as many bytes (not characters) of the text
pointed to by the 2nd parameter are taken as the application-defined
function result.
If the 4th parameter to the sqlite3_result_text* interfaces
or sqlite3_result_blob is a non-NULL pointer, then SQLite calls that
function as the destructor on the text or BLOB result when it has
finished using that result.
If the 4th parameter to the sqlite3_result_text* interfaces or to
sqlite3_result_blob is the special constant SQLITE_STATIC, then SQLite
assumes that the text or BLOB result is in constant space and does not
copy the content of the parameter nor call a destructor on the content
when it has finished using that result.
If the 4th parameter to the sqlite3_result_text* interfaces
or sqlite3_result_blob is the special constant SQLITE_TRANSIENT
then SQLite makes a copy of the result into space obtained from
from <a href="#sqlite3_free">sqlite3_malloc()</a> before it returns.</p>

<p>The sqlite3_result_value() interface sets the result of
the application-defined function to be a copy the
<a href="#sqlite3_value">unprotected sqlite3_value</a> object specified by the 2nd parameter.  The
sqlite3_result_value() interface makes a copy of the <a href="#sqlite3_value">sqlite3_value</a>
so that the <a href="#sqlite3_value">sqlite3_value</a> specified in the parameter may change or
be deallocated after sqlite3_result_value() returns without harm.
A <a href="#sqlite3_value">protected sqlite3_value</a> object may always be used where an
<a href="#sqlite3_value">unprotected sqlite3_value</a> object is required, so either
kind of <a href="#sqlite3_value">sqlite3_value</a> object can be used with this interface.</p>

<p>If these routines are called from within the different thread
than the one containing the application-defined function that received
the <a href="#sqlite3_context">sqlite3_context</a> pointer, the results are undefined.
</p><hr><a name="sqlite3_value_blob"></a>
<h2>Obtaining SQL Function Parameter Values</h2><blockquote><pre>const void *sqlite3_value_blob(sqlite3_value*);
int sqlite3_value_bytes(sqlite3_value*);
int sqlite3_value_bytes16(sqlite3_value*);
double sqlite3_value_double(sqlite3_value*);
int sqlite3_value_int(sqlite3_value*);
sqlite3_int64 sqlite3_value_int64(sqlite3_value*);
const unsigned char *sqlite3_value_text(sqlite3_value*);
const void *sqlite3_value_text16(sqlite3_value*);
const void *sqlite3_value_text16le(sqlite3_value*);
const void *sqlite3_value_text16be(sqlite3_value*);
int sqlite3_value_type(sqlite3_value*);
int sqlite3_value_numeric_type(sqlite3_value*);
</pre></blockquote><p>
The C-language implementation of SQL functions and aggregates uses
this set of interface routines to access the parameter values on
the function or aggregate.</p>

<p>The xFunc (for scalar functions) or xStep (for aggregates) parameters
to <a href="#sqlite3_create_function">sqlite3_create_function()</a> and <a href="#sqlite3_create_function">sqlite3_create_function16()</a>
define callbacks that implement the SQL functions and aggregates.
The 4th parameter to these callbacks is an array of pointers to
<a href="#sqlite3_value">protected sqlite3_value</a> objects.  There is one <a href="#sqlite3_value">sqlite3_value</a> object for
each parameter to the SQL function.  These routines are used to
extract values from the <a href="#sqlite3_value">sqlite3_value</a> objects.</p>

<p>These routines work only with <a href="#sqlite3_value">protected sqlite3_value</a> objects.
Any attempt to use these routines on an <a href="#sqlite3_value">unprotected sqlite3_value</a>
object results in undefined behavior.</p>

<p>These routines work just like the corresponding <a href="#sqlite3_column_blob">column access functions</a>
except that  these routines take a single <a href="#sqlite3_value">protected sqlite3_value</a> object
pointer instead of a <a href="#sqlite3_stmt">sqlite3_stmt*</a> pointer and an integer column number.</p>

<p>The sqlite3_value_text16() interface extracts a UTF-16 string
in the native byte-order of the host machine.  The
sqlite3_value_text16be() and sqlite3_value_text16le() interfaces
extract UTF-16 strings as big-endian and little-endian respectively.</p>

<p>The sqlite3_value_numeric_type() interface attempts to apply
numeric affinity to the value.  This means that an attempt is
made to convert the value to an integer or floating point.  If
such a conversion is possible without loss of information (in other
words, if the value is a string that looks like a number)
then the conversion is performed.  Otherwise no conversion occurs.
The <a href="#SQLITE_BLOB">datatype</a> after conversion is returned.</p>

<p>Please pay particular attention to the fact that the pointer returned
from <a href="#sqlite3_value_blob">sqlite3_value_blob()</a>, <a href="#sqlite3_value_blob">sqlite3_value_text()</a>, or
<a href="#sqlite3_value_blob">sqlite3_value_text16()</a> can be invalidated by a subsequent call to
<a href="#sqlite3_value_blob">sqlite3_value_bytes()</a>, <a href="#sqlite3_value_blob">sqlite3_value_bytes16()</a>, <a href="#sqlite3_value_blob">sqlite3_value_text()</a>,
or <a href="#sqlite3_value_blob">sqlite3_value_text16()</a>.</p>

<p>These routines must be called from the same thread as
the SQL function that supplied the <a href="#sqlite3_value">sqlite3_value*</a> parameters.
</p><hr><a name="sqlite3_vfs_find"></a>
<h2>Virtual File System Objects</h2><blockquote><pre>sqlite3_vfs *sqlite3_vfs_find(const char *zVfsName);
int sqlite3_vfs_register(sqlite3_vfs*, int makeDflt);
int sqlite3_vfs_unregister(sqlite3_vfs*);
</pre></blockquote><p>
A virtual filesystem (VFS) is an <a href="#sqlite3_vfs">sqlite3_vfs</a> object
that SQLite uses to interact
with the underlying operating system.  Most SQLite builds come with a
single default VFS that is appropriate for the host computer.
New VFSes can be registered and existing VFSes can be unregistered.
The following interfaces are provided.</p>

<p>The sqlite3_vfs_find() interface returns a pointer to a VFS given its name.
Names are case sensitive.
Names are zero-terminated UTF-8 strings.
If there is no match, a NULL pointer is returned.
If zVfsName is NULL then the default VFS is returned.</p>

<p>New VFSes are registered with sqlite3_vfs_register().
Each new VFS becomes the default VFS if the makeDflt flag is set.
The same VFS can be registered multiple times without injury.
To make an existing VFS into the default VFS, register it again
with the makeDflt flag set.  If two different VFSes with the
same name are registered, the behavior is undefined.  If a
VFS is registered with a name that is NULL or an empty string,
then the behavior is undefined.</p>

<p>Unregister a VFS with the sqlite3_vfs_unregister() interface.
If the default VFS is unregistered, another VFS is chosen as
the default.  The choice for the new VFS is arbitrary.
</p><hr><a name="sqlite3_bind_blob"></a>
<h2>Binding Values To Prepared Statements</h2><blockquote><pre>int sqlite3_bind_blob(sqlite3_stmt*, int, const void*, int n, void(*)(void*));
int sqlite3_bind_double(sqlite3_stmt*, int, double);
int sqlite3_bind_int(sqlite3_stmt*, int, int);
int sqlite3_bind_int64(sqlite3_stmt*, int, sqlite3_int64);
int sqlite3_bind_null(sqlite3_stmt*, int);
int sqlite3_bind_text(sqlite3_stmt*, int, const char*, int n, void(*)(void*));
int sqlite3_bind_text16(sqlite3_stmt*, int, const void*, int, void(*)(void*));
int sqlite3_bind_value(sqlite3_stmt*, int, const sqlite3_value*);
int sqlite3_bind_zeroblob(sqlite3_stmt*, int, int n);
</pre></blockquote><p>
In the SQL statement text input to <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> and its variants,
literals may be replaced by a <a href="lang_expr.html#varparam">parameter</a> that matches one of following
templates:</p>

<p><ul>
<li>  ?
<li>  ?NNN
<li>  :VVV
<li>  @VVV
<li>  $VVV
</ul></p>

<p>In the templates above, NNN represents an integer literal,
and VVV represents an alphanumeric identifer.  The values of these
parameters (also called "host parameter names" or "SQL parameters")
can be set using the sqlite3_bind_*() routines defined here.</p>

<p>The first argument to the sqlite3_bind_*() routines is always
a pointer to the <a href="#sqlite3_stmt">sqlite3_stmt</a> object returned from
<a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or its variants.</p>

<p>The second argument is the index of the SQL parameter to be set.
The leftmost SQL parameter has an index of 1.  When the same named
SQL parameter is used more than once, second and subsequent
occurrences have the same index as the first occurrence.
The index for named parameters can be looked up using the
<a href="#sqlite3_bind_parameter_index">sqlite3_bind_parameter_index()</a> API if desired.  The index
for "?NNN" parameters is the value of NNN.
The NNN value must be between 1 and the <a href="#sqlite3_limit">sqlite3_limit()</a>
parameter <a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_VARIABLE_NUMBER</a> (default value: 999).</p>

<p>The third argument is the value to bind to the parameter.</p>

<p>In those routines that have a fourth argument, its value is the
number of bytes in the parameter.  To be clear: the value is the
number of <u>bytes</u> in the value, not the number of characters.
If the fourth parameter is negative, the length of the string is
the number of bytes up to the first zero terminator.</p>

<p>The fifth argument to sqlite3_bind_blob(), sqlite3_bind_text(), and
sqlite3_bind_text16() is a destructor used to dispose of the BLOB or
string after SQLite has finished with it. If the fifth argument is
the special value <a href="#SQLITE_STATIC">SQLITE_STATIC</a>, then SQLite assumes that the
information is in static, unmanaged space and does not need to be freed.
If the fifth argument has the value <a href="#SQLITE_STATIC">SQLITE_TRANSIENT</a>, then
SQLite makes its own private copy of the data immediately, before
the sqlite3_bind_*() routine returns.</p>

<p>The sqlite3_bind_zeroblob() routine binds a BLOB of length N that
is filled with zeroes.  A zeroblob uses a fixed amount of memory
(just an integer to hold its size) while it is being processed.
Zeroblobs are intended to serve as placeholders for BLOBs whose
content is later written using
<a href="#sqlite3_blob_open">incremental BLOB I/O</a> routines.
A negative value for the zeroblob results in a zero-length BLOB.</p>

<p>If any of the sqlite3_bind_*() routines are called with a NULL pointer
for the <a href="#sqlite3_stmt">prepared statement</a> or with a prepared statement for which
<a href="#sqlite3_step">sqlite3_step()</a> has been called more recently than <a href="#sqlite3_reset">sqlite3_reset()</a>,
then the call will return <a href="#SQLITE_ABORT">SQLITE_MISUSE</a>.  If any sqlite3_bind_()
routine is passed a <a href="#sqlite3_stmt">prepared statement</a> that has been finalized, the
result is undefined and probably harmful.</p>

<p>Bindings are not cleared by the <a href="#sqlite3_reset">sqlite3_reset()</a> routine.
Unbound parameters are interpreted as NULL.</p>

<p>The sqlite3_bind_* routines return <a href="#SQLITE_ABORT">SQLITE_OK</a> on success or an
<a href="#SQLITE_ABORT">error code</a> if anything goes wrong.
<a href="#SQLITE_ABORT">SQLITE_RANGE</a> is returned if the parameter
index is out of range.  <a href="#SQLITE_ABORT">SQLITE_NOMEM</a> is returned if malloc() fails.</p>

<p>See also: <a href="#sqlite3_bind_parameter_count">sqlite3_bind_parameter_count()</a>,
<a href="#sqlite3_bind_parameter_name">sqlite3_bind_parameter_name()</a>, and <a href="#sqlite3_bind_parameter_index">sqlite3_bind_parameter_index()</a>.
</p><hr><a name="sqlite3_prepare"></a>
<h2>Compiling An SQL Statement</h2><blockquote><pre>int sqlite3_prepare(
  sqlite3 *db,            /* Database handle */
  const char *zSql,       /* SQL statement, UTF-8 encoded */
  int nByte,              /* Maximum length of zSql in bytes. */
  sqlite3_stmt **ppStmt,  /* OUT: Statement handle */
  const char **pzTail     /* OUT: Pointer to unused portion of zSql */
);
int sqlite3_prepare_v2(
  sqlite3 *db,            /* Database handle */
  const char *zSql,       /* SQL statement, UTF-8 encoded */
  int nByte,              /* Maximum length of zSql in bytes. */
  sqlite3_stmt **ppStmt,  /* OUT: Statement handle */
  const char **pzTail     /* OUT: Pointer to unused portion of zSql */
);
int sqlite3_prepare16(
  sqlite3 *db,            /* Database handle */
  const void *zSql,       /* SQL statement, UTF-16 encoded */
  int nByte,              /* Maximum length of zSql in bytes. */
  sqlite3_stmt **ppStmt,  /* OUT: Statement handle */
  const void **pzTail     /* OUT: Pointer to unused portion of zSql */
);
int sqlite3_prepare16_v2(
  sqlite3 *db,            /* Database handle */
  const void *zSql,       /* SQL statement, UTF-16 encoded */
  int nByte,              /* Maximum length of zSql in bytes. */
  sqlite3_stmt **ppStmt,  /* OUT: Statement handle */
  const void **pzTail     /* OUT: Pointer to unused portion of zSql */
);
</pre></blockquote><p>
To execute an SQL query, it must first be compiled into a byte-code
program using one of these routines.</p>

<p>The first argument, "db", is a <a href="#sqlite3">database connection</a> obtained from a
prior successful call to <a href="#sqlite3_open">sqlite3_open()</a>, <a href="#sqlite3_open">sqlite3_open_v2()</a> or
<a href="#sqlite3_open">sqlite3_open16()</a>.  The database connection must not have been closed.</p>

<p>The second argument, "zSql", is the statement to be compiled, encoded
as either UTF-8 or UTF-16.  The sqlite3_prepare() and sqlite3_prepare_v2()
interfaces use UTF-8, and sqlite3_prepare16() and sqlite3_prepare16_v2()
use UTF-16.</p>

<p>If the nByte argument is less than zero, then zSql is read up to the
first zero terminator. If nByte is non-negative, then it is the maximum
number of  bytes read from zSql.  When nByte is non-negative, the
zSql string ends at either the first '\000' or '\u0000' character or
the nByte-th byte, whichever comes first. If the caller knows
that the supplied string is nul-terminated, then there is a small
performance advantage to be gained by passing an nByte parameter that
is equal to the number of bytes in the input string <i>including</i>
the nul-terminator bytes.</p>

<p>If pzTail is not NULL then *pzTail is made to point to the first byte
past the end of the first SQL statement in zSql.  These routines only
compile the first statement in zSql, so *pzTail is left pointing to
what remains uncompiled.</p>

<p>*ppStmt is left pointing to a compiled <a href="#sqlite3_stmt">prepared statement</a> that can be
executed using <a href="#sqlite3_step">sqlite3_step()</a>.  If there is an error, *ppStmt is set
to NULL.  If the input text contains no SQL (if the input is an empty
string or a comment) then *ppStmt is set to NULL.
The calling procedure is responsible for deleting the compiled
SQL statement using <a href="#sqlite3_finalize">sqlite3_finalize()</a> after it has finished with it.
ppStmt may not be NULL.</p>

<p>On success, the sqlite3_prepare() family of routines return <a href="#SQLITE_ABORT">SQLITE_OK</a>;
otherwise an <a href="#SQLITE_ABORT">error code</a> is returned.</p>

<p>The sqlite3_prepare_v2() and sqlite3_prepare16_v2() interfaces are
recommended for all new programs. The two older interfaces are retained
for backwards compatibility, but their use is discouraged.
In the "v2" interfaces, the prepared statement
that is returned (the <a href="#sqlite3_stmt">sqlite3_stmt</a> object) contains a copy of the
original SQL text. This causes the <a href="#sqlite3_step">sqlite3_step()</a> interface to
behave differently in three ways:</p>

<p><ol>
<li>
If the database schema changes, instead of returning <a href="#SQLITE_ABORT">SQLITE_SCHEMA</a> as it
always used to do, <a href="#sqlite3_step">sqlite3_step()</a> will automatically recompile the SQL
statement and try to run it again.  If the schema has changed in
a way that makes the statement no longer valid, <a href="#sqlite3_step">sqlite3_step()</a> will still
return <a href="#SQLITE_ABORT">SQLITE_SCHEMA</a>.  But unlike the legacy behavior, <a href="#SQLITE_ABORT">SQLITE_SCHEMA</a> is
now a fatal error.  Calling <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> again will not make the
error go away.  Note: use <a href="#sqlite3_errcode">sqlite3_errmsg()</a> to find the text
of the parsing error that results in an <a href="#SQLITE_ABORT">SQLITE_SCHEMA</a> return.
</li></p>

<p><li>
When an error occurs, <a href="#sqlite3_step">sqlite3_step()</a> will return one of the detailed
<a href="#SQLITE_ABORT">error codes</a> or <a href="#SQLITE_IOERR_ACCESS">extended error codes</a>.  The legacy behavior was that
<a href="#sqlite3_step">sqlite3_step()</a> would only return a generic <a href="#SQLITE_ABORT">SQLITE_ERROR</a> result code
and the application would have to make a second call to <a href="#sqlite3_reset">sqlite3_reset()</a>
in order to find the underlying cause of the problem. With the "v2" prepare
interfaces, the underlying reason for the error is returned immediately.
</li></p>

<p><li>
If the value of a <a href="lang_expr.html#varparam">host parameter</a> in the WHERE clause might
change the query plan for a statement, then the statement may be
automatically recompiled (as if there had been a schema change) on the first
<a href="#sqlite3_step">sqlite3_step()</a> call following any change to the
<a href="#sqlite3_bind_blob">bindings</a> of the <a href="lang_expr.html#varparam">parameter</a>.
</li>
</ol>
</p><hr><a name="sqlite3_create_function"></a>
<h2>Create Or Redefine SQL Functions</h2><blockquote><pre>int sqlite3_create_function(
  sqlite3 *db,
  const char *zFunctionName,
  int nArg,
  int eTextRep,
  void *pApp,
  void (*xFunc)(sqlite3_context*,int,sqlite3_value**),
  void (*xStep)(sqlite3_context*,int,sqlite3_value**),
  void (*xFinal)(sqlite3_context*)
);
int sqlite3_create_function16(
  sqlite3 *db,
  const void *zFunctionName,
  int nArg,
  int eTextRep,
  void *pApp,
  void (*xFunc)(sqlite3_context*,int,sqlite3_value**),
  void (*xStep)(sqlite3_context*,int,sqlite3_value**),
  void (*xFinal)(sqlite3_context*)
);
</pre></blockquote><p>
These two functions (collectively known as "function creation routines")
are used to add SQL functions or aggregates or to redefine the behavior
of existing SQL functions or aggregates.  The only difference between the
two is that the second parameter, the name of the (scalar) function or
aggregate, is encoded in UTF-8 for sqlite3_create_function() and UTF-16
for sqlite3_create_function16().</p>

<p>The first parameter is the <a href="#sqlite3">database connection</a> to which the SQL
function is to be added.  If an application uses more than one database
connection then application-defined SQL functions must be added
to each database connection separately.</p>

<p>The second parameter is the name of the SQL function to be created or
redefined.  The length of the name is limited to 255 bytes, exclusive of
the zero-terminator.  Note that the name length limit is in bytes, not
characters.  Any attempt to create a function with a longer name
will result in <a href="#SQLITE_ABORT">SQLITE_ERROR</a> being returned.</p>

<p>The third parameter (nArg)
is the number of arguments that the SQL function or
aggregate takes. If this parameter is -1, then the SQL function or
aggregate may take any number of arguments between 0 and the limit
set by <a href="#sqlite3_limit">sqlite3_limit</a>(<a href="#SQLITE_LIMIT_ATTACHED">SQLITE_LIMIT_FUNCTION_ARG</a>).  If the third
parameter is less than -1 or greater than 127 then the behavior is
undefined.</p>

<p>The fourth parameter, eTextRep, specifies what
<a href="#SQLITE_ANY">text encoding</a> this SQL function prefers for
its parameters.  Any SQL function implementation should be able to work
work with UTF-8, UTF-16le, or UTF-16be.  But some implementations may be
more efficient with one encoding than another.  An application may
invoke sqlite3_create_function() or sqlite3_create_function16() multiple
times with the same function but with different values of eTextRep.
When multiple implementations of the same function are available, SQLite
will pick the one that involves the least amount of data conversion.
If there is only a single implementation which does not care what text
encoding is used, then the fourth argument should be <a href="#SQLITE_ANY">SQLITE_ANY</a>.</p>

<p>The fifth parameter is an arbitrary pointer.  The implementation of the
function can gain access to this pointer using <a href="#sqlite3_user_data">sqlite3_user_data()</a>.</p>

<p>The seventh, eighth and ninth parameters, xFunc, xStep and xFinal, are
pointers to C-language functions that implement the SQL function or
aggregate. A scalar SQL function requires an implementation of the xFunc
callback only; NULL pointers should be passed as the xStep and xFinal
parameters. An aggregate SQL function requires an implementation of xStep
and xFinal and NULL should be passed for xFunc. To delete an existing
SQL function or aggregate, pass NULL for all three function callbacks.</p>

<p>It is permitted to register multiple implementations of the same
functions with the same name but with either differing numbers of
arguments or differing preferred text encodings.  SQLite will use
the implementation that most closely matches the way in which the
SQL function is used.  A function implementation with a non-negative
nArg parameter is a better match than a function implementation with
a negative nArg.  A function where the preferred text encoding
matches the database encoding is a better
match than a function where the encoding is different.
A function where the encoding difference is between UTF16le and UTF16be
is a closer match than a function where the encoding difference is
between UTF8 and UTF16.</p>

<p>Built-in functions may be overloaded by new application-defined functions.
The first application-defined function with a given name overrides all
built-in functions in the same <a href="#sqlite3">database connection</a> with the same name.
Subsequent application-defined functions of the same name only override
prior application-defined functions that are an exact match for the
number of parameters and preferred encoding.</p>

<p>An application-defined function is permitted to call other
SQLite interfaces.  However, such calls must not
close the database connection nor finalize or reset the prepared
statement in which the function is running.
</p><hr><a name="sqlite3_get_autocommit"></a>
<h2>Test For Auto-Commit Mode</h2><blockquote><pre>int sqlite3_get_autocommit(sqlite3*);
</pre></blockquote><p>
The sqlite3_get_autocommit() interface returns non-zero or
zero if the given database connection is or is not in autocommit mode,
respectively.  Autocommit mode is on by default.
Autocommit mode is disabled by a <a href="lang_transaction.html">BEGIN</a> statement.
Autocommit mode is re-enabled by a <a href="lang_transaction.html">COMMIT</a> or <a href="lang_transaction.html">ROLLBACK</a>.</p>

<p>If certain kinds of errors occur on a statement within a multi-statement
transaction (errors including <a href="#SQLITE_ABORT">SQLITE_FULL</a>, <a href="#SQLITE_ABORT">SQLITE_IOERR</a>,
<a href="#SQLITE_ABORT">SQLITE_NOMEM</a>, <a href="#SQLITE_ABORT">SQLITE_BUSY</a>, and <a href="#SQLITE_ABORT">SQLITE_INTERRUPT</a>) then the
transaction might be rolled back automatically.  The only way to
find out whether SQLite automatically rolled back the transaction after
an error is to use this function.</p>

<p>If another thread changes the autocommit status of the database
connection while this routine is running, then the return value
is undefined.
</p><hr><a name="sqlite3_column_blob"></a>
<h2>Result Values From A Query</h2><blockquote><pre>const void *sqlite3_column_blob(sqlite3_stmt*, int iCol);
int sqlite3_column_bytes(sqlite3_stmt*, int iCol);
int sqlite3_column_bytes16(sqlite3_stmt*, int iCol);
double sqlite3_column_double(sqlite3_stmt*, int iCol);
int sqlite3_column_int(sqlite3_stmt*, int iCol);
sqlite3_int64 sqlite3_column_int64(sqlite3_stmt*, int iCol);
const unsigned char *sqlite3_column_text(sqlite3_stmt*, int iCol);
const void *sqlite3_column_text16(sqlite3_stmt*, int iCol);
int sqlite3_column_type(sqlite3_stmt*, int iCol);
sqlite3_value *sqlite3_column_value(sqlite3_stmt*, int iCol);
</pre></blockquote><p>
These routines form the "result set" interface.</p>

<p>These routines return information about a single column of the current
result row of a query.  In every case the first argument is a pointer
to the <a href="#sqlite3_stmt">prepared statement</a> that is being evaluated (the <a href="#sqlite3_stmt">sqlite3_stmt*</a>
that was returned from <a href="#sqlite3_prepare">sqlite3_prepare_v2()</a> or one of its variants)
and the second argument is the index of the column for which information
should be returned. The leftmost column of the result set has the index 0.
The number of columns in the result can be determined using
<a href="#sqlite3_column_count">sqlite3_column_count()</a>.</p>

<p>If the SQL statement does not currently point to a valid row, or if the
column index is out of range, the result is undefined.
These routines may only be called when the most recent call to
<a href="#sqlite3_step">sqlite3_step()</a> has returned <a href="#SQLITE_ABORT">SQLITE_ROW</a> and neither
<a href="#sqlite3_reset">sqlite3_reset()</a> nor <a href="#sqlite3_finalize">sqlite3_finalize()</a> have been called subsequently.
If any of these routines are called after <a href="#sqlite3_reset">sqlite3_reset()</a> or
<a href="#sqlite3_finalize">sqlite3_finalize()</a> or after <a href="#sqlite3_step">sqlite3_step()</a> has returned
something other than <a href="#SQLITE_ABORT">SQLITE_ROW</a>, the results are undefined.
If <a href="#sqlite3_step">sqlite3_step()</a> or <a href="#sqlite3_reset">sqlite3_reset()</a> or <a href="#sqlite3_finalize">sqlite3_finalize()</a>
are called from a different thread while any of these routines
are pending, then the results are undefined.</p>

<p>The sqlite3_column_type() routine returns the
<a href="#SQLITE_BLOB">datatype code</a> for the initial data type
of the result column.  The returned value is one of <a href="#SQLITE_BLOB">SQLITE_INTEGER</a>,
<a href="#SQLITE_BLOB">SQLITE_FLOAT</a>, <a href="#SQLITE_BLOB">SQLITE_TEXT</a>, <a href="#SQLITE_BLOB">SQLITE_BLOB</a>, or <a href="#SQLITE_BLOB">SQLITE_NULL</a>.  The value
returned by sqlite3_column_type() is only meaningful if no type
conversions have occurred as described below.  After a type conversion,
the value returned by sqlite3_column_type() is undefined.  Future
versions of SQLite may change the behavior of sqlite3_column_type()
following a type conversion.</p>

<p>If the result is a BLOB or UTF-8 string then the sqlite3_column_bytes()
routine returns the number of bytes in that BLOB or string.
If the result is a UTF-16 string, then sqlite3_column_bytes() converts
the string to UTF-8 and then returns the number of bytes.
If the result is a numeric value then sqlite3_column_bytes() uses
<a href="#sqlite3_mprintf">sqlite3_snprintf()</a> to convert that value to a UTF-8 string and returns
the number of bytes in that string.
The value returned does not include the zero terminator at the end
of the string.  For clarity: the value returned is the number of
bytes in the string, not the number of characters.</p>

<p>Strings returned by sqlite3_column_text() and sqlite3_column_text16(),
even empty strings, are always zero terminated.  The return
value from sqlite3_column_blob() for a zero-length BLOB is an arbitrary
pointer, possibly even a NULL pointer.</p>

<p>The sqlite3_column_bytes16() routine is similar to sqlite3_column_bytes()
but leaves the result in UTF-16 in native byte order instead of UTF-8.
The zero terminator is not included in this count.</p>

<p>The object returned by <a href="#sqlite3_column_blob">sqlite3_column_value()</a> is an
<a href="#sqlite3_value">unprotected sqlite3_value</a> object.  An unprotected sqlite3_value object
may only be used with <a href="#sqlite3_bind_blob">sqlite3_bind_value()</a> and <a href="#sqlite3_result_blob">sqlite3_result_value()</a>.
If the <a href="#sqlite3_value">unprotected sqlite3_value</a> object returned by
<a href="#sqlite3_column_blob">sqlite3_column_value()</a> is used in any other way, including calls
to routines like <a href="#sqlite3_value_blob">sqlite3_value_int()</a>, <a href="#sqlite3_value_blob">sqlite3_value_text()</a>,
or <a href="#sqlite3_value_blob">sqlite3_value_bytes()</a>, then the behavior is undefined.</p>

<p>These routines attempt to convert the value where appropriate.  For
example, if the internal representation is FLOAT and a text result
is requested, <a href="#sqlite3_mprintf">sqlite3_snprintf()</a> is used internally to perform the
conversion automatically.  The following table details the conversions
that are applied:</p>

<p><blockquote>
<table border="1">
<tr><th> Internal<br>Type <th> Requested<br>Type <th>  Conversion</p>

<p><tr><td>  NULL    <td> INTEGER   <td> Result is 0
<tr><td>  NULL    <td>  FLOAT    <td> Result is 0.0
<tr><td>  NULL    <td>   TEXT    <td> Result is NULL pointer
<tr><td>  NULL    <td>   BLOB    <td> Result is NULL pointer
<tr><td> INTEGER  <td>  FLOAT    <td> Convert from integer to float
<tr><td> INTEGER  <td>   TEXT    <td> ASCII rendering of the integer
<tr><td> INTEGER  <td>   BLOB    <td> Same as INTEGER->TEXT
<tr><td>  FLOAT   <td> INTEGER   <td> Convert from float to integer
<tr><td>  FLOAT   <td>   TEXT    <td> ASCII rendering of the float
<tr><td>  FLOAT   <td>   BLOB    <td> Same as FLOAT->TEXT
<tr><td>  TEXT    <td> INTEGER   <td> Use atoi()
<tr><td>  TEXT    <td>  FLOAT    <td> Use atof()
<tr><td>  TEXT    <td>   BLOB    <td> No change
<tr><td>  BLOB    <td> INTEGER   <td> Convert to TEXT then use atoi()
<tr><td>  BLOB    <td>  FLOAT    <td> Convert to TEXT then use atof()
<tr><td>  BLOB    <td>   TEXT    <td> Add a zero terminator if needed
</table>
</blockquote></p>

<p>The table above makes reference to standard C library functions atoi()
and atof().  SQLite does not really use these functions.  It has its
own equivalent internal routines.  The atoi() and atof() names are
used in the table for brevity and because they are familiar to most
C programmers.</p>

<p>Note that when type conversions occur, pointers returned by prior
calls to sqlite3_column_blob(), sqlite3_column_text(), and/or
sqlite3_column_text16() may be invalidated.
Type conversions and pointer invalidations might occur
in the following cases:</p>

<p><ul>
<li> The initial content is a BLOB and sqlite3_column_text() or
sqlite3_column_text16() is called.  A zero-terminator might
need to be added to the string.</li>
<li> The initial content is UTF-8 text and sqlite3_column_bytes16() or
sqlite3_column_text16() is called.  The content must be converted
to UTF-16.</li>
<li> The initial content is UTF-16 text and sqlite3_column_bytes() or
sqlite3_column_text() is called.  The content must be converted
to UTF-8.</li>
</ul></p>

<p>Conversions between UTF-16be and UTF-16le are always done in place and do
not invalidate a prior pointer, though of course the content of the buffer
that the prior pointer points to will have been modified.  Other kinds
of conversion are done in place when it is possible, but sometimes they
are not possible and in those cases prior pointers are invalidated.</p>

<p>The safest and easiest to remember policy is to invoke these routines
in one of the following ways:</p>

<p><ul>
<li>sqlite3_column_text() followed by sqlite3_column_bytes()</li>
<li>sqlite3_column_blob() followed by sqlite3_column_bytes()</li>
<li>sqlite3_column_text16() followed by sqlite3_column_bytes16()</li>
</ul></p>

<p>In other words, you should call sqlite3_column_text(),
sqlite3_column_blob(), or sqlite3_column_text16() first to force the result
into the desired format, then invoke sqlite3_column_bytes() or
sqlite3_column_bytes16() to find the size of the result.  Do not mix calls
to sqlite3_column_text() or sqlite3_column_blob() with calls to
sqlite3_column_bytes16(), and do not mix calls to sqlite3_column_text16()
with calls to sqlite3_column_bytes().</p>

<p>The pointers returned are valid until a type conversion occurs as
described above, or until <a href="#sqlite3_step">sqlite3_step()</a> or <a href="#sqlite3_reset">sqlite3_reset()</a> or
<a href="#sqlite3_finalize">sqlite3_finalize()</a> is called.  The memory space used to hold strings
and BLOBs is freed automatically.  Do <b>not</b> pass the pointers returned
<a href="#sqlite3_column_blob">sqlite3_column_blob()</a>, <a href="#sqlite3_column_blob">sqlite3_column_text()</a>, etc. into
<a href="#sqlite3_free">sqlite3_free()</a>.</p>

<p>If a memory allocation error occurs during the evaluation of any
of these routines, a default value is returned.  The default value
is either the integer 0, the floating point number 0.0, or a NULL
pointer.  Subsequent calls to <a href="#sqlite3_errcode">sqlite3_errcode()</a> will return
<a href="#SQLITE_ABORT">SQLITE_NOMEM</a>.
</p><hr><a name="sqlite3_enable_shared_cache"></a>
<h2>Enable Or Disable Shared Pager Cache</h2><blockquote><pre>int sqlite3_enable_shared_cache(int);
</pre></blockquote><p>
This routine enables or disables the sharing of the database cache
and schema data structures between <a href="#sqlite3">connections</a>
to the same database. Sharing is enabled if the argument is true
and disabled if the argument is false.</p>

<p>Cache sharing is enabled and disabled for an entire process.
This is a change as of SQLite version 3.5.0. In prior versions of SQLite,
sharing was enabled or disabled for each thread separately.</p>

<p>The cache sharing mode set by this interface effects all subsequent
calls to <a href="#sqlite3_open">sqlite3_open()</a>, <a href="#sqlite3_open">sqlite3_open_v2()</a>, and <a href="#sqlite3_open">sqlite3_open16()</a>.
Existing database connections continue use the sharing mode
that was in effect at the time they were opened.</p>

<p>This routine returns <a href="#SQLITE_ABORT">SQLITE_OK</a> if shared cache was enabled or disabled
successfully.  An <a href="#SQLITE_ABORT">error code</a> is returned otherwise.</p>

<p>Shared cache is disabled by default. But this might change in
future releases of SQLite.  Applications that care about shared
cache setting should set it explicitly.</p>

<p>See Also:  <a href="sharedcache.html">SQLite Shared-Cache Mode</a>
</p><hr>

