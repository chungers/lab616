<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QuickFIX: FIX::IntConvertor Struct Reference</title>
<link href="quickfix.css" rel="stylesheet" type="text/css">
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td>
	<img src="images/QuickFIX.jpg" align="middle" border=0>
	&nbsp;&nbsp;
	<a href="index.html">Index</a>&nbsp;
	<a href="files.html">Source Files</a>&nbsp;
	<a href="annotated.html">Annotated Class List</a>&nbsp;
	<a href="classes.html">Alphabetical Class List</a>&nbsp;
	<a href="hierarchy.html">Class Hierarchy</a>&nbsp;
	<a href="inherits.html">Graphical Class Hierarchy</a>&nbsp;
   </td>
  </tr>
</table>
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.6.1 -->
  <div class="navpath"><a class="el" href="namespace_f_i_x.html">FIX</a>::<a class="el" href="struct_f_i_x_1_1_int_convertor.html">IntConvertor</a>
  </div>
<div class="contents">
<h1>FIX::IntConvertor Struct Reference</h1><!-- doxytag: class="FIX::IntConvertor" -->
<p>Converts integer to/from a string.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_field_convertors_8h_source.html">FieldConvertors.h</a>&gt;</code></p>

<p><a href="struct_f_i_x_1_1_int_convertor-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_i_x_1_1_int_convertor.html#a4622a9856df1cda61d637e6551da7ba7">convert</a> (long value)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_i_x_1_1_int_convertor.html#a5fefe483b1554e226369d16bcf213733">convert</a> (const std::string &amp;value, long &amp;result)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_f_i_x_1_1_int_convertor.html#ab4a7ac177ab4ad049b5cc3e3c533953c">convert</a> (const std::string &amp;value)  throw ( FieldConvertError )</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Converts integer to/from a string. </p>

<p>Definition at line <a class="el" href="_field_convertors_8h_source.html#l00124">124</a> of file <a class="el" href="_field_convertors_8h_source.html">FieldConvertors.h</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab4a7ac177ab4ad049b5cc3e3c533953c"></a><!-- doxytag: member="FIX::IntConvertor::convert" ref="ab4a7ac177ab4ad049b5cc3e3c533953c" args="(const std::string &amp;value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static long FIX::IntConvertor::convert </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw ( <a class="el" href="struct_f_i_x_1_1_field_convert_error.html">FieldConvertError</a> )<code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_field_convertors_8h_source.html#l00162">162</a> of file <a class="el" href="_field_convertors_8h_source.html">FieldConvertors.h</a>.</p>

<p>References <a class="el" href="_field_convertors_8h_source.html#l00126">convert()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00164"></a>00164   {
<a name="l00165"></a>00165     <span class="keywordtype">long</span> result = 0;
<a name="l00166"></a>00166     <span class="keywordflow">if</span>( !<a class="code" href="struct_f_i_x_1_1_int_convertor.html#a4622a9856df1cda61d637e6551da7ba7">convert</a>( value, result ) )
<a name="l00167"></a>00167       <span class="keywordflow">throw</span> FieldConvertError();
<a name="l00168"></a>00168     <span class="keywordflow">else</span>
<a name="l00169"></a>00169       <span class="keywordflow">return</span> result;
<a name="l00170"></a>00170   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5fefe483b1554e226369d16bcf213733"></a><!-- doxytag: member="FIX::IntConvertor::convert" ref="a5fefe483b1554e226369d16bcf213733" args="(const std::string &amp;value, long &amp;result)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool FIX::IntConvertor::convert </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long &amp;&nbsp;</td>
          <td class="paramname"> <em>result</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_field_convertors_8h_source.html#l00136">136</a> of file <a class="el" href="_field_convertors_8h_source.html">FieldConvertors.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00137"></a>00137   {
<a name="l00138"></a>00138     <span class="keyword">const</span> <span class="keywordtype">char</span>* str = value.c_str();
<a name="l00139"></a>00139     <span class="keywordtype">bool</span> isNegative = <span class="keyword">false</span>;
<a name="l00140"></a>00140     <span class="keywordtype">long</span> x = 0;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <span class="keywordflow">if</span>( *str == <span class="charliteral">&apos;-&apos;</span> )
<a name="l00143"></a>00143     {
<a name="l00144"></a>00144       isNegative = <span class="keyword">true</span>;
<a name="l00145"></a>00145       ++str;
<a name="l00146"></a>00146     }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="keywordflow">do</span>
<a name="l00149"></a>00149     {
<a name="l00150"></a>00150       <span class="keyword">const</span> <span class="keywordtype">int</span> c = *str - <span class="charliteral">&apos;0&apos;</span>;
<a name="l00151"></a>00151       <span class="keywordflow">if</span>( c &lt; 0 || 9 &lt; c ) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00152"></a>00152       x = 10 * x + c;
<a name="l00153"></a>00153     } <span class="keywordflow">while</span> (*++str);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155     <span class="keywordflow">if</span>( isNegative )
<a name="l00156"></a>00156       x = -x;
<a name="l00157"></a>00157 
<a name="l00158"></a>00158     result = x;
<a name="l00159"></a>00159     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00160"></a>00160   }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4622a9856df1cda61d637e6551da7ba7"></a><!-- doxytag: member="FIX::IntConvertor::convert" ref="a4622a9856df1cda61d637e6551da7ba7" args="(long value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static std::string FIX::IntConvertor::convert </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>value</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_field_convertors_8h_source.html#l00126">126</a> of file <a class="el" href="_field_convertors_8h_source.html">FieldConvertors.h</a>.</p>

<p>References <a class="el" href="_field_convertors_8h_source.html#l00037">FIX::integer_to_string()</a>.</p>

<p>Referenced by <a class="el" href="_field_8h_source.html#l00102">FIX::FieldBase::calculate()</a>, <a class="el" href="_data_dictionary_8h_source.html#l00433">FIX::DataDictionary::checkGroupCount()</a>, <a class="el" href="_data_dictionary_8h_source.html#l00328">FIX::DataDictionary::checkValidFormat()</a>, <a class="el" href="_field_convertors_8h_source.html#l00162">convert()</a>, <a class="el" href="_threaded_socket_initiator_8cpp_source.html#l00145">FIX::ThreadedSocketInitiator::doConnect()</a>, <a class="el" href="_socket_initiator_8cpp_source.html#l00139">FIX::SocketInitiator::doConnect()</a>, <a class="el" href="_session_8cpp_source.html#l01225">FIX::Session::doTargetTooHigh()</a>, <a class="el" href="_parser_8cpp_source.html#l00034">FIX::Parser::extractLength()</a>, <a class="el" href="_session_8cpp_source.html#l00920">FIX::Session::generateBusinessReject()</a>, <a class="el" href="_session_8cpp_source.html#l00791">FIX::Session::generateReject()</a>, <a class="el" href="_session_8cpp_source.html#l00699">FIX::Session::generateResendRequest()</a>, <a class="el" href="_session_8cpp_source.html#l00725">FIX::Session::generateSequenceReset()</a>, <a class="el" href="_dictionary_8cpp_source.html#l00049">FIX::Dictionary::getLong()</a>, <a class="el" href="_session_8cpp_source.html#l01266">FIX::Session::nextQueued()</a>, <a class="el" href="_session_8cpp_source.html#l00373">FIX::Session::nextResendRequest()</a>, <a class="el" href="_session_8cpp_source.html#l00342">FIX::Session::nextSequenceReset()</a>, <a class="el" href="_threaded_socket_acceptor_8cpp_source.html#l00074">FIX::ThreadedSocketAcceptor::onInitialize()</a>, <a class="el" href="_socket_acceptor_8cpp_source.html#l00076">FIX::SocketAcceptor::onInitialize()</a>, <a class="el" href="_http_server_8cpp_source.html#l00077">FIX::HttpServer::onInitialize()</a>, <a class="el" href="_http_connection_8cpp_source.html#l00454">FIX::HttpConnection::processSession()</a>, <a class="el" href="_dictionary_8cpp_source.html#l00139">FIX::Dictionary::setLong()</a>, and <a class="el" href="_session_8cpp_source.html#l01027">FIX::Session::verify()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00127"></a>00127   {
<a name="l00128"></a>00128     <span class="comment">// buffer is big enough for significant digits and extra digit,</span>
<a name="l00129"></a>00129     <span class="comment">// minus and null</span>
<a name="l00130"></a>00130     <span class="keywordtype">char</span> buffer[std::numeric_limits&lt;long&gt;::digits10 + 3];
<a name="l00131"></a>00131     <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> start
<a name="l00132"></a>00132       = <a class="code" href="namespace_f_i_x.html#a47bcdb4c8a668ab3b93b10306b139994">integer_to_string</a>( buffer, <span class="keyword">sizeof</span> (buffer), value );
<a name="l00133"></a>00133     <span class="keywordflow">return</span> std::string( start, buffer + <span class="keyword">sizeof</span> (buffer) - start - 1 );
<a name="l00134"></a>00134   }
</pre></div></p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>/home/omiller/Development/autobuild/quickfix/src/C++/<a class="el" href="_field_convertors_8h_source.html">FieldConvertors.h</a></li>
</ul>
</div>
<hr><address><small>
Generated on Mon Apr 5 21:00:04 2010 for QuickFIX by <a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 width=110 height=53>
</a> 1.6.1 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
